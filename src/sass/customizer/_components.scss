/**
 * Section
 */

#customize-theme-controls,
#customize-outer-theme-controls {
	.accordion-section-title {
		border-top: 1px solid #ddd;
		margin-top: -1px;
	}
}

#accordion-section-themes + .control-section,
#customize-theme-controls .control-panel-content:not(.control-panel-nav_menus) .control-section:nth-child(2), #customize-theme-controls .control-panel-nav_menus .control-section-nav_menu, #customize-theme-controls .control-section-nav_menu_locations .accordion-section-title {
	border-top: none;
}

div.customize-section-description {
	margin: 0 -12px;
	padding: 12px 15px;
	background-color: #fff;
	border-bottom: 1px solid #ddd;
}

/**
 * Control
 */

.customize-control {
	position: relative;
	margin-bottom: 15px;

	&, *, *:before, *:after {
		box-sizing: border-box;
	}

	.components-base-control__field {
		margin-bottom: 0;
	}

	.customize-control-notifications-container:empty {
		display: none;
	}
}

/**
 * Control's component
 */

:is( .components-input-control, .components-select-control ) {
	gap: 2px;

	> .components-flex-item {
		label {
			font-size: 9px;
			text-transform: uppercase;
			margin: 0 !important;
		}

		&:empty {
			display: none;
		}
	}
}

/**
 * Icon
 */

.suki-icon {
	display: inline-block;
	width: 1em;
	height: 1em;
	line-height: 1;
	text-align: center;

	svg {
		display: inline-block;
		width: 100%;
		height: 100%;
		vertical-align: top;

		&:not([stroke-width]) {
			stroke-width: 0;
		}

		&:not([stroke]) {
			stroke: currentColor;
		}

		&:not([fill]) {
			fill: currentColor;
		}
	}
}

/**
 * Button
 */

.button {
	.dashicons {
		width: auto;
		height: auto;
		margin-top: -0.1em;
		margin-inline-end: 0.25em;
		font-size: 1.2em;
		line-height: 1;
		vertical-align: middle;
	}
}

/**
 * SelectControl
 */

.components-select-control__input {
	line-height: normal !important;
}

/**
 * Label
 */

.customize-control-title {
	display: inline-flex;
	align-items: center;
}

/**
 * Control content box
 */

.suki-control-content-box {
	background-color: #ffffff;
	padding: 12px;
	border-radius: 2px;
	box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
}

/**
 * Dimension
 */

.suki-dimension {
	input {
		text-align: right;
	}

	> .components-flex-item {
		width: 100%;
		max-width: none;
	}
}

/**
 * React colorful
 */

.components-color-picker {
	.react-colorful {
		width: 275px !important; // Force the color picker to use parent's width

		&__hue,
		&__alpha {
			width: 100% !important;
		}

		&__saturation {
			height: 155px !important;
		}

		& + div {
			padding: 0;
			margin-top: 4px;

			> .components-spacer {
				margin: 8px 0 0; // Same width default `spacing` attribute (2 x 4px)

				&:last-child {
					display: none;
				}
			}

			.components-input-control__input {
				height: 30px !important; // Override
			}
		}
	}
}

/**
 * Color select dropdown
 */

.suki-color-dropdown {
	~ .popover-slot .components-popover__content > div {
		padding: 12px;
	}

	&__toggle {
		position: relative;
		display: block;
		width: 36px;
		height: 24px;
		padding: 2px !important; // Override button CSS

		&:before {
			content: "";
			position: absolute;
			inset: 2px;
			border-radius: inherit;
			background: url('data:image/svg+xml,%3Csvg width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M6 8V6H4v2h2zM8 8V6h2v2H8zM10 16H8v-2h2v2zM12 16v-2h2v2h-2zM12 18v-2h-2v2H8v2h2v-2h2zM14 18v2h-2v-2h2zM16 18h-2v-2h2v2z" fill="%23555D65"/%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" d="M18 18h2v-2h-2v-2h2v-2h-2v-2h2V8h-2v2h-2V8h-2v2h2v2h-2v2h2v2h2v2zm-2-4v-2h2v2h-2z" fill="%23555D65"/%3E%3Cpath d="M18 18v2h-2v-2h2z" fill="%23555D65"/%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" d="M8 10V8H6v2H4v2h2v2H4v2h2v2H4v2h2v2H4v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2V8h-2V6h2V4h-2v2h-2V4h-2v2h-2V4h-2v2h-2V4h-2v2h2v2h-2v2H8zm0 2v-2H6v2h2zm2 0v-2h2v2h-2zm0 2v-2H8v2H6v2h2v2H6v2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2V8h-2V6h-2v2h-2V6h-2v2h-2v2h2v2h-2v2h-2z" fill="%23555D65"/%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" d="M4 0H2v2H0v2h2v2H0v2h2v2H0v2h2v2H0v2h2v2H0v2h2v2H0v2h2v2H0v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2V8h-2V6h2V4h-2V2h2V0h-2v2h-2V0h-2v2h-2V0h-2v2h-2V0h-2v2h-2V0h-2v2H8V0H6v2H4V0zm0 4V2H2v2h2zm2 0V2h2v2H6zm0 2V4H4v2H2v2h2v2H2v2h2v2H2v2h2v2H2v2h2v2H2v2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h2v2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2V8h-2V6h2V4h-2V2h-2v2h-2V2h-2v2h-2V2h-2v2h-2V2h-2v2H8v2H6z" fill="%23555D65"/%3E%3C/svg%3E')
		}
	}

	.suki-color-indicator {
		position: absolute;
		inset: 2px;
		width: calc( 100% - 4px );
    	height: calc( 100% - 4px );
		margin: 0; // Reset
		border: none; // Reset
		border-radius: inherit;
		box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
		background: linear-gradient( 330deg, #fff calc( 50% - 1px ), #ddd calc( 50% - 1px ), #ddd calc( 50% + 1px ), #fff calc( 50% - 1px ) );

		&--linked {
			&:after {
				content: "\f103";
				position: absolute;
				bottom: 1px;
				right: 1px;
				display: flex;
				height: 18px;
				width: 18px;
				padding: 1px;
				align-items: flex-end;
				justify-content: flex-end;
				font-family: "dashicons";
				font-size: 10px;
				line-height: 1;
				color: rgba(0,0,0,0.5);
				background-image: linear-gradient( 135deg, rgba(255,255,255,0) 50%, rgba(255,255,255,1) 50% );
			}
		}
	}

	&__palette {
		.components-circular-option-picker__swatches {
			gap: 6px;
		}

		.components-circular-option-picker__option {
			&-wrapper {
				width: 24px;
				height: 24px;
			}

			&:focus:after {
				width: 28px;
				height: 28px;
			}

			&.is-pressed + svg {
				top: 0;
				left: 0;
				width: 14px;
				height: 14px;
				margin: 5px;
				background-color: rgba(0,0,0,0.5);
				fill: #fff;
			}
		}
	}

	&__custom {
		padding-left: 8px; // Same width default `spacing` attribute (2 x 4px)
		border-left: 1px solid rgba(0,0,0,0.2);

		&__toggle {
			padding: 2px !important;
			width: 24px !important;
			min-width: auto !important; // Reset
			border-radius: 50%;
			transition: transform 100ms ease;

			.dashicons {
				font-size: 14px;
				line-height: 20px;
				margin: 0 !important; // Reset
			}

			&:hover {
				transform: scale( 1.2 );
			}
		}
	}

	&__picker {
		width: 100% !important;
	}
}

/**
 * Responsive container
 */

.suki-responsive-container {
	&:not([data-device="global"]) {
		display: none;
	}

	&[data-device="desktop"] {
		.preview-desktop & {
			display: revert;
		}
	}

	&[data-device="tablet"] {
		.preview-tablet & {
			display: revert;
		}
	}

	&[data-device="mobile"] {
		.preview-mobile & {
			display: revert;
		}
	}
}

/**
 * Responsive switcher
 */

.suki-responsive-switcher {
	display: inline-flex;
	gap: 4px;
	vertical-align: middle;

	.customize-control-title & {
		margin-inline-start: 12px;
	}

	.suki-responsive-switcher__button {
		min-width: auto; // Reset
		width: auto !important; // Reset
		height: auto; // Reset
		padding: 0 !important; // Reset
		border: none; // Reset
		color: inherit !important; // Reset
		background: transparent !important; // Reset
		box-shadow: none;
		opacity: 0.4;
		vertical-align: middle;

		&[data-device="desktop"] {
			.preview-desktop & {
				opacity: 0.8;
			}
		}

		&[data-device="tablet"] {
			.preview-tablet & {
				opacity: 0.8;
			}
		}

		&[data-device="mobile"] {
			.preview-mobile & {
				opacity: 0.8;
			}
		}

		.dashicons {
			font-size: 14px;
			width: auto;
			height: auto;
			margin: 0;
			line-height: 1;
			vertical-align: middle;
		}
	}
}

/**
 * Mega Menu settings popup on Suki Pro
 */

.modal-open {
	#TB_overlay, #TB_window {
		z-index: 500001;
	}
}
