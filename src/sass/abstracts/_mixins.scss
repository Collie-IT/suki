// Global variables
@mixin global-variables() {
	// Color palette (default)
	--color-palette-1: #222222;
	--color-palette-2: #444444;
	--color-palette-3: #666666;
	--color-palette-4: #0055cc;
	--color-palette-5: #004099;
	--color-palette-6: #cccccc;
	--color-palette-7: #f3f3f3;
	--color-palette-8: #ffffff;

	// Scope colors
	--text-color: var(--color-palette-2);
	--border-color: var(--color-palette-6);
	--background-color: var(--color-palette-8);
	--subtle-background-color: var(--color-palette-7);
	--heading-color: var(--color-palette-1, var(--text-color));
	--heading-color--focus: var(--link-color);
	--meta-color: var(--color-palette-3, var(--text-color));
	--link-color: var(--color-palette-4);
	--link-color--focus: var(--color-palette-5, inherit);

	// Base typography (default)
	--base--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
	--base--font-size: 16px;
	--base--line-height: 1.7;

	// H1 typography (default)
	--h1--font-size: 2.4rem;
	--h1--font-weight: 600;
	--h1--line-height: 1.3;

	// H2 typography (default)
	--h2--font-size: 1.8rem;
	--h2--font-weight: 600;
	--h2--line-height: 1.4;

	// H3 typography (default)
	--h3--font-size: 1.5rem;
	--h3--font-weight: 600;
	--h3--line-height: 1.5;

	// H4 typography (default)
	--h4--font-size: 1.25rem;
	--h4--font-weight: 600;
	--h4--line-height: 1.6;

	// H5 typography (default)
	--h5--font-size: 1.1rem;
	--h5--font-weight: 600;
	--h5--line-height: 1.7;

	// H6 typography (default)
	--h6--font-size: 1rem;
	--h6--font-weight: 600;
	--h6--line-height: 1.7;

	// Title typography (by default use H1 styles)
	--title--font-family: var(--h1--font-family);
	--title--font-size: var(--h1--font-size);
	--title--font-style: var(--h1--font-style);
	--title--font-weight: var(--h1--font-weight);
	--title--line-height: var(--h1--line-height);
	--title--letter-spacing: var(--h1--letter-spacing);
	--title--text-transform: var(--h1--text-transform);
	--title--text-color: var(--heading-color);
	--title--text-color--focus: var(--heading-color--focus);

	// Small title typography (by default use H3 styles)
	--small-title--font-family: var(--h3--font-family);
	--small-title--font-size: var(--h3--font-size);
	--small-title--font-style: var(--h3--font-style);
	--small-title--font-weight: var(--h3--font-weight);
	--small-title--line-height: var(--h3--line-height);
	--small-title--letter-spacing: var(--h3--letter-spacing);
	--small-title--text-transform: var(--h3--text-transform);
	--small-title--text-color: var(--heading-color);
	--small-title--text-color--focus: var(--heading-color--focus);

	// Meta typography (default)
	--meta--font-size: 0.9rem;
	--meta--line-height: 1.7;
	--meta--text-color: var(--meta-color);

	// Form inputs (default)
	--input--padding: 0.5em 0.75em 0.5em 0.75em;
	--input--border-radius: 0.2em;
	--input--border-width: 1px;
	--input--border-color: var(--color-palette-6);
	--input--background-color: var(--color-palette-8);
	--input--text-color: var(--color-palette-2);
	--input--border-color--focus: var(--color-palette-2);

	// Button (default)
	--button--padding: 0.5em 1em 0.5em 1em;
	--button--border-radius: 0.2em;
	--button--border-width: 1px;
	--button--border-color: var(--color-palette-4);
	--button--background-color: var(--color-palette-4);
	--button--text-color: var(--color-palette-8);
	--button--border-color--focus: var(--color-palette-5);
	--button--background-color--focus: var(--color-palette-5);
	--button--text-color--focus: var(--color-palette-8);

	// Spacing
	--block-spacing: 1.25rem;

	// Container
	--content-width--narrow: 720px;
	--content-width--wide: 1140px;

	// Transition
	--transition-duration: 0.25s;
}

// Float container
@mixin float-container() {
	&::before,
	&::after {
		content: "";
		display: table;
	}

	&::after {
		clear: both;
	}
}

// @mixin block-container {
// 	max-width: none !important;

// 	> :where(*) {
// 		max-width: min( 100%, var(--content-width--narrow) );

// 		&:where(:not(.alignleft, .alignright) ) {
// 			margin-left: auto !important;
// 			margin-right: auto !important;
// 			margin-top: var(--wp--style--block-gap);
// 			margin-bottom: 0;
	
// 			@include remove-margin-top-for-first-child();
// 			@include remove-margin-bottom-for-last-child();
// 		}
// 	}
// }

// Remove top margin of an element if it's the first child
@mixin remove-margin-top-for-first-child() {
	&:first-child {
		margin-top: 0;
	}
}

// Remove bottom margin of an element if it's the last child
@mixin remove-margin-bottom-for-last-child() {
	&:last-child {
		margin-bottom: 0;
	}
}

// Hide element
@mixin hide( $transition: true ) {
	opacity: 0;
	visibility: hidden;

	@if $transition {
		transition: opacity var(--transition-duration), visibility 0s var(--transition-duration); // hide transition
	} @else {
		transition: none;
	}
}

// Show element
@mixin show( $transition: true ) {
	opacity: 1;
	visibility: visible;

	@if $transition {
		transition: opacity var(--transition-duration), visibility 0s; // show transition
	} @else {
		transition: none;
	}
}

// Reverse link color
@mixin reverse-link-color() {
	color: inherit;

	&:hover, &:focus {
		color: var(--link-color);
	}
}

// Admin bar top offset
@mixin admin-bar-top-offset() {
	top: 0;

	.admin-bar & {
		@media screen and ( min-width: $adminbar-breakpoint-sticky ) {
			top: $adminbar-height-mobile;
		}
	
		@media screen and ( min-width: $adminbar-breakpoint ) {
			top: $adminbar-height;
		}
	}
}

// Title typography
@mixin title-typography() {
	font-family: var(--title--font-family);
	font-size: var(--title--font-size);
	font-style: var(--title--font-style);
	font-weight: var(--title--font-weight);
	line-height: var(--title--line-height);
	letter-spacing: var(--title--letter-spacing);
	text-transform: var(--title--text-transform);
}

// Title color
@mixin title-color() {
	color: var(--title--text-color);

	a {
		color: inherit;
	
		&:focus, &:hover {
			color: var(--title--text-color--focus);
		}
	}
}

// Small title typography
@mixin small-title-typography() {
	font-family: var(--small-title--font-family);
	font-size: var(--small-title--font-size);
	font-style: var(--small-title--font-style);
	font-weight: var(--small-title--font-weight);
	line-height: var(--small-title--line-height);
	letter-spacing: var(--small-title--letter-spacing);
	text-transform: var(--small-title--text-transform);
}

// Small title color
@mixin small-title-color() {
	color: var(--small-title--text-color);

	a {
		color: inherit;
	
		&:focus, &:hover {
			color: var(--small-title--text-color--focus);
		}
	}
}

// Meta typography
@mixin meta-typography() {
	font-family: var(--meta--font-family);
	font-size: var(--meta--font-size);
	font-style: var(--meta--font-style);
	font-weight: var(--meta--font-weight);
	line-height: var(--meta--line-height);
	letter-spacing: var(--meta--letter-spacing);
	text-transform: var(--meta--text-transform);
}

// Meta color
@mixin meta-color() {
	color: var(--meta--text-color);

	a {
		color: inherit;
	
		&:focus, &:hover {
			color: var(--meta--text-color--focus);
		}
	}
}

// Padding when element has .has-background
@mixin padding-for-has-background() {
	&:where(.has-background) {
		padding: var(--wp--style--block-gap);
	}
}

// Align left & right max width
@mixin max-width-for-alignleft-alignright() {
	// Apply max-width to floated items that have no intrinsic width.
	&:where(.alignleft, .alignright) {
		max-width: calc( 50% - ( var(--wp--style--block-gap) / 2 ) ); // Fix value, only overrideable via custom CSS
		width: 100%;
	}
}

// Align full ignores padding
@mixin stretch-alignfull() {
	&:where(.alignfull) {
		margin-left: calc( -1 * ( min( var(--content-width--full), 100vw ) - 100% ) / 2 ) !important;
		margin-right: calc( -1 * ( min( var(--content-width--full), 100vw ) - 100% ) / 2 ) !important;
	}
}