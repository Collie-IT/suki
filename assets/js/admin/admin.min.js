jQuery.noConflict(),function(t){"use strict";var e=(t(window),t(document),t("body"));t(function(){e.on("click",".suki-admin-upload-control-button",function(e){e.preventDefault();var a=t(this),i=a.closest(".suki-admin-upload-control"),s=i.find("input"),n=i.data("wpmedia");if(n)return void n.open();var o={title:i.attr("data-title"),button:{text:i.attr("data-button")},multiple:!1};""!==i.attr("data-library")&&(o.library={type:i.attr("data-library").split(",")}),n=wp.media.frames.file_frame=wp.media(o),n.on("select",function(){file=n.state().get("selection").first().toJSON(),s.val(file.url)}),n.open(),i.data("wpmedia",n)}),t.fn.select2&&t(".suki-admin-multiselect-control").select2(),t.fn.wpColorPicker&&t(".suki-admin-color-control").find("input").wpColorPicker(),t.fn.repeater&&t(".suki-admin-repeater-control").repeater({show:function(){var e=t(this);e.show(),e.find(".suki-admin-repeater-control-hide-on-added").hide(),t.fn.select2&&(e.find(".select2").remove(),e.find(".suki-admin-multiselect-control").removeClass("select2-hidden-accessible").select2())}}),e.on("change",".suki-admin-dependent-field",function(){var e=t(this),a=t('[data-dependency="'+e.attr("name")+'"]'),i=this.value;a.hide(),a.each(function(){var e=t(this),a=e.attr("data-value").split(",");switch(found=-1<a.indexOf(i),e.attr("data-operator")){case"!=":found||e.show();break;default:found&&e.show()}})}),t(".suki-admin-dependent-field").trigger("change"),t(".suki-admin-custom-fonts").on("change",".suki-admin-custom-font-variants input",function(e){var a=t(this).closest(".suki-admin-custom-font"),i=a.find('.suki-admin-custom-font-variant[data-variant="'+this.value+'"]');this.checked?i.show():i.hide()}),t(".suki-admin-demo-templates").on("click",".themes .theme",function(e){if(e.preventDefault(),SukiDemoTemplates){var a=t(this).attr("data-slug"),i=t("#suki-admin-demo-template-single");if(void 0!==SukiDemoTemplates.templates[a]){var s=SukiDemoTemplates.templates[a];i.find(".suki-admin-demo-template-name").html(s.name)}}}),t(".suki-admin-tools").on("click",".suki-admin-regenerate-css-button",function(e){e.preventDefault();var a=t(this),i=a.siblings(".suki-status-loading"),s=a.siblings(".suki-status-success");a.addClass("loading").prop("disabled",!0),i.show(),s.hide(),t.post(ajaxurl,{action:"suki_regenerate_css",_wpnonce:a.data("nonce")}).done(function(){i.hide(),s.show(),a.removeClass("loading").prop("disabled",!1)})}),t(".suki-admin-tools").on("click",".suki-admin-export-customizer-button",function(e){e.preventDefault();var a=t(this);a.addClass("loading").prop("disabled",!0),t.post(ajaxurl,{action:"suki_export_customizer",_wpnonce:a.data("nonce")}).done(function(t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t.data.content)),e.setAttribute("download",t.data.filename),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),a.removeClass("loading").prop("disabled",!1)})}),t(".suki-admin-tools").on("click",".suki-admin-import-customizer-button",function(e){e.preventDefault();var a=t(this),i=a.prev(),s=a.data("empty"),n=a.siblings(".suki-status-loading"),o=a.siblings(".suki-status-success"),d=a.siblings(".suki-status-error");o.hide(),d.hide(),0<i.val().length?(a.addClass("loading").prop("disabled",!0),n.show(),t.post(ajaxurl,{action:"suki_import_customizer",_wpnonce:a.data("nonce"),code:i.val()}).done(function(t){n.hide(),a.removeClass("loading").prop("disabled",!1),t.success?o.show():d.show()})):alert(s)}),t(".suki-admin-tools").on("click",".suki-admin-reset-customizer-button",function(e){e.preventDefault();var a=t(this),i=a.data("confirm"),s=a.siblings(".suki-status-loading"),n=a.siblings(".suki-status-success");n.hide(),confirm(i)&&(a.addClass("loading").prop("disabled",!0),s.show(),t.post(ajaxurl,{action:"suki_reset_customizer",_wpnonce:a.data("nonce")}).done(function(){s.hide(),n.show(),a.removeClass("loading").prop("disabled",!1)}))}),t("#formatdiv").on("change",'input[name="post_format"]',function(e){t(".suki-post-formats-info > li").removeClass("active").filter('[data-format="'+this.value+'"]').addClass("active")}),e.on("click",".suki-metabox-tabs a",function(e){e.preventDefault();var a=t(this),i=t(a.attr("href"));a.hasClass("nav-tab-active")||(a.siblings("a").removeClass("nav-tab-active"),i.siblings(".suki-metabox-panel").removeClass("active"),a.addClass("nav-tab-active"),i.addClass("active"))})})}(jQuery);