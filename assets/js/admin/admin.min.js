jQuery.noConflict(),function(d){"use strict";d(window),d(document);var t=d("body");d(function(){t.on("click",".suki-admin-upload-control-button",function(t){t.preventDefault();var e=d(this).closest(".suki-admin-upload-control"),a=e.find("input"),i=e.data("wpmedia");if(i)i.open();else{var s={title:e.attr("data-title"),button:{text:e.attr("data-button")},multiple:!1};""!==e.attr("data-library")&&(s.library={type:e.attr("data-library").split(",")}),(i=wp.media.frames.file_frame=wp.media(s)).on("select",function(){file=i.state().get("selection").first().toJSON(),a.val(file.url)}),i.open(),e.data("wpmedia",i)}}),d.fn.select2&&d(".suki-admin-multiselect-control").select2(),d.fn.wpColorPicker&&d(".suki-admin-color-control").find("input").wpColorPicker(),d.fn.repeater&&d(".suki-admin-repeater-control").repeater({show:function(){var t=d(this);t.show(),t.find(".suki-admin-repeater-control-hide-on-added").hide(),d.fn.select2&&(t.find(".select2").remove(),t.find(".suki-admin-multiselect-control").removeClass("select2-hidden-accessible").select2())}}),t.on("change",".suki-admin-dependent-field",function(){var t=d(this),e=d('[data-dependency="'+t.attr("name")+'"]'),a=this.value;e.hide(),e.each(function(){var t=d(this),e=t.attr("data-value").split(",");switch(found=-1<e.indexOf(a),t.attr("data-operator")){case"!=":found||t.show();break;default:found&&t.show()}})}),d(".suki-admin-dependent-field").trigger("change"),d(".suki-admin-custom-fonts").on("change",".suki-admin-custom-font-variants input",function(t){var e=d(this).closest(".suki-admin-custom-font").find('.suki-admin-custom-font-variant[data-variant="'+this.value+'"]');this.checked?e.show():e.hide()}),d(".suki-admin-demo-templates").on("click",".themes .theme",function(t){if(t.preventDefault(),SukiDemoTemplates){var e=d(this).attr("data-slug"),a=d("#suki-admin-demo-template-single");if(void 0!==SukiDemoTemplates.templates[e]){var i=SukiDemoTemplates.templates[e];a.find(".suki-admin-demo-template-name").html(i.name)}}}),d(".suki-admin-tools").on("click",".suki-admin-regenerate-css-button",function(t){t.preventDefault();var e=d(this),a=e.siblings(".suki-status-loading"),i=e.siblings(".suki-status-success");e.addClass("loading").prop("disabled",!0),a.show(),i.hide(),d.post(ajaxurl,{action:"suki_regenerate_css",_wpnonce:e.data("nonce")}).done(function(){a.hide(),i.show(),e.removeClass("loading").prop("disabled",!1)})}),d(".suki-admin-tools").on("click",".suki-admin-export-customizer-button",function(t){t.preventDefault();var a=d(this);a.addClass("loading").prop("disabled",!0),d.post(ajaxurl,{action:"suki_export_customizer",_wpnonce:a.data("nonce")}).done(function(t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t.data.content)),e.setAttribute("download",t.data.filename),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),a.removeClass("loading").prop("disabled",!1)})}),d(".suki-admin-tools").on("click",".suki-admin-import-customizer-button",function(t){t.preventDefault();var e=d(this),a=e.prev(),i=e.data("empty"),s=e.siblings(".suki-status-loading"),n=e.siblings(".suki-status-success"),o=e.siblings(".suki-status-error");n.hide(),o.hide(),0<a.val().length?(e.addClass("loading").prop("disabled",!0),s.show(),d.post(ajaxurl,{action:"suki_import_customizer",_wpnonce:e.data("nonce"),code:a.val()}).done(function(t){s.hide(),e.removeClass("loading").prop("disabled",!1),t.success?n.show():o.show()})):alert(i)}),d(".suki-admin-tools").on("click",".suki-admin-reset-customizer-button",function(t){t.preventDefault();var e=d(this),a=e.data("confirm"),i=e.siblings(".suki-status-loading"),s=e.siblings(".suki-status-success");s.hide(),confirm(a)&&(e.addClass("loading").prop("disabled",!0),i.show(),d.post(ajaxurl,{action:"suki_reset_customizer",_wpnonce:e.data("nonce")}).done(function(){i.hide(),s.show(),e.removeClass("loading").prop("disabled",!1)}))}),d("#formatdiv").on("change",'input[name="post_format"]',function(t){d(".suki-post-formats-info > li").removeClass("active").filter('[data-format="'+this.value+'"]').addClass("active")}),t.on("click",".suki-metabox-tabs a",function(t){t.preventDefault();var e=d(this),a=d(e.attr("href"));e.hasClass("nav-tab-active")||(e.siblings("a").removeClass("nav-tab-active"),a.siblings(".suki-metabox-panel").removeClass("active"),e.addClass("nav-tab-active"),a.addClass("active"))})})}(jQuery);