!function(e,t){"use strict";var i=t(window),n=(t(document),t("body"));if(null==o)var o=function(e,t){t=decodeURI(t),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))};var a=function(e){var i=e.target;""!==i.value?(""!==i.max&&(i.value=Math.min(Number(i.value),Number(i.max))),""!==i.min&&(i.value=Math.max(Number(i.value),Number(i.min))),t(i).trigger("change")):t(i).trigger("change")};t("#customize-controls").on("blur",'input[type="number"]',a),t("#customize-controls").on("keyup",'input[type="number"]',(function(e){13==e.which&&a(e)})),t("#customize-controls").on("focus",'input[type="number"]',(function(e){t(this).on("mousewheel.disableScroll",(function(e){e.preventDefault()}))})),t("#customize-controls").on("blur",'input[type="number"]',(function(e){t(this).off("mousewheel.disableScroll")})),t("#customize-controls").on("change",".suki-dimension-unit",(function(e){var i=t(e.target),n=i.find('option[value="'+i.val()+'"]'),o=t(e.target).closest(".suki-dimension").find(".suki-dimension-number");o.attr("min",n.attr("data-min")),o.attr("max",n.attr("data-max")),o.attr("step",n.attr("data-step")),o.val("").trigger("change")})),t("#customize-controls").on("change",".suki-dimension-number",(function(e){var i=t(e.target),n=t(e.target).closest(".suki-dimension"),o=n.find(".suki-dimension-unit");n.find(".suki-dimension-value").val(""===i.val()?"":i.val().toString()+o.val().toString()).trigger("change")})),wp.customize.sectionConstructor["suki-section-pro-teaser"]=wp.customize.sectionConstructor["suki-section-pro-link"]=wp.customize.sectionConstructor["suki-section-pro-locked"]=wp.customize.sectionConstructor["suki-section-spacer"]=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}}),wp.customize.controlConstructor["suki-color"]=wp.customize.Control.extend({ready:function(){var e=this,t=e.container.find(".color-picker");t.alphaColorPicker({change:function(){e.setting.set(t.wpColorPicker("color"))},clear:function(){e.setting.set("")}})}}),wp.customize.controlConstructor["suki-shadow"]=wp.customize.Control.extend({ready:function(){var e=this;_.bindAll(e,"updateValue"),e.container.find(".suki-shadow-color .color-picker").alphaColorPicker({change:e.updateValue,clear:e.updateValue}),e.container.on("change blur",".suki-shadow-input",e.updateValue)},updateValue:function(e){var i=this.container.find("input.suki-shadow-input").map((function(e,i){var n=t(i);return n.hasClass("color-picker")?""===n.wpColorPicker("color")?"rgba(0,0,0,0)":n.wpColorPicker("color"):n.is("input")?""===n.val()?"0":n.val().toString()+"px":n.val()})).get();i.push(this.container.find("select.suki-shadow-input").val()),this.setting(i.join(" "))}}),wp.customize.controlConstructor["suki-slider"]=wp.customize.Control.extend({ready:function(){var e=this;e.container.on("change",".suki-slider-number",e.onChangeNumber),e.container.on("input",".suki-slider-range",e.onChangeSlider)},onChangeNumber:function(e,i=!1){if(!i){var n=t(e.target);t(e.target).closest(".suki-slider-fieldset").find(".suki-slider-range").val(n.val())}},onChangeSlider:function(e){var i=t(e.target);t(e.target).closest(".suki-slider-fieldset").find(".suki-slider-number").val(i.val()).trigger("change",[!0])}}),wp.customize.controlConstructor["suki-dimensions"]=wp.customize.Control.extend({ready:function(){this.container.on("change",".suki-dimension-value",this.updateValue)},updateValue:function(e){var i=t(e.target).closest(".suki-dimensions-fieldset"),n=i.find(".suki-dimension-value"),o=[];n.each((function(e,t){""===t.value?o.push("0"):o.push(this.value.toString())})),i.find(".suki-dimensions-value").val(o.join(" ")).trigger("change")}}),wp.customize.controlConstructor["suki-background"]=wp.customize.Control.extend({ready:function(){var e=this;_.bindAll(e,"openMediaLibrary","removeImage","onOpenMediaLibrary","onSelectMediaLibrary"),e.container.on("click keydown",".upload-button",e.openMediaLibrary),e.container.on("click keydown",".thumbnail-image img",e.openMediaLibrary),e.container.on("click keydown",".remove-button",e.removeImage)},openMediaLibrary:function(e){wp.customize.utils.isKeydownButNotEnterEvent(e)||(e.preventDefault(),this.mediaLibrary||this.initMediaLibrary(),this.mediaLibrary.open())},initMediaLibrary:function(){this.mediaLibrary=wp.media({states:[new wp.media.controller.Library({library:wp.media.query({type:"image"}),multiple:!1,date:!1})]}),this.mediaLibrary.on("select",this.onSelectMediaLibrary),this.mediaLibrary.on("open",this.onOpenMediaLibrary)},onOpenMediaLibrary:function(e){if(this.params.attachment){var t=wp.media.attachment(this.params.attachment.id);t.fetch(),this.mediaLibrary.state().get("selection").add([t])}},onSelectMediaLibrary:function(e){var t=this.mediaLibrary.state().get("selection").first().toJSON();this.params.attachment=t,this.settings.image.set(t.url),this.renderContent()},removeImage:function(e){wp.customize.utils.isKeydownButNotEnterEvent(e)||(e.preventDefault(),this.params.attachment={},this.settings.image.set(""),this.renderContent())}}),wp.customize.controlConstructor["suki-multicheck"]=wp.customize.Control.extend({ready:function(){var e=this,t=e.container.find(".suki-multicheck-input");t.on("change",(function(i){var n=[];t.each((function(){this.checked&&n.push(this.value)})),e.setting.set(n)}))}}),wp.customize.controlConstructor["suki-sortable"]=wp.customize.Control.extend({ready:function(){var e=this,t=e.container[0].querySelector(".suki-sortable"),i=e.container[0].querySelectorAll('input[type="checkbox"]');_.bindAll(e,"updateValue"),e.sortable=t,sortable("#"+t.id,{handle:".suki-sortable-item-handle",forcePlaceholderSize:!0,itemSerializer:function(e,t){return{checked:e.node.querySelector("input").checked,value:e.node.dataset.value}}}),t.addEventListener("sortupdate",e.updateValue,!1),i.forEach((function(t){t.addEventListener("change",e.updateValue,!1)}))},updateValue:function(e){for(var t=sortable("#"+this.sortable.id,"serialize")[0].items.filter((function(e){return e.checked})),i=[],n=0;n<t.length;n++)i.push(t[n].value);this.setting.set(i)}}),wp.customize.controlConstructor["suki-builder"]=wp.customize.Control.extend({ready:function(){var e=this;e.builder=e.container.find(".suki-builder"),e.builderLocations=e.builder.find(".suki-builder-location"),e.builderInactive=e.builder.find(".suki-builder-inactive"),e.updateValue=function(i){if("__inactive"!==i){var n=e.builderLocations.filter('[data-location="'+i+'"]').find(".suki-builder-element"),o=[];n.each((function(){o.push(t(this).attr("data-value"))})),null!==e.settings?e.settings[i].set(o):e.setting.set(o)}},e.showHideAddButton=function(){var t=e.builder.find(".suki-builder-element-add");0===e.builderInactive.find(".suki-builder-element").length?t.hide():t.show()},e.showHideAddButton(),e.container.on("keyup","[tabindex]",(function(e){13!=e.which&&32!=e.which||t(this).trigger("click")})),e.container.on("click",".suki-builder-element-add",(function(i){i.preventDefault();var n=t(this),o=n.closest(".suki-builder-location"),a=n.closest(".suki-builder-locations");e.builderInactive.prev().get(0)==o.get(0)&&e.builderInactive.hasClass("show")?e.builderInactive.removeClass("show").appendTo(a):e.builderInactive.addClass("show").insertAfter(o)})),e.container.on("click",".suki-builder-inactive .suki-builder-element",(function(i){if(i.preventDefault(),e.builderInactive.hasClass("show")){var n=t(this),o=e.builderInactive.prev(".suki-builder-location");n.appendTo(o.children(".suki-builder-sortable-panel")),e.builderInactive.removeClass("show"),e.updateValue(o.attr("data-location")),e.showHideAddButton()}})),e.container.on("click",".suki-builder-element-delete",(function(i){i.preventDefault();var n=t(this).parent(".suki-builder-element"),o=n.closest(".suki-builder-location");n.prependTo(e.builderInactive.children(".suki-builder-sortable-panel")),e.updateValue(o.attr("data-location")),e.showHideAddButton()})),e.container.find(".suki-builder-sortable-panel").sortable({items:".suki-builder-element:not(.suki-builder-element-disabled)",connectWith:'.suki-builder-sortable-panel[data-connect="'+e.builder.attr("data-name")+'"]',containment:e.container,update:function(i,n){e.updateValue(t(i.target).parent().attr("data-location")),e.showHideAddButton()},receive:function(e,i){0<=t(i.item).attr("data-limitations").split(",").indexOf(t(this).parent().attr("data-location"))&&t(i.sender).sortable("cancel")},start:function(i,n){for(var o=t(n.item).attr("data-limitations").split(","),a=0;a<o.length;++a){var r=e.builderLocations.filter('[data-location="'+o[a]+'"]');void 0!==r&&r.addClass("disabled")}},stop:function(t,i){e.builderLocations.removeClass("disabled"),e.builderInactive.removeClass("disabled")}}).disableSelection()}}),wp.customize.bind("ready",(function(){t("#customize-controls").on("click",".suki-responsive-switcher-button",(function(e){e.preventDefault(),wp.customize.previewedDevice.set(t(this).attr("data-device"))}));var e=function(){var e=wp.customize.previewedDevice.get(),i=t("span.suki-responsive-switcher-button"),n=t(".suki-responsive-switcher-button.nav-tab");t(".suki-responsive-fieldset").removeClass("active").filter(".preview-"+e).addClass("active"),i.removeClass("active").filter(".preview-"+e).addClass("active"),n.removeClass("nav-tab-active").filter(".preview-"+e).addClass("nav-tab-active")};wp.customize.previewedDevice.bind(e),wp.customize.section.each((function(t){t.expanded.bind(e)})),t("#customize-controls").on("click",".suki-customize-set-preview-url",(function(e){e.preventDefault();var i=t(this).attr("href"),n=o("url",i);n!==wp.customize.previewer.previewUrl()&&wp.customize.previewer.previewUrl(n)})),t("#customize-controls").on("click",".suki-customize-goto-control",(function(e){e.preventDefault();var i=t(this).attr("href"),n=o("autofocus[control]",i),a=o("autofocus[section]",i),r=o("autofocus[panel]",i);n?wp.customize.control(n).focus():a?wp.customize.section(a).focus():r&&wp.customize.panel(r).focus()})),sukiCustomizerControlsData&&sukiCustomizerControlsData.contexts&&_.each(sukiCustomizerControlsData.contexts,(function(e,t){var i=0==t.indexOf("suki_section")?"section":"control";wp.customize[i](t,(function(t){_.each(e,(function(e,n){var o="__device"===e.setting?wp.customize.previewedDevice:wp.customize(e.setting),a=function(n){var o=!1;switch(null!=e.operator&&"="!=e.operator||(e.operator="=="),e.operator){case">":o=n>e.value;break;case"<":o=n<e.value;break;case">=":o=n>=e.value;break;case"<=":o=n<=e.value;break;case"in":o=0<=e.value.indexOf(n);break;case"not_in":o=0>e.value.indexOf(n);break;case"contain":o=0<=n.indexOf(e.value);break;case"not_contain":o=0>n.indexOf(e.value);break;case"!=":o=n!=e.value;break;case"empty":o=0==n.length;break;case"!empty":o=0<n.length;break;default:o=n==e.value}var a=t.container;"section"===i&&(a=t.headContainer),o?(a.show(),a.removeClass("suki-context-hidden")):(a.hide(),a.addClass("suki-context-hidden"),"section"===i&&t.expanded()&&t.collapse())};void 0!==o&&("__device"!==e.setting&&a(o.get()),o.bind(a))}))}))}));var a=function(){var e=t(".control-section.suki-builder-active");1324<=window.innerWidth&&n.hasClass("suki-has-builder-active")&&0<e.length&&!e.hasClass("suki-hide")?wp.customize.previewer.container.css({bottom:e.outerHeight()+"px"}):wp.customize.previewer.container.css({bottom:""})};i.on("resize",a),wp.customize.previewedDevice.bind((function(e){setTimeout((function(){a()}),250)}));var r;r="",_.each(sukiCustomizerControlsData.previewContexts,(function(e,t){wp.customize.section(t,(function(t){t.expanded.bind((function(t){t?(r=wp.customize.previewer.previewUrl.get(),wp.customize.previewer.previewUrl.set(e)):wp.customize.previewer.previewUrl.set(r)}))}))}));var s=function(e){var o="suki_panel_header"===e.id?wp.customize.section("suki_section_header_builder"):wp.customize.section("suki_section_footer_builder"),r=o.contentContainer;e.expanded.bind((function(e){_.each(o.controls(),(function(e){"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))})),e?(n.addClass("suki-has-builder-active"),r.addClass("suki-builder-active")):(n.removeClass("suki-has-builder-active"),r.removeClass("suki-builder-active")),a()})),r.on("click",".suki-builder-toggle",(function(e){e.preventDefault(),r.toggleClass("suki-hide"),a()})),r.find(".suki-builder-sortable-panel").on("sortover",(function(e,t){a()}));var s=function(){1324<=window.innerWidth?(r.insertAfter(t(".wp-full-overlay-sidebar-content")),o.expanded()&&o.collapse()):r.appendTo(t("#customize-theme-controls"))};wp.customize.bind("pane-contents-reflowed",s),i.on("resize",s)};wp.customize.panel("suki_panel_header",s),wp.customize.panel("suki_panel_footer",s),wp.customize.control("footer_elements")&&wp.customize.control("footer_elements").container.on("init",e);var u=function(e){var i=t(this),n=i.find(".customize-control-content").attr("data-name");if(sukiCustomizerControlsData.headerFooterBuilderStructures[n]){var o=0<=i.attr("id").indexOf("header")?"header":"footer",a=i.find(".suki-builder-locations").addClass("suki-builder-groups");_.each(sukiCustomizerControlsData.headerFooterBuilderStructures[n],(function(e,n){var o="vertical"===n?"suki-builder-group suki-builder-group-vertical suki-builder-layout-block":"suki-builder-group suki-builder-group-horizontal suki-builder-layout-inline",r=t(document.createElement("div")).addClass(o);_.each(e,(function(e,n){var o=t(document.createElement("div")).addClass("suki-builder-area").attr("data-key",n),a=t(document.createElement("span")).addClass("suki-builder-area-label").html(e.label),s=t(document.createElement("div")).addClass("suki-builder-area-locations");_.each(e.locations,(function(e){var t=i.find('[data-location="'+e+'"]');t&&t.appendTo(s)})),0<s.children().length&&(o.appendTo(r),a.appendTo(o),s.appendTo(o))})),0<r.children().length&&r.appendTo(a)})),i.on("click",".suki-builder-location .suki-builder-element > span",(function(e){e.preventDefault();var i=t(this).parent(".suki-builder-element"),n="heading_"+o+"_"+i.attr("data-value").replace("-","_"),a=wp.customize.control(n);a&&a.focus()})),i.on("click",".suki-builder-area-label",(function(e){e.preventDefault();var i="suki_section_"+o+"_"+t(this).parent().attr("data-key").replace("-","_"),n=wp.customize.section(i);n&&n.focus()}))}};wp.customize.control("header_elements")&&wp.customize.control("header_elements").container.on("init",u),wp.customize.control("header_mobile_elements")&&wp.customize.control("header_mobile_elements").container.on("init",u),wp.customize.control("footer_elements")&&wp.customize.control("footer_elements").container.on("init",u)}))}(wp,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL2N1c3RvbWl6ZS1jb250cm9scy5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiJCIsIiR3aW5kb3ciLCJ3aW5kb3ciLCIkYm9keSIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiZ2V0VXJsUGFyYW1ldGVyIiwibmFtZSIsInVybCIsImRlY29kZVVSSSIsInJlcGxhY2UiLCJyZXN1bHRzIiwiUmVnRXhwIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsImlucHV0TnVtYmVyVmFsaWRhdGlvbiIsImUiLCJpbnB1dCIsInRhcmdldCIsInZhbHVlIiwibWF4IiwiTWF0aCIsIm1pbiIsIk51bWJlciIsInRyaWdnZXIiLCJvbiIsIndoaWNoIiwidGhpcyIsInByZXZlbnREZWZhdWx0Iiwib2ZmIiwiJHVuaXQiLCIkdW5pdENob2ljZSIsImZpbmQiLCJ2YWwiLCIkbnVtYmVyIiwiY2xvc2VzdCIsImF0dHIiLCIkc2NvcGUiLCJ0b1N0cmluZyIsIndwIiwiY3VzdG9taXplIiwic2VjdGlvbkNvbnN0cnVjdG9yIiwiU2VjdGlvbiIsImV4dGVuZCIsImF0dGFjaEV2ZW50cyIsImlzQ29udGV4dHVhbGx5QWN0aXZlIiwiY29udHJvbENvbnN0cnVjdG9yIiwiQ29udHJvbCIsInJlYWR5IiwiY29udHJvbCIsIiRwaWNrZXIiLCJjb250YWluZXIiLCJhbHBoYUNvbG9yUGlja2VyIiwiY2hhbmdlIiwic2V0dGluZyIsInNldCIsIndwQ29sb3JQaWNrZXIiLCJjbGVhciIsIl8iLCJiaW5kQWxsIiwidXBkYXRlVmFsdWUiLCJ2YWx1ZXMiLCJtYXAiLCJpIiwiZWwiLCIkaW5wdXQiLCJoYXNDbGFzcyIsImlzIiwiZ2V0IiwicHVzaCIsImpvaW4iLCJvbkNoYW5nZU51bWJlciIsIm9uQ2hhbmdlU2xpZGVyIiwiY2hhbmdlRnJvbVJhbmdlIiwiJHJhbmdlIiwiJGl0ZW1zIiwiZWFjaCIsIml0ZW0iLCJvcGVuTWVkaWFMaWJyYXJ5IiwicmVtb3ZlSW1hZ2UiLCJ1dGlscyIsImlzS2V5ZG93bkJ1dE5vdEVudGVyRXZlbnQiLCJtZWRpYUxpYnJhcnkiLCJpbml0TWVkaWFMaWJyYXJ5Iiwib3BlbiIsIm1lZGlhIiwic3RhdGVzIiwiY29udHJvbGxlciIsIkxpYnJhcnkiLCJsaWJyYXJ5IiwicXVlcnkiLCJ0eXBlIiwibXVsdGlwbGUiLCJkYXRlIiwib25TZWxlY3RNZWRpYUxpYnJhcnkiLCJvbk9wZW5NZWRpYUxpYnJhcnkiLCJwYXJhbXMiLCJhdHRhY2htZW50IiwiaWQiLCJmZXRjaCIsInN0YXRlIiwiYWRkIiwiZmlyc3QiLCJ0b0pTT04iLCJzZXR0aW5ncyIsImltYWdlIiwicmVuZGVyQ29udGVudCIsIiRjaGVja2JveGVzIiwiY2hlY2tlZCIsIiRzb3J0YWJsZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwic29ydGFibGUiLCJoYW5kbGUiLCJmb3JjZVBsYWNlaG9sZGVyU2l6ZSIsIml0ZW1TZXJpYWxpemVyIiwic2VyaWFsaXplZEl0ZW0iLCJzb3J0YWJsZUNvbnRhaW5lciIsIm5vZGUiLCJkYXRhc2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvckVhY2giLCIkY2hlY2tib3giLCJjaGVja2VkSXRlbXMiLCJpdGVtcyIsImZpbHRlciIsImxlbmd0aCIsImJ1aWxkZXIiLCJidWlsZGVyTG9jYXRpb25zIiwiYnVpbGRlckluYWN0aXZlIiwibG9jYXRpb24iLCIkZWxlbWVudHMiLCJzaG93SGlkZUFkZEJ1dHRvbiIsIiRhZGRCdXR0b24iLCJoaWRlIiwic2hvdyIsIiR0aGlzIiwiJGxvY2F0aW9uIiwiJHdyYXBwZXIiLCJwcmV2IiwicmVtb3ZlQ2xhc3MiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwiaW5zZXJ0QWZ0ZXIiLCIkZWxlbWVudCIsImNoaWxkcmVuIiwicGFyZW50IiwicHJlcGVuZFRvIiwiY29ubmVjdFdpdGgiLCJjb250YWlubWVudCIsInVwZGF0ZSIsInVpIiwicmVjZWl2ZSIsInNwbGl0IiwiaW5kZXhPZiIsInNlbmRlciIsInN0YXJ0IiwibGltaXRhdGlvbnMiLCIkdGFyZ2V0Iiwic3RvcCIsImRpc2FibGVTZWxlY3Rpb24iLCJiaW5kIiwicHJldmlld2VkRGV2aWNlIiwic2V0Q3VzdG9tUmVzcG9uc2l2ZUVsZW1lbnRzRGlzcGxheSIsImRldmljZSIsIiRidXR0b25zIiwiJHRhYnMiLCJzZWN0aW9uIiwiZXhwYW5kZWQiLCJocmVmIiwicHJldmlld2VyIiwicHJldmlld1VybCIsInRhcmdldENvbnRyb2wiLCJ0YXJnZXRTZWN0aW9uIiwidGFyZ2V0UGFuZWwiLCJmb2N1cyIsInBhbmVsIiwic3VraUN1c3RvbWl6ZXJDb250cm9sc0RhdGEiLCJjb250ZXh0cyIsImVsZW1lbnRSdWxlcyIsImVsZW1lbnRJRCIsImVsZW1lbnRUeXBlIiwiZWxlbWVudE9iaiIsInJ1bGUiLCJydWxlU2V0dGluZ09iaiIsInNldFZpc2liaWxpdHkiLCJjaGVja2VkVmFsdWUiLCJkaXNwbGF5ZWQiLCJvcGVyYXRvciIsImhlYWRDb250YWluZXIiLCJjb2xsYXBzZSIsInJlc2l6ZVByZXZpZXdlciIsIiRzZWN0aW9uIiwiaW5uZXJXaWR0aCIsImNzcyIsImJvdHRvbSIsIm91dGVySGVpZ2h0Iiwic2V0VGltZW91dCIsImxhc3RQcmV2aWV3VVJMIiwicHJldmlld0NvbnRleHRzIiwia2V5IiwiaXNFeHBhbmRlZCIsImluaXRIZWFkZXJGb290ZXJCdWlsZGVyIiwiY29udGVudENvbnRhaW5lciIsImNvbnRyb2xzIiwiZGVmZXJyZWQiLCJlbWJlZGRlZCIsInJlc29sdmUiLCJ0b2dnbGVDbGFzcyIsIm1vdmVIZWFkZXJGb290ZXJCdWlsZGVyIiwiaW5pdEhlYWRlckZvb3RlckJ1aWxkZXJFbGVtZW50cyIsIiRjb250cm9sIiwiY29udHJvbEtleSIsImhlYWRlckZvb3RlckJ1aWxkZXJTdHJ1Y3R1cmVzIiwibW9kZSIsIiRncm91cFdyYXBwZXIiLCJhcmVhcyIsImdyb3VwVHlwZSIsImdyb3VwQ2xhc3NOYW1lcyIsIiRncm91cCIsImNyZWF0ZUVsZW1lbnQiLCJhcmVhRGF0YSIsImFyZWFLZXkiLCIkYXJlYSIsIiRhcmVhTGFiZWwiLCJodG1sIiwibGFiZWwiLCIkYXJlYUxvY2F0aW9ucyIsImxvY2F0aW9ucyIsImxvY2F0aW9uSUQiLCJ0YXJnZXRLZXkiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUdBLFNBQVdBLEVBQVNDLEdBQ25CLGFBRUEsSUFBSUMsRUFBVUQsRUFBR0UsUUFFYkMsR0FEWUgsRUFBR0ksVUFDUEosRUFBRyxTQUVmLEdBQUtLLE1BQWFDLEVBQ2pCLElBQUlBLEVBQWtCLFNBQVVDLEVBQU1DLEdBQ3JDQSxFQUFNQyxVQUFXRCxHQUNqQkQsRUFBT0EsRUFBS0csUUFBUyxPQUFRLE9BQVFBLFFBQVMsT0FBUSxPQUV0RCxJQUNJQyxFQURRLElBQUlDLE9BQVEsU0FBV0wsRUFBTyxhQUN0Qk0sS0FBTUwsR0FFMUIsT0FBbUIsT0FBWkcsRUFBbUIsR0FBS0csbUJBQW9CSCxFQUFRLEdBQUdELFFBQVMsTUFBTyxPQVFoRixJQUFJSyxFQUF3QixTQUFVQyxHQUNyQyxJQUFJQyxFQUFRRCxFQUFFRSxPQUVULEtBQU9ELEVBQU1FLE9BTWIsS0FBT0YsRUFBTUcsTUFDakJILEVBQU1FLE1BQVFFLEtBQUtDLElBQUtDLE9BQVFOLEVBQU1FLE9BQVNJLE9BQVFOLEVBQU1HLE9BSXpELEtBQU9ILEVBQU1LLE1BQ2pCTCxFQUFNRSxNQUFRRSxLQUFLRCxJQUFLRyxPQUFRTixFQUFNRSxPQUFTSSxPQUFRTixFQUFNSyxPQUc5RHRCLEVBQUdpQixHQUFRTyxRQUFTLFdBZG5CeEIsRUFBR2lCLEdBQVFPLFFBQVMsV0FpQnRCeEIsRUFBRyx1QkFBd0J5QixHQUFJLE9BQVEsdUJBQXdCVixHQUMvRGYsRUFBRyx1QkFBd0J5QixHQUFJLFFBQVMsd0JBQXdCLFNBQVVULEdBQ3BFLElBQU1BLEVBQUVVLE9BQ1pYLEVBQXVCQyxNQUl6QmhCLEVBQUcsdUJBQXdCeUIsR0FBSSxRQUFTLHdCQUF3QixTQUFVVCxHQUN6RWhCLEVBQUcyQixNQUFPRixHQUFJLDRCQUE0QixTQUFXVCxH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QVVTLFFBQVMsMkJBQzFCVixHQUFHQyxVQUFVUyxRQUFTLDBCQUEyQkUsVUFBVTFCLEdBQUksT0FBUXlMLEdBRW5FM0ssR0FBR0MsVUFBVVMsUUFBUyxvQkFDMUJWLEdBQUdDLFVBQVVTLFFBQVMsbUJBQW9CRSxVQUFVMUIsR0FBSSxPQUFReUwsTUFyMUJuRSxDQXkxQkkzSyxHQUFJZ00iLCJmaWxlIjoiYWRtaW4vY3VzdG9taXplLWNvbnRyb2xzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGVtZSBDdXN0b21pemVyIGN1c3RvbSBjb250cm9scyBoYW5kbGVyc1xuICovXG4oZnVuY3Rpb24oIGV4cG9ydHMsICQgKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLFxuXHQgICAgJGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSxcblx0ICAgICRib2R5ID0gJCggJ2JvZHknICk7XG5cblx0aWYgKCB1bmRlZmluZWQgPT0gZ2V0VXJsUGFyYW1ldGVyICkge1xuXHRcdHZhciBnZXRVcmxQYXJhbWV0ZXIgPSBmdW5jdGlvbiggbmFtZSwgdXJsICkge1xuXHRcdFx0dXJsID0gZGVjb2RlVVJJKCB1cmwgKTtcblx0XHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoIC9bXFxbXS8sICdcXFxcWycgKS5yZXBsYWNlKCAvW1xcXV0vLCAnXFxcXF0nICk7XG5cblx0XHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoICdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScgKSxcblx0XHRcdCAgICByZXN1bHRzID0gcmVnZXguZXhlYyggdXJsICk7XG5cblx0XHRcdHJldHVybiByZXN1bHRzID09PSBudWxsID8gJycgOiBkZWNvZGVVUklDb21wb25lbnQoIHJlc3VsdHNbMV0ucmVwbGFjZSggL1xcKy9nLCAnICcgKSApO1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogSW1wcm92ZSBpbnB1dCB0eXBlIG51bWJlciBiZWhhdmlvciBmb3IgYmV0dGVyIFVYXG5cdCAqL1xuXHQvLyBUcmlnZ2VyIGNoYW5nZSBvbiBhbGwgbnVtYmVyIGlucHV0IGZpZWxkcyB3aGVuIFwiZW50ZXJcIiBrZXkgaXMgcHJlc3NlZC5cblx0dmFyIGlucHV0TnVtYmVyVmFsaWRhdGlvbiA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdHZhciBpbnB1dCA9IGUudGFyZ2V0O1xuXG5cdFx0aWYgKCAnJyA9PT0gaW5wdXQudmFsdWUgKSB7XG5cdFx0XHQkKCBpbnB1dCApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdC8vIFZhbGlkYXRlIG1heGltdW0gdmFsdWUuXG5cdFx0aWYgKCAnJyAhPT0gaW5wdXQubWF4ICkge1xuXHRcdFx0aW5wdXQudmFsdWUgPSBNYXRoLm1pbiggTnVtYmVyKCBpbnB1dC52YWx1ZSApLCBOdW1iZXIoIGlucHV0Lm1heCApICk7XG5cdFx0fVxuXG5cdFx0Ly8gVmFsaWRhdGUgbWluaW11bSB2YWx1ZS5cblx0XHRpZiAoICcnICE9PSBpbnB1dC5taW4gKSB7XG5cdFx0XHRpbnB1dC52YWx1ZSA9IE1hdGgubWF4KCBOdW1iZXIoIGlucHV0LnZhbHVlICksIE51bWJlciggaW5wdXQubWluICkgKTtcblx0XHR9XG5cblx0XHQkKCBpbnB1dCApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdH1cblxuXHQkKCAnI2N1c3RvbWl6ZS1jb250cm9scycgKS5vbiggJ2JsdXInLCAnaW5wdXRbdHlwZT1cIm51bWJlclwiXScsIGlucHV0TnVtYmVyVmFsaWRhdGlvbiApO1xuXHQkKCAnI2N1c3RvbWl6ZS1jb250cm9scycgKS5vbiggJ2tleXVwJywgJ2lucHV0W3R5cGU9XCJudW1iZXJcIl0nLCBmdW5jdGlvbiggZSApIHtcblx0XHRpZiAoIDEzID09IGUud2hpY2ggKSB7XG5cdFx0XHRpbnB1dE51bWJlclZhbGlkYXRpb24oIGUgKTtcblx0XHR9XG5cdH0pO1xuXHQvLyBEaXNhYmxlIG1vdXNld2hlZWwgc2Nyb2xsIHdoZW4gaW5wdXQgaXMgaW4gZm9jdXMuXG5cdCQoICcjY3VzdG9taXplLWNvbnRyb2xzJyApLm9uKCAnZm9jdXMnLCAnaW5wdXRbdHlwZT1cIm51bWJlclwiXScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdCQoIHRoaXMgKS5vbiggJ21vdXNld2hlZWwuZGlzYWJsZVNjcm9sbCcsIGZ1bmN0aW9uICggZSApIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcblx0fSk7XG5cdCQoICcjY3VzdG9taXplLWNvbnRyb2xzJyApLm9uKCAnYmx1cicsICdpbnB1dFt0eXBlPVwibnVtYmVyXCJdJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0JCggdGhpcyApLm9mZiggJ21vdXNld2hlZWwuZGlzYWJsZVNjcm9sbCcgKTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIERpbWVuc2lvbiBmaWVsZCBoYW5kbGVyXG5cdCAqIEZpZWxkIGNvbnRhaW5zIGEgcGFpciBvZiBudW1iZXIgYW5kIHVuaXQuXG5cdCAqL1xuXG5cdCQoICcjY3VzdG9taXplLWNvbnRyb2xzJyApLm9uKCAnY2hhbmdlJywgJy5zdWtpLWRpbWVuc2lvbi11bml0JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyICR1bml0ID0gJCggZS50YXJnZXQgKSxcblx0XHQgICAgJHVuaXRDaG9pY2UgPSAkdW5pdC5maW5kKCAnb3B0aW9uW3ZhbHVlPVwiJyArICR1bml0LnZhbCgpICsgJ1wiXScgKSxcblx0XHQgICAgJHNjb3BlID0gJCggZS50YXJnZXQgKS5jbG9zZXN0KCAnLnN1a2ktZGltZW5zaW9uJyApLFxuXHRcdCAgICAkbnVtYmVyID0gJHNjb3BlLmZpbmQoICcuc3VraS1kaW1lbnNpb24tbnVtYmVyJyApO1xuXG5cdFx0JG51bWJlci5hdHRyKCAnbWluJywgJHVuaXRDaG9pY2UuYXR0ciggJ2RhdGEtbWluJyApICk7XG5cdFx0JG51bWJlci5hdHRyKCAnbWF4JywgJHVuaXRDaG9pY2UuYXR0ciggJ2RhdGEtbWF4JyApICk7XG5cdFx0JG51bWJlci5hdHRyKCAnc3RlcCcsICR1bml0Q2hvaWNlLmF0dHIoICdkYXRhLXN0ZXAnICkgKTtcblx0XHQkbnVtYmVyLnZhbCggJycgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHR9KTtcblxuXHQkKCAnI2N1c3RvbWl6ZS1jb250cm9scycgKS5vbiggJ2NoYW5nZScsICcuc3VraS1kaW1lbnNpb24tbnVtYmVyJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0dmFyICRudW1iZXIgPSAkKCBlLnRhcmdldCApLFxuXHRcdCAgICAkc2NvcGUgPSAkKCBlLnRhcmdldCApLmNsb3Nlc3QoICcuc3VraS1kaW1lbnNpb24nICksXG5cdFx0ICAgICR1bml0ID0gJHNjb3BlLmZpbmQoICcuc3VraS1kaW1lbnNpb24tdW5pdCcgKSxcblx0XHQgICAgJHZhbHVlID0gJHNjb3BlLmZpbmQoICcuc3VraS1kaW1lbnNpb24tdmFsdWUnICk7XG5cblx0XHQkdmFsdWUudmFsKCAnJyA9PT0gJG51bWJlci52YWwoKSA/ICcnIDogJG51bWJlci52YWwoKS50b1N0cmluZygpICsgJHVuaXQudmFsKCkudG9TdHJpbmcoKSApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBDb250ZW50bGVzcyBzZWN0aW9ucyBsaWtlOiBzdWtpLXNlY3Rpb24tc3BhY2VyLCBzdWtpLXNlY3Rpb24tcHJvLXRlYXNlciwgc3VraS1zZWN0aW9uLXByby1saW5rXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuc2VjdGlvbkNvbnN0cnVjdG9yWydzdWtpLXNlY3Rpb24tcHJvLXRlYXNlciddID1cblx0d3AuY3VzdG9taXplLnNlY3Rpb25Db25zdHJ1Y3Rvclsnc3VraS1zZWN0aW9uLXByby1saW5rJ10gPVxuXHR3cC5jdXN0b21pemUuc2VjdGlvbkNvbnN0cnVjdG9yWydzdWtpLXNlY3Rpb24tcHJvLWxvY2tlZCddID1cblx0d3AuY3VzdG9taXplLnNlY3Rpb25Db25zdHJ1Y3Rvclsnc3VraS1zZWN0aW9uLXNwYWNlciddID0gd3AuY3VzdG9taXplLlNlY3Rpb24uZXh0ZW5kKHtcblx0XHQvLyBObyBldmVudHMgZm9yIHRoaXMgdHlwZSBvZiBzZWN0aW9uLlxuXHRcdGF0dGFjaEV2ZW50czogZnVuY3Rpb24gKCkge30sXG5cdFx0Ly8gQWx3YXlzIG1ha2UgdGhlIHNlY3Rpb24gYWN0aXZlLlxuXHRcdGlzQ29udGV4dHVhbGx5QWN0aXZlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBTdWtpIGNvbG9yIGNvbnRyb2xcblx0ICovXG5cdHdwLmN1c3RvbWl6ZS5jb250cm9sQ29uc3RydWN0b3JbJ3N1a2ktY29sb3InXSA9IHdwLmN1c3RvbWl6ZS5Db250cm9sLmV4dGVuZCh7XG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNvbnRyb2wgPSB0aGlzLFxuXHRcdFx0XHQkcGlja2VyID0gY29udHJvbC5jb250YWluZXIuZmluZCggJy5jb2xvci1waWNrZXInICk7XG5cblx0XHRcdCRwaWNrZXIuYWxwaGFDb2xvclBpY2tlcih7XG5cdFx0XHRcdGNoYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Y29udHJvbC5zZXR0aW5nLnNldCggJHBpY2tlci53cENvbG9yUGlja2VyKCAnY29sb3InICkgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y2xlYXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNvbnRyb2wuc2V0dGluZy5zZXQoICcnICk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBTdWtpIHNoYWRvdyBjb250cm9sXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuY29udHJvbENvbnN0cnVjdG9yWydzdWtpLXNoYWRvdyddID0gd3AuY3VzdG9taXplLkNvbnRyb2wuZXh0ZW5kKHtcblx0XHRyZWFkeTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY29udHJvbCA9IHRoaXM7XG5cblx0XHRcdC8vIFNob3J0Y3V0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byB1c2UgXy5iaW5kIGV2ZXJ5IHRpbWUgd2UgYWRkIGEgY2FsbGJhY2suXG5cdFx0XHRfLmJpbmRBbGwoIGNvbnRyb2wsICd1cGRhdGVWYWx1ZScgKTtcblxuXHRcdFx0Y29udHJvbC5jb250YWluZXIuZmluZCggJy5zdWtpLXNoYWRvdy1jb2xvciAuY29sb3ItcGlja2VyJyApLmFscGhhQ29sb3JQaWNrZXIoe1xuXHRcdFx0XHRjaGFuZ2U6IGNvbnRyb2wudXBkYXRlVmFsdWUsXG5cdFx0XHRcdGNsZWFyOiBjb250cm9sLnVwZGF0ZVZhbHVlLFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnRyb2wuY29udGFpbmVyLm9uKCAnY2hhbmdlIGJsdXInLCAnLnN1a2ktc2hhZG93LWlucHV0JywgY29udHJvbC51cGRhdGVWYWx1ZSApO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVWYWx1ZTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHR2YXIgdmFsdWVzID0gdGhpcy5jb250YWluZXIuZmluZCggJ2lucHV0LnN1a2ktc2hhZG93LWlucHV0JyApLm1hcChmdW5jdGlvbiggaSwgZWwgKSB7XG5cdFx0XHRcdHZhciAkaW5wdXQgPSAkKCBlbCApO1xuXG5cdFx0XHRcdGlmICggJGlucHV0Lmhhc0NsYXNzKCAnY29sb3ItcGlja2VyJyApICkge1xuXHRcdFx0XHRcdHJldHVybiAnJyA9PT0gJGlucHV0LndwQ29sb3JQaWNrZXIoICdjb2xvcicgKSA/ICdyZ2JhKDAsMCwwLDApJyA6ICRpbnB1dC53cENvbG9yUGlja2VyKCAnY29sb3InICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICRpbnB1dC5pcyggJ2lucHV0JyApICkge1xuXHRcdFx0XHRcdHJldHVybiAnJyA9PT0gJGlucHV0LnZhbCgpID8gJzAnIDogJGlucHV0LnZhbCgpLnRvU3RyaW5nKCkgKyAncHgnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiAkaW5wdXQudmFsKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLmdldCgpO1xuXG5cdFx0XHR2YWx1ZXMucHVzaCggdGhpcy5jb250YWluZXIuZmluZCggJ3NlbGVjdC5zdWtpLXNoYWRvdy1pbnB1dCcgKS52YWwoKSApO1xuXG5cdFx0XHR0aGlzLnNldHRpbmcoIHZhbHVlcy5qb2luKCAnICcgKSApO1xuXHRcdH0sXG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBTdWtpIHNsaWRlciBjb250cm9sXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuY29udHJvbENvbnN0cnVjdG9yWydzdWtpLXNsaWRlciddID0gd3AuY3VzdG9taXplLkNvbnRyb2wuZXh0ZW5kKHtcblx0XHRyZWFkeTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY29udHJvbCA9IHRoaXM7XG5cblx0XHRcdC8vIFNob3J0Y3V0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byB1c2UgXy5iaW5kIGV2ZXJ5IHRpbWUgd2UgYWRkIGEgY2FsbGJhY2suXG5cdFx0XHQvLyBfLmJpbmRBbGwoIGNvbnRyb2wsICdvbkNoYW5nZU51bWJlcicsICdvbkNoYW5nZVNsaWRlcicgKTtcblxuXHRcdFx0Y29udHJvbC5jb250YWluZXIub24oICdjaGFuZ2UnLCAnLnN1a2ktc2xpZGVyLW51bWJlcicsIGNvbnRyb2wub25DaGFuZ2VOdW1iZXIgKTtcblx0XHRcdGNvbnRyb2wuY29udGFpbmVyLm9uKCAnaW5wdXQnLCAnLnN1a2ktc2xpZGVyLXJhbmdlJywgY29udHJvbC5vbkNoYW5nZVNsaWRlciApO1xuXHRcdH0sXG5cblx0XHRvbkNoYW5nZU51bWJlcjogZnVuY3Rpb24oIGUsIGNoYW5nZUZyb21SYW5nZSA9IGZhbHNlICkge1xuXHRcdFx0aWYgKCAhIGNoYW5nZUZyb21SYW5nZSApIHtcblx0XHRcdFx0dmFyICRudW1iZXIgPSAkKCBlLnRhcmdldCApLFxuXHRcdFx0XHRcdCRzY29wZSA9ICQoIGUudGFyZ2V0ICkuY2xvc2VzdCggJy5zdWtpLXNsaWRlci1maWVsZHNldCcgKSxcblx0XHRcdFx0XHQkcmFuZ2UgPSAkc2NvcGUuZmluZCggJy5zdWtpLXNsaWRlci1yYW5nZScgKTtcblx0XG5cdFx0XHRcdCRyYW5nZS52YWwoICRudW1iZXIudmFsKCkgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0b25DaGFuZ2VTbGlkZXI6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dmFyICRyYW5nZSA9ICQoIGUudGFyZ2V0ICksXG5cdFx0XHQgICAgJHNjb3BlID0gJCggZS50YXJnZXQgKS5jbG9zZXN0KCAnLnN1a2ktc2xpZGVyLWZpZWxkc2V0JyApLFxuXHRcdFx0ICAgICRudW1iZXIgPSAkc2NvcGUuZmluZCggJy5zdWtpLXNsaWRlci1udW1iZXInICk7XG5cblx0XHRcdCRudW1iZXIudmFsKCAkcmFuZ2UudmFsKCkgKS50cmlnZ2VyKCAnY2hhbmdlJywgWyB0cnVlIF0gKTtcblx0XHR9LFxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTdWtpIGRpbWVuc2lvbnMgY29udHJvbFxuXHQgKi9cblx0d3AuY3VzdG9taXplLmNvbnRyb2xDb25zdHJ1Y3Rvclsnc3VraS1kaW1lbnNpb25zJ10gPSB3cC5jdXN0b21pemUuQ29udHJvbC5leHRlbmQoe1xuXHRcdHJlYWR5OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjb250cm9sID0gdGhpcztcblxuXHRcdFx0Ly8gU2hvcnRjdXQgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIHVzZSBfLmJpbmQgZXZlcnkgdGltZSB3ZSBhZGQgYSBjYWxsYmFjay5cblx0XHRcdC8vIF8uYmluZEFsbCggY29udHJvbCwgJ3VwZGF0ZVZhbHVlJyApO1xuXG5cdFx0XHRjb250cm9sLmNvbnRhaW5lci5vbiggJ2NoYW5nZScsICcuc3VraS1kaW1lbnNpb24tdmFsdWUnLCBjb250cm9sLnVwZGF0ZVZhbHVlICk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVZhbHVlOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdHZhciAkc2NvcGUgPSAkKCBlLnRhcmdldCApLmNsb3Nlc3QoICcuc3VraS1kaW1lbnNpb25zLWZpZWxkc2V0JyApLFxuXHRcdFx0ICAgICRpdGVtcyA9ICRzY29wZS5maW5kKCAnLnN1a2ktZGltZW5zaW9uLXZhbHVlJyApLFxuXHRcdFx0ICAgIHZhbHVlcyA9IFtdO1xuXG5cdFx0XHQkaXRlbXMuZWFjaChmdW5jdGlvbiggaSwgaXRlbSApIHtcblx0XHRcdFx0aWYgKCAnJyA9PT0gaXRlbS52YWx1ZSApIHtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCggJzAnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goIHRoaXMudmFsdWUudG9TdHJpbmcoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0JHNjb3BlLmZpbmQoICcuc3VraS1kaW1lbnNpb25zLXZhbHVlJyApLnZhbCggdmFsdWVzLmpvaW4oICcgJyApICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHR9LFxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTdWtpIGJhY2tncm91bmQgY29udHJvbFxuXHQgKi9cblx0IHdwLmN1c3RvbWl6ZS5jb250cm9sQ29uc3RydWN0b3JbJ3N1a2ktYmFja2dyb3VuZCddID0gd3AuY3VzdG9taXplLkNvbnRyb2wuZXh0ZW5kKHtcblx0XHRyZWFkeTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY29udHJvbCA9IHRoaXM7XG5cblx0XHRcdC8vIFNob3J0Y3V0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byB1c2UgXy5iaW5kIGV2ZXJ5IHRpbWUgd2UgYWRkIGEgY2FsbGJhY2suXG5cdFx0XHRfLmJpbmRBbGwoIGNvbnRyb2wsICdvcGVuTWVkaWFMaWJyYXJ5JywgJ3JlbW92ZUltYWdlJywgJ29uT3Blbk1lZGlhTGlicmFyeScsICdvblNlbGVjdE1lZGlhTGlicmFyeScgKTtcblxuXHRcdFx0Y29udHJvbC5jb250YWluZXIub24oICdjbGljayBrZXlkb3duJywgJy51cGxvYWQtYnV0dG9uJywgY29udHJvbC5vcGVuTWVkaWFMaWJyYXJ5ICk7XG5cdFx0XHRjb250cm9sLmNvbnRhaW5lci5vbiggJ2NsaWNrIGtleWRvd24nLCAnLnRodW1ibmFpbC1pbWFnZSBpbWcnLCBjb250cm9sLm9wZW5NZWRpYUxpYnJhcnkgKTtcblx0XHRcdGNvbnRyb2wuY29udGFpbmVyLm9uKCAnY2xpY2sga2V5ZG93bicsICcucmVtb3ZlLWJ1dHRvbicsIGNvbnRyb2wucmVtb3ZlSW1hZ2UgKTtcblx0XHR9LFxuXG5cdFx0b3Blbk1lZGlhTGlicmFyeTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRpZiAoIHdwLmN1c3RvbWl6ZS51dGlscy5pc0tleWRvd25CdXROb3RFbnRlckV2ZW50KCBlICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRpZiAoICEgdGhpcy5tZWRpYUxpYnJhcnkgKSB7XG5cdFx0XHRcdHRoaXMuaW5pdE1lZGlhTGlicmFyeSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1lZGlhTGlicmFyeS5vcGVuKCk7XG5cdFx0fSxcblxuXHRcdGluaXRNZWRpYUxpYnJhcnk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5tZWRpYUxpYnJhcnkgPSB3cC5tZWRpYSh7XG5cdFx0XHRcdHN0YXRlczogW1xuXHRcdFx0XHRcdG5ldyB3cC5tZWRpYS5jb250cm9sbGVyLkxpYnJhcnkoe1xuXHRcdFx0XHRcdFx0bGlicmFyeTogd3AubWVkaWEucXVlcnkoeyB0eXBlOiAnaW1hZ2UnIH0pLFxuXHRcdFx0XHRcdFx0bXVsdGlwbGU6IGZhbHNlLFxuXHRcdFx0XHRcdFx0ZGF0ZTogZmFsc2UsXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdF0sXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gV2hlbiBhIGZpbGUgaXMgc2VsZWN0ZWQsIHJ1biBhIGNhbGxiYWNrLlxuXHRcdFx0dGhpcy5tZWRpYUxpYnJhcnkub24oICdzZWxlY3QnLCB0aGlzLm9uU2VsZWN0TWVkaWFMaWJyYXJ5ICk7XG5cblx0XHRcdHRoaXMubWVkaWFMaWJyYXJ5Lm9uKCAnb3BlbicsIHRoaXMub25PcGVuTWVkaWFMaWJyYXJ5ICk7XG5cdFx0fSxcblxuXHRcdG9uT3Blbk1lZGlhTGlicmFyeTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyYW1zLmF0dGFjaG1lbnQgKSB7XG5cdFx0XHRcdHZhciBhdHRhY2htZW50ID0gd3AubWVkaWEuYXR0YWNobWVudCggdGhpcy5wYXJhbXMuYXR0YWNobWVudC5pZCApO1xuXG5cdFx0XHRcdGF0dGFjaG1lbnQuZmV0Y2goKTtcblxuXHRcdFx0XHR0aGlzLm1lZGlhTGlicmFyeS5zdGF0ZSgpLmdldCggJ3NlbGVjdGlvbicgKS5hZGQoIFsgYXR0YWNobWVudCBdICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdG9uU2VsZWN0TWVkaWFMaWJyYXJ5OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdHZhciBhdHRhY2htZW50ID0gdGhpcy5tZWRpYUxpYnJhcnkuc3RhdGUoKS5nZXQoICdzZWxlY3Rpb24nICkuZmlyc3QoKS50b0pTT04oKTtcblxuXHRcdFx0dGhpcy5wYXJhbXMuYXR0YWNobWVudCA9IGF0dGFjaG1lbnQ7XG5cblx0XHRcdC8vIFNldCB0aGUgQ3VzdG9taXplciBzZXR0aW5nOyB0aGUgY2FsbGJhY2sgdGFrZXMgY2FyZSBvZiByZW5kZXJpbmcuXG5cdFx0XHR0aGlzLnNldHRpbmdzLmltYWdlLnNldCggYXR0YWNobWVudC51cmwgKTtcblxuXHRcdFx0dGhpcy5yZW5kZXJDb250ZW50KCk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZUltYWdlOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdGlmICggd3AuY3VzdG9taXplLnV0aWxzLmlzS2V5ZG93bkJ1dE5vdEVudGVyRXZlbnQoIGUgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHRoaXMucGFyYW1zLmF0dGFjaG1lbnQgPSB7fTtcblx0XHRcdHRoaXMuc2V0dGluZ3MuaW1hZ2Uuc2V0KCAnJyApO1xuXHRcdFx0dGhpcy5yZW5kZXJDb250ZW50KCk7IC8vIE5vdCBib3VuZCB0byBzZXR0aW5nIGNoYW5nZSB3aGVuIGVtcHR5aW5nLlxuXHRcdH0sXG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFN1a2kgbXVsdGlwbGUgY2hlY2tib3hlcyBjb250cm9sXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuY29udHJvbENvbnN0cnVjdG9yWydzdWtpLW11bHRpY2hlY2snXSA9IHdwLmN1c3RvbWl6ZS5Db250cm9sLmV4dGVuZCh7XG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNvbnRyb2wgPSB0aGlzLFxuXHRcdFx0ICAgICRjaGVja2JveGVzID0gY29udHJvbC5jb250YWluZXIuZmluZCggJy5zdWtpLW11bHRpY2hlY2staW5wdXQnICk7XG5cblx0XHRcdCRjaGVja2JveGVzLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IFtdO1xuXG5cdFx0XHRcdCRjaGVja2JveGVzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLmNoZWNrZWQgKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZS5wdXNoKCB0aGlzLnZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjb250cm9sLnNldHRpbmcuc2V0KCB2YWx1ZSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcblx0ICogU3VraSBzb3J0YWJsZSBjb250cm9sXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuY29udHJvbENvbnN0cnVjdG9yWydzdWtpLXNvcnRhYmxlJ10gPSB3cC5jdXN0b21pemUuQ29udHJvbC5leHRlbmQoe1xuXHRcdHJlYWR5OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjb250cm9sID0gdGhpcyxcblx0XHRcdCAgICAkc29ydGFibGUgPSBjb250cm9sLmNvbnRhaW5lclswXS5xdWVyeVNlbGVjdG9yKCAnLnN1a2ktc29ydGFibGUnICksXG5cdFx0XHQgICAgJGNoZWNrYm94ZXMgPSBjb250cm9sLmNvbnRhaW5lclswXS5xdWVyeVNlbGVjdG9yQWxsKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyApO1xuXG5cdFx0XHQvLyBTaG9ydGN1dCBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gdXNlIF8uYmluZCBldmVyeSB0aW1lIHdlIGFkZCBhIGNhbGxiYWNrLlxuXHRcdFx0Xy5iaW5kQWxsKCBjb250cm9sLCAndXBkYXRlVmFsdWUnICk7XG5cblx0XHRcdGNvbnRyb2wuc29ydGFibGUgPSAkc29ydGFibGU7XG5cblx0XHRcdHNvcnRhYmxlKCAnIycgKyAkc29ydGFibGUuaWQsIHtcblx0XHRcdFx0aGFuZGxlOiAnLnN1a2ktc29ydGFibGUtaXRlbS1oYW5kbGUnLFxuXHRcdFx0XHRmb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZSxcblx0XHRcdFx0aXRlbVNlcmlhbGl6ZXI6IGZ1bmN0aW9uKCBzZXJpYWxpemVkSXRlbSwgc29ydGFibGVDb250YWluZXIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGNoZWNrZWQ6IHNlcmlhbGl6ZWRJdGVtLm5vZGUucXVlcnlTZWxlY3RvciggJ2lucHV0JyApLmNoZWNrZWQsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2VyaWFsaXplZEl0ZW0ubm9kZS5kYXRhc2V0LnZhbHVlLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQkc29ydGFibGUuYWRkRXZlbnRMaXN0ZW5lciggJ3NvcnR1cGRhdGUnLCBjb250cm9sLnVwZGF0ZVZhbHVlLCBmYWxzZSApO1xuXG5cdFx0XHQkY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uKCAkY2hlY2tib3ggKSB7XG5cdFx0XHRcdCRjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCAnY2hhbmdlJywgY29udHJvbC51cGRhdGVWYWx1ZSwgZmFsc2UgKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVWYWx1ZTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHQvLyBHZXQgYWxsIGl0ZW1zLlxuXHRcdFx0dmFyIHNlcmlhbGl6ZWQgPSBzb3J0YWJsZSggJyMnICsgdGhpcy5zb3J0YWJsZS5pZCwgJ3NlcmlhbGl6ZScgKTtcblx0XHRcdFxuXHRcdFx0Ly8gRmlsdGVyIG9ubHkgY2hlY2tlZCBpdGVtcy5cblx0XHRcdHZhciBjaGVja2VkSXRlbXMgPSBzZXJpYWxpemVkWzBdLml0ZW1zLmZpbHRlciggZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmNoZWNrZWQ7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQnVpbGQgdmFsdWUuXG5cdFx0XHR2YXIgdmFsdWUgPSBbXTtcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNoZWNrZWRJdGVtcy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUucHVzaCggY2hlY2tlZEl0ZW1zW2ldLnZhbHVlICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuc2V0dGluZy5zZXQoIHZhbHVlICk7XG5cdFx0fSxcblx0fSk7XG5cblx0LyoqXG5cdCAqIFN1a2kgYnVpbGRlciBjb250cm9sXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuY29udHJvbENvbnN0cnVjdG9yWydzdWtpLWJ1aWxkZXInXSA9IHdwLmN1c3RvbWl6ZS5Db250cm9sLmV4dGVuZCh7XG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNvbnRyb2wgPSB0aGlzO1xuXG5cdFx0XHRjb250cm9sLmJ1aWxkZXIgPSBjb250cm9sLmNvbnRhaW5lci5maW5kKCAnLnN1a2ktYnVpbGRlcicgKTtcblx0XHRcdGNvbnRyb2wuYnVpbGRlckxvY2F0aW9ucyA9IGNvbnRyb2wuYnVpbGRlci5maW5kKCAnLnN1a2ktYnVpbGRlci1sb2NhdGlvbicgKTtcblx0XHRcdGNvbnRyb2wuYnVpbGRlckluYWN0aXZlID0gY29udHJvbC5idWlsZGVyLmZpbmQoICcuc3VraS1idWlsZGVyLWluYWN0aXZlJyApO1xuXG5cdFx0XHQvLyBDb3JlIGZ1bmN0aW9uIHRvIHVwZGF0ZSBzZXR0aW5nJ3MgdmFsdWUuXG5cdFx0XHRjb250cm9sLnVwZGF0ZVZhbHVlID0gZnVuY3Rpb24oIGxvY2F0aW9uICkge1xuXHRcdFx0XHRpZiAoICdfX2luYWN0aXZlJyA9PT0gbG9jYXRpb24gKSByZXR1cm47XG5cblx0XHRcdFx0dmFyICRsb2NhdGlvblBhbmVsID0gY29udHJvbC5idWlsZGVyTG9jYXRpb25zLmZpbHRlciggJ1tkYXRhLWxvY2F0aW9uPVwiJyArIGxvY2F0aW9uICsgJ1wiXScgKSxcblx0XHRcdFx0ICAgICRlbGVtZW50cyA9ICRsb2NhdGlvblBhbmVsLmZpbmQoICcuc3VraS1idWlsZGVyLWVsZW1lbnQnICksXG5cdFx0XHRcdCAgICB2YWx1ZSA9IFtdO1xuXG5cdFx0XHRcdCRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhbHVlLnB1c2goICQoIHRoaXMgKS5hdHRyKCAnZGF0YS12YWx1ZScgKSApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoIG51bGwgIT09IGNvbnRyb2wuc2V0dGluZ3MgKSB7XG5cdFx0XHRcdFx0Y29udHJvbC5zZXR0aW5nc1sgbG9jYXRpb24gXS5zZXQoIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udHJvbC5zZXR0aW5nLnNldCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gU2hvdyAvIGhpZGUgYWRkIGJ1dHRvbi5cblx0XHRcdGNvbnRyb2wuc2hvd0hpZGVBZGRCdXR0b24gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICRhZGRCdXR0b24gPSBjb250cm9sLmJ1aWxkZXIuZmluZCggJy5zdWtpLWJ1aWxkZXItZWxlbWVudC1hZGQnICk7XG5cblx0XHRcdFx0aWYgKCAwID09PSBjb250cm9sLmJ1aWxkZXJJbmFjdGl2ZS5maW5kKCAnLnN1a2ktYnVpbGRlci1lbGVtZW50JyApLmxlbmd0aCApIHtcblx0XHRcdFx0XHQkYWRkQnV0dG9uLmhpZGUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkYWRkQnV0dG9uLnNob3coKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y29udHJvbC5zaG93SGlkZUFkZEJ1dHRvbigpO1xuXG5cdFx0XHQvLyBUcmlnZ2VyIGNsaWNrIGV2ZW50IG9uIGFsbCBzcGFuIHdpdGggdGFiaW5kZXggdXNpbmcga2V5Ym9hcmQuXG5cdFx0XHRjb250cm9sLmNvbnRhaW5lci5vbiggJ2tleXVwJywgJ1t0YWJpbmRleF0nLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0aWYgKCAxMyA9PSBlLndoaWNoIHx8IDMyID09IGUud2hpY2ggKSB7XG5cdFx0XHRcdFx0JCggdGhpcyApLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEV4cGFuZCBpbmFjdGl2ZSBwYW5lbC5cblx0XHRcdGNvbnRyb2wuY29udGFpbmVyLm9uKCAnY2xpY2snLCAnLnN1a2ktYnVpbGRlci1lbGVtZW50LWFkZCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApLFxuXHRcdFx0XHQgICAgJGxvY2F0aW9uID0gJHRoaXMuY2xvc2VzdCggJy5zdWtpLWJ1aWxkZXItbG9jYXRpb24nICksXG5cdFx0XHRcdCAgICAkd3JhcHBlciA9ICR0aGlzLmNsb3Nlc3QoICcuc3VraS1idWlsZGVyLWxvY2F0aW9ucycgKTtcblxuXHRcdFx0XHRpZiAoIGNvbnRyb2wuYnVpbGRlckluYWN0aXZlLnByZXYoKS5nZXQoMCkgPT0gJGxvY2F0aW9uLmdldCgwKSAmJiBjb250cm9sLmJ1aWxkZXJJbmFjdGl2ZS5oYXNDbGFzcyggJ3Nob3cnICkgKSB7XG5cdFx0XHRcdFx0Y29udHJvbC5idWlsZGVySW5hY3RpdmUucmVtb3ZlQ2xhc3MoICdzaG93JyApLmFwcGVuZFRvKCAkd3JhcHBlciApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRyb2wuYnVpbGRlckluYWN0aXZlLmFkZENsYXNzKCAnc2hvdycgKS5pbnNlcnRBZnRlciggJGxvY2F0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBZGQgZWxlbWVudCB0byBuZWFyYnkgbG9jYXRpb24uXG5cdFx0XHRjb250cm9sLmNvbnRhaW5lci5vbiggJ2NsaWNrJywgJy5zdWtpLWJ1aWxkZXItaW5hY3RpdmUgLnN1a2ktYnVpbGRlci1lbGVtZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRpZiAoIGNvbnRyb2wuYnVpbGRlckluYWN0aXZlLmhhc0NsYXNzKCAnc2hvdycgKSApIHtcblx0XHRcdFx0XHR2YXIgJGVsZW1lbnQgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0ICAgICRsb2NhdGlvbiA9IGNvbnRyb2wuYnVpbGRlckluYWN0aXZlLnByZXYoICcuc3VraS1idWlsZGVyLWxvY2F0aW9uJyApO1xuXG5cdFx0XHRcdFx0JGVsZW1lbnQuYXBwZW5kVG8oICRsb2NhdGlvbi5jaGlsZHJlbiggJy5zdWtpLWJ1aWxkZXItc29ydGFibGUtcGFuZWwnICkgKTtcblx0XHRcdFx0XHRjb250cm9sLmJ1aWxkZXJJbmFjdGl2ZS5yZW1vdmVDbGFzcyggJ3Nob3cnICk7XG5cblx0XHRcdFx0XHRjb250cm9sLnVwZGF0ZVZhbHVlKCAkbG9jYXRpb24uYXR0ciggJ2RhdGEtbG9jYXRpb24nICkgKTtcblx0XHRcdFx0XHRjb250cm9sLnNob3dIaWRlQWRkQnV0dG9uKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBEZWxldGUgZWxlbWVudCBmcm9tIGxvY2F0aW9uLlxuXHRcdFx0Y29udHJvbC5jb250YWluZXIub24oICdjbGljaycsICcuc3VraS1idWlsZGVyLWVsZW1lbnQtZGVsZXRlJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsZW1lbnQgPSAkKCB0aGlzICkucGFyZW50KCAnLnN1a2ktYnVpbGRlci1lbGVtZW50JyApLFxuXHRcdFx0XHQgICAgJGxvY2F0aW9uID0gJGVsZW1lbnQuY2xvc2VzdCggJy5zdWtpLWJ1aWxkZXItbG9jYXRpb24nICk7XG5cblx0XHRcdFx0JGVsZW1lbnQucHJlcGVuZFRvKCBjb250cm9sLmJ1aWxkZXJJbmFjdGl2ZS5jaGlsZHJlbiggJy5zdWtpLWJ1aWxkZXItc29ydGFibGUtcGFuZWwnICkgKTtcblx0XHRcdFx0Y29udHJvbC51cGRhdGVWYWx1ZSggJGxvY2F0aW9uLmF0dHIoICdkYXRhLWxvY2F0aW9uJyApICk7XG5cdFx0XHRcdGNvbnRyb2wuc2hvd0hpZGVBZGRCdXR0b24oKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBJbml0aWFsaXplIHNvcnRhYmxlLlxuXHRcdFx0Y29udHJvbC5jb250YWluZXIuZmluZCggJy5zdWtpLWJ1aWxkZXItc29ydGFibGUtcGFuZWwnICkuc29ydGFibGUoe1xuXHRcdFx0XHRpdGVtczogJy5zdWtpLWJ1aWxkZXItZWxlbWVudDpub3QoLnN1a2ktYnVpbGRlci1lbGVtZW50LWRpc2FibGVkKScsXG5cdFx0XHRcdGNvbm5lY3RXaXRoOiAnLnN1a2ktYnVpbGRlci1zb3J0YWJsZS1wYW5lbFtkYXRhLWNvbm5lY3Q9XCInICsgY29udHJvbC5idWlsZGVyLmF0dHIoICdkYXRhLW5hbWUnICkgKyAnXCJdJyxcblx0XHRcdFx0Y29udGFpbm1lbnQ6IGNvbnRyb2wuY29udGFpbmVyLFxuXHRcdFx0XHR1cGRhdGU6IGZ1bmN0aW9uKCBlLCB1aSApIHtcblx0XHRcdFx0XHRjb250cm9sLnVwZGF0ZVZhbHVlKCAkKCBlLnRhcmdldCApLnBhcmVudCgpLmF0dHIoICdkYXRhLWxvY2F0aW9uJyApICk7XG5cdFx0XHRcdFx0Y29udHJvbC5zaG93SGlkZUFkZEJ1dHRvbigpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdHJlY2VpdmU6IGZ1bmN0aW9uKCBlLCB1aSApIHtcblx0XHRcdFx0XHR2YXIgbGltaXRhdGlvbnMgPSAkKCB1aS5pdGVtICkuYXR0ciggJ2RhdGEtbGltaXRhdGlvbnMnICkuc3BsaXQoICcsJyApO1xuXG5cdFx0XHRcdFx0aWYgKCAwIDw9IGxpbWl0YXRpb25zLmluZGV4T2YoICQoIHRoaXMgKS5wYXJlbnQoKS5hdHRyKCAnZGF0YS1sb2NhdGlvbicgKSApICkge1xuXHRcdFx0XHRcdFx0JCggdWkuc2VuZGVyICkuc29ydGFibGUoICdjYW5jZWwnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdGFydDogZnVuY3Rpb24oIGUsIHVpICkge1xuXHRcdFx0XHRcdHZhciBsaW1pdGF0aW9ucyA9ICQoIHVpLml0ZW0gKS5hdHRyKCAnZGF0YS1saW1pdGF0aW9ucycgKS5zcGxpdCggJywnICk7XG5cblx0XHRcdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBsaW1pdGF0aW9ucy5sZW5ndGg7ICsraSApIHtcblx0XHRcdFx0XHRcdHZhciAkdGFyZ2V0ID0gY29udHJvbC5idWlsZGVyTG9jYXRpb25zLmZpbHRlciggJ1tkYXRhLWxvY2F0aW9uPVwiJyArIGxpbWl0YXRpb25zWyBpIF0gKyAnXCJdJyApO1xuXHRcdFx0XHRcdFx0aWYgKCB1bmRlZmluZWQgPT09ICR0YXJnZXQgKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdFx0JHRhcmdldC5hZGRDbGFzcyggJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0c3RvcDogZnVuY3Rpb24oIGUsIHVpICkge1xuXHRcdFx0XHRcdGNvbnRyb2wuYnVpbGRlckxvY2F0aW9ucy5yZW1vdmVDbGFzcyggJ2Rpc2FibGVkJyApO1xuXHRcdFx0XHRcdGNvbnRyb2wuYnVpbGRlckluYWN0aXZlLnJlbW92ZUNsYXNzKCAnZGlzYWJsZWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuZGlzYWJsZVNlbGVjdGlvbigpO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqIEFQSSBvbiByZWFkeSBldmVudCBoYW5kbGVyc1xuXHQgKlxuXHQgKiBBbGwgaGFuZGxlcnMgbmVlZCB0byBiZSBpbnNpZGUgdGhlICdyZWFkeScgc3RhdGUuXG5cdCAqL1xuXHR3cC5jdXN0b21pemUuYmluZCggJ3JlYWR5JywgZnVuY3Rpb24oKSB7XG5cblx0XHQvKipcblx0XHQgKiBTdWtpIHJlc3BvbnNpdmUgY29udHJvbFxuXHRcdCAqL1xuXG5cdFx0Ly8gU2V0IGhhbmRsZXIgd2hlbiBjdXN0b20gcmVzcG9uc2l2ZSB0b2dnbGUgaXMgY2xpY2tlZC5cblx0XHQkKCAnI2N1c3RvbWl6ZS1jb250cm9scycgKS5vbiggJ2NsaWNrJywgJy5zdWtpLXJlc3BvbnNpdmUtc3dpdGNoZXItYnV0dG9uJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZWREZXZpY2Uuc2V0KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtZGV2aWNlJyApICk7XG5cdFx0fSk7XG5cblx0XHQvLyBTZXQgYWxsIGN1c3RvbSByZXNwb25zaXZlIHRvZ2dsZXMgYW5kIGZpZWxkc2V0cy5cblx0XHR2YXIgc2V0Q3VzdG9tUmVzcG9uc2l2ZUVsZW1lbnRzRGlzcGxheSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRldmljZSA9IHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZWREZXZpY2UuZ2V0KCksXG5cdFx0XHQgICAgJGJ1dHRvbnMgPSAkKCAnc3Bhbi5zdWtpLXJlc3BvbnNpdmUtc3dpdGNoZXItYnV0dG9uJyApLFxuXHRcdFx0ICAgICR0YWJzID0gJCggJy5zdWtpLXJlc3BvbnNpdmUtc3dpdGNoZXItYnV0dG9uLm5hdi10YWInICksXG5cdFx0XHQgICAgJHBhbmVscyA9ICQoICcuc3VraS1yZXNwb25zaXZlLWZpZWxkc2V0JyApO1xuXG5cdFx0XHQkcGFuZWxzLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApLmZpbHRlciggJy5wcmV2aWV3LScgKyBkZXZpY2UgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdCRidXR0b25zLnJlbW92ZUNsYXNzKCAnYWN0aXZlJyApLmZpbHRlciggJy5wcmV2aWV3LScgKyBkZXZpY2UgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblx0XHRcdCR0YWJzLnJlbW92ZUNsYXNzKCAnbmF2LXRhYi1hY3RpdmUnICkuZmlsdGVyKCAnLnByZXZpZXctJyArIGRldmljZSApLmFkZENsYXNzKCAnbmF2LXRhYi1hY3RpdmUnICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVmcmVzaCBhbGwgcmVzcG9uc2l2ZSBlbGVtZW50cyB3aGVuIHByZXZpZXdlZERldmljZSBpcyBjaGFuZ2VkLlxuXHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZWREZXZpY2UuYmluZCggc2V0Q3VzdG9tUmVzcG9uc2l2ZUVsZW1lbnRzRGlzcGxheSApO1xuXG5cdFx0Ly8gUmVmcmVzaCBhbGwgcmVzcG9uc2l2ZSBlbGVtZW50cyB3aGVuIGFueSBzZWN0aW9uIGlzIGV4cGFuZGVkLlxuXHRcdC8vIFRoaXMgaXMgcmVxdWlyZWQgdG8gc2V0IHJlc3BvbnNpdmUgZWxlbWVudHMgb24gbmV3bHkgYWRkZWQgY29udHJvbHMgaW5zaWRlIHRoZSBzZWN0aW9uLlxuXHRcdHdwLmN1c3RvbWl6ZS5zZWN0aW9uLmVhY2goZnVuY3Rpb24gKCBzZWN0aW9uICkge1xuXHRcdFx0c2VjdGlvbi5leHBhbmRlZC5iaW5kKCBzZXRDdXN0b21SZXNwb25zaXZlRWxlbWVudHNEaXNwbGF5ICk7XG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBsaW5rcyB0byBzZXQgcHJldmlldyBVUkwuXG5cdFx0ICovXG5cdFx0JCggJyNjdXN0b21pemUtY29udHJvbHMnICkub24oICdjbGljaycsICcuc3VraS1jdXN0b21pemUtc2V0LXByZXZpZXctdXJsJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcblx0XHRcdCAgICBocmVmID0gJHRoaXMuYXR0ciggJ2hyZWYnICksXG5cdFx0XHQgICAgdXJsID0gZ2V0VXJsUGFyYW1ldGVyKCAndXJsJywgaHJlZiApO1xuXG5cdFx0XHRpZiAoIHVybCAhPT0gd3AuY3VzdG9taXplLnByZXZpZXdlci5wcmV2aWV3VXJsKCkgKSB7XG5cdFx0XHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZXIucHJldmlld1VybCggdXJsICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBFdmVudCBoYW5kbGVyIGZvciBsaW5rcyB0byBqdW1wIHRvIGEgY2VydGFpbiBjb250cm9sIC8gc2VjdGlvbi5cblx0XHQgKi9cblx0XHQkKCAnI2N1c3RvbWl6ZS1jb250cm9scycgKS5vbiggJ2NsaWNrJywgJy5zdWtpLWN1c3RvbWl6ZS1nb3RvLWNvbnRyb2wnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApLFxuXHRcdFx0ICAgIGhyZWYgPSAkdGhpcy5hdHRyKCAnaHJlZicgKSxcblx0XHRcdCAgICB0YXJnZXRDb250cm9sID0gZ2V0VXJsUGFyYW1ldGVyKCAnYXV0b2ZvY3VzW2NvbnRyb2xdJywgaHJlZiApLFxuXHRcdFx0ICAgIHRhcmdldFNlY3Rpb24gPSBnZXRVcmxQYXJhbWV0ZXIoICdhdXRvZm9jdXNbc2VjdGlvbl0nLCBocmVmICksXG5cdFx0XHQgICAgdGFyZ2V0UGFuZWw9IGdldFVybFBhcmFtZXRlciggJ2F1dG9mb2N1c1twYW5lbF0nLCBocmVmICk7XG5cblx0XHRcdGlmICggdGFyZ2V0Q29udHJvbCApIHtcblx0XHRcdFx0d3AuY3VzdG9taXplLmNvbnRyb2woIHRhcmdldENvbnRyb2wgKS5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIHRhcmdldFNlY3Rpb24gKSB7XG5cdFx0XHRcdHdwLmN1c3RvbWl6ZS5zZWN0aW9uKCB0YXJnZXRTZWN0aW9uICkuZm9jdXMoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKCB0YXJnZXRQYW5lbCApIHtcblx0XHRcdFx0d3AuY3VzdG9taXplLnBhbmVsKCB0YXJnZXRQYW5lbCApLmZvY3VzKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBDb250cm9scyBkZXBlbmRlbmNpZXMgLyBjb250ZXh0cy5cblx0XHQgKi9cblx0XHRpZiAoIHN1a2lDdXN0b21pemVyQ29udHJvbHNEYXRhICYmIHN1a2lDdXN0b21pemVyQ29udHJvbHNEYXRhLmNvbnRleHRzICkge1xuXHRcdFx0Xy5lYWNoKCBzdWtpQ3VzdG9taXplckNvbnRyb2xzRGF0YS5jb250ZXh0cywgZnVuY3Rpb24oIGVsZW1lbnRSdWxlcywgZWxlbWVudElEICkge1xuXHRcdFx0XHR2YXIgZWxlbWVudFR5cGUgPSAwID09IGVsZW1lbnRJRC5pbmRleE9mKCAnc3VraV9zZWN0aW9uJyApID8gJ3NlY3Rpb24nIDogJ2NvbnRyb2wnO1xuXG5cdFx0XHRcdHdwLmN1c3RvbWl6ZVsgZWxlbWVudFR5cGUgXSggZWxlbWVudElELCBmdW5jdGlvbiggZWxlbWVudE9iaiApIHtcblx0XHRcdFx0XHRfLmVhY2goIGVsZW1lbnRSdWxlcywgZnVuY3Rpb24oIHJ1bGUsIGkgKSB7XG5cdFx0XHRcdFx0XHR2YXIgcnVsZVNldHRpbmdPYmogPSAnX19kZXZpY2UnID09PSBydWxlLnNldHRpbmcgPyB3cC5jdXN0b21pemUucHJldmlld2VkRGV2aWNlIDogd3AuY3VzdG9taXplKCBydWxlLnNldHRpbmcgKTtcblxuXHRcdFx0XHRcdFx0dmFyIHNldFZpc2liaWxpdHkgPSBmdW5jdGlvbiggY2hlY2tlZFZhbHVlICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgZGlzcGxheWVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB1bmRlZmluZWQgPT0gcnVsZS5vcGVyYXRvciB8fCAnPScgPT0gcnVsZS5vcGVyYXRvciApIHtcblx0XHRcdFx0XHRcdFx0XHRydWxlLm9wZXJhdG9yID0gJz09Jztcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHN3aXRjaCAoIHJ1bGUub3BlcmF0b3IgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnPic6XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5ZWQgPSBjaGVja2VkVmFsdWUgPiBydWxlLnZhbHVlOyBcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnPCc6XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5ZWQgPSBjaGVja2VkVmFsdWUgPCBydWxlLnZhbHVlOyBcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnPj0nOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheWVkID0gY2hlY2tlZFZhbHVlID49IHJ1bGUudmFsdWU7IFxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlICc8PSc6XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5ZWQgPSBjaGVja2VkVmFsdWUgPD0gcnVsZS52YWx1ZTsgXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2luJzpcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXllZCA9IDAgPD0gcnVsZS52YWx1ZS5pbmRleE9mKCBjaGVja2VkVmFsdWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnbm90X2luJzpcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXllZCA9IDAgPiBydWxlLnZhbHVlLmluZGV4T2YoIGNoZWNrZWRWYWx1ZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlICdjb250YWluJzpcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXllZCA9IDAgPD0gY2hlY2tlZFZhbHVlLmluZGV4T2YoIHJ1bGUudmFsdWUgKTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnbm90X2NvbnRhaW4nOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheWVkID0gMCA+IGNoZWNrZWRWYWx1ZS5pbmRleE9mKCBydWxlLnZhbHVlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJyE9Jzpcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXllZCA9IGNoZWNrZWRWYWx1ZSAhPSBydWxlLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlICdlbXB0eSc6XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5ZWQgPSAwID09IGNoZWNrZWRWYWx1ZS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJyFlbXB0eSc6XG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5ZWQgPSAwIDwgY2hlY2tlZFZhbHVlLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0XHRcdGRpc3BsYXllZCA9IGNoZWNrZWRWYWx1ZSA9PSBydWxlLnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHR2YXIgY29udGFpbmVyID0gZWxlbWVudE9iai5jb250YWluZXI7XG5cdFx0XHRcdFx0XHRcdGlmICggJ3NlY3Rpb24nID09PSBlbGVtZW50VHlwZSApIHtcblx0XHRcdFx0XHRcdFx0XHRjb250YWluZXIgPSBlbGVtZW50T2JqLmhlYWRDb250YWluZXI7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpc3BsYXllZCApIHtcblx0XHRcdFx0XHRcdFx0XHRjb250YWluZXIuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRhaW5lci5yZW1vdmVDbGFzcyggJ3N1a2ktY29udGV4dC1oaWRkZW4nICk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGFpbmVyLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0XHRjb250YWluZXIuYWRkQ2xhc3MoICdzdWtpLWNvbnRleHQtaGlkZGVuJyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAnc2VjdGlvbicgPT09IGVsZW1lbnRUeXBlICYmIGVsZW1lbnRPYmouZXhwYW5kZWQoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRPYmouY29sbGFwc2UoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCB1bmRlZmluZWQgIT09IHJ1bGVTZXR0aW5nT2JqICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICdfX2RldmljZScgIT09IHJ1bGUuc2V0dGluZyApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRWaXNpYmlsaXR5KCBydWxlU2V0dGluZ09iai5nZXQoKSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Ly8gQmluZCB0aGUgc2V0dGluZyBmb3IgZnV0dXJlIHVzZS5cblx0XHRcdFx0XHRcdFx0cnVsZVNldHRpbmdPYmouYmluZCggc2V0VmlzaWJpbGl0eSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFJlc2l6ZSBQcmV2aWV3IEZyYW1lIHdoZW4gc2hvdyAvIGhpZGUgQnVpbGRlci5cblx0XHQgKi9cblx0XHR2YXIgcmVzaXplUHJldmlld2VyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHNlY3Rpb24gPSAkKCAnLmNvbnRyb2wtc2VjdGlvbi5zdWtpLWJ1aWxkZXItYWN0aXZlJyApO1xuXG5cdFx0XHRpZiAoIDEzMjQgPD0gd2luZG93LmlubmVyV2lkdGggJiYgJGJvZHkuaGFzQ2xhc3MoICdzdWtpLWhhcy1idWlsZGVyLWFjdGl2ZScgKSAmJiAwIDwgJHNlY3Rpb24ubGVuZ3RoICYmICEgJHNlY3Rpb24uaGFzQ2xhc3MoICdzdWtpLWhpZGUnICkgKSB7XG5cdFx0XHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZXIuY29udGFpbmVyLmNzcyh7IFwiYm90dG9tXCIgOiAkc2VjdGlvbi5vdXRlckhlaWdodCgpICsgJ3B4JyB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZXIuY29udGFpbmVyLmNzcyh7IFwiYm90dG9tXCIgOiBcIlwiIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQkd2luZG93Lm9uKCAncmVzaXplJywgcmVzaXplUHJldmlld2VyICk7XG5cdFx0d3AuY3VzdG9taXplLnByZXZpZXdlZERldmljZS5iaW5kKGZ1bmN0aW9uKCBkZXZpY2UgKSB7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXNpemVQcmV2aWV3ZXIoKTtcblx0XHRcdH0sIDI1MCApO1xuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogUGFnZSBTZXR0aW5nc1xuXHRcdCAqL1xuXHRcdHZhciBpbml0UGFnZVByZXZpZXdCaW5kaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbGFzdFByZXZpZXdVUkwgPSAnJztcblx0XHRcdFxuXHRcdFx0Xy5lYWNoKCBzdWtpQ3VzdG9taXplckNvbnRyb2xzRGF0YS5wcmV2aWV3Q29udGV4dHMsIGZ1bmN0aW9uKCB1cmwsIGtleSApIHtcblx0XHRcdFx0d3AuY3VzdG9taXplLnNlY3Rpb24oIGtleSwgZnVuY3Rpb24oIHNlY3Rpb24gKSB7XG5cdFx0XHRcdFx0c2VjdGlvbi5leHBhbmRlZC5iaW5kKCBmdW5jdGlvbiggaXNFeHBhbmRlZCApIHtcblx0XHRcdFx0XHRcdGlmICggaXNFeHBhbmRlZCApIHtcblx0XHRcdFx0XHRcdFx0bGFzdFByZXZpZXdVUkwgPSB3cC5jdXN0b21pemUucHJldmlld2VyLnByZXZpZXdVcmwuZ2V0KCk7XG5cdFx0XHRcdFx0XHRcdHdwLmN1c3RvbWl6ZS5wcmV2aWV3ZXIucHJldmlld1VybC5zZXQoIHVybCApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d3AuY3VzdG9taXplLnByZXZpZXdlci5wcmV2aWV3VXJsLnNldCggbGFzdFByZXZpZXdVUkwgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpbml0UGFnZVByZXZpZXdCaW5kaW5nKCk7XG5cblx0XHQvKipcblx0XHQgKiBJbml0IEhlYWRlciAmIEZvb3RlciBCdWlsZGVyXG5cdFx0ICovXG5cdFx0dmFyIGluaXRIZWFkZXJGb290ZXJCdWlsZGVyID0gZnVuY3Rpb24oIHBhbmVsICkge1xuXHRcdFx0dmFyIHNlY3Rpb24gPSAnc3VraV9wYW5lbF9oZWFkZXInID09PSBwYW5lbC5pZCA/IHdwLmN1c3RvbWl6ZS5zZWN0aW9uKCAnc3VraV9zZWN0aW9uX2hlYWRlcl9idWlsZGVyJyApIDogd3AuY3VzdG9taXplLnNlY3Rpb24oICdzdWtpX3NlY3Rpb25fZm9vdGVyX2J1aWxkZXInICksXG5cdFx0XHQgICAgJHNlY3Rpb24gPSBzZWN0aW9uLmNvbnRlbnRDb250YWluZXI7XG5cblx0XHRcdC8vIElmIEhlYWRlciBwYW5lbCBpcyBleHBhbmRlZCwgYWRkIGNsYXNzIHRvIHRoZSBib2R5IHRhZyAoZm9yIENTUyBzdHlsaW5nKS5cblx0XHRcdHBhbmVsLmV4cGFuZGVkLmJpbmQoZnVuY3Rpb24oIGlzRXhwYW5kZWQgKSB7XG5cdFx0XHRcdF8uZWFjaCggc2VjdGlvbi5jb250cm9scygpLCBmdW5jdGlvbiggY29udHJvbCApIHtcblx0XHRcdFx0XHRpZiAoICdyZXNvbHZlZCcgPT09IGNvbnRyb2wuZGVmZXJyZWQuZW1iZWRkZWQuc3RhdGUoKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udHJvbC5yZW5kZXJDb250ZW50KCk7XG5cdFx0XHRcdFx0Y29udHJvbC5kZWZlcnJlZC5lbWJlZGRlZC5yZXNvbHZlKCk7IC8vIFRoaXMgdHJpZ2dlcnMgY29udHJvbC5yZWFkeSgpLlxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIEZpcmUgZXZlbnQgYWZ0ZXIgY29udHJvbCBpcyBpbml0aWFsaXplZC5cblx0XHRcdFx0XHRjb250cm9sLmNvbnRhaW5lci50cmlnZ2VyKCAnaW5pdCcgKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKCBpc0V4cGFuZGVkICkge1xuXHRcdFx0XHRcdCRib2R5LmFkZENsYXNzKCAnc3VraS1oYXMtYnVpbGRlci1hY3RpdmUnICk7XG5cdFx0XHRcdFx0JHNlY3Rpb24uYWRkQ2xhc3MoICdzdWtpLWJ1aWxkZXItYWN0aXZlJyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCRib2R5LnJlbW92ZUNsYXNzKCAnc3VraS1oYXMtYnVpbGRlci1hY3RpdmUnICk7XG5cdFx0XHRcdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdzdWtpLWJ1aWxkZXItYWN0aXZlJyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzaXplUHJldmlld2VyKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXR0YWNoIGNhbGxiYWNrIHRvIGJ1aWxkZXIgdG9nZ2xlLlxuXHRcdFx0JHNlY3Rpb24ub24oICdjbGljaycsICcuc3VraS1idWlsZGVyLXRvZ2dsZScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdCRzZWN0aW9uLnRvZ2dsZUNsYXNzKCAnc3VraS1oaWRlJyApO1xuXG5cdFx0XHRcdHJlc2l6ZVByZXZpZXdlcigpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCRzZWN0aW9uLmZpbmQoICcuc3VraS1idWlsZGVyLXNvcnRhYmxlLXBhbmVsJyApLm9uKCAnc29ydG92ZXInLCBmdW5jdGlvbiggZSwgdWkgKSB7XG5cdFx0XHRcdHJlc2l6ZVByZXZpZXdlcigpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBtb3ZlSGVhZGVyRm9vdGVyQnVpbGRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIDEzMjQgPD0gd2luZG93LmlubmVyV2lkdGggKSB7XG5cdFx0XHRcdFx0JHNlY3Rpb24uaW5zZXJ0QWZ0ZXIoICQoICcud3AtZnVsbC1vdmVybGF5LXNpZGViYXItY29udGVudCcgKSApO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmICggc2VjdGlvbi5leHBhbmRlZCgpICkge1xuXHRcdFx0XHRcdFx0c2VjdGlvbi5jb2xsYXBzZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkc2VjdGlvbi5hcHBlbmRUbyggJCggJyNjdXN0b21pemUtdGhlbWUtY29udHJvbHMnICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0d3AuY3VzdG9taXplLmJpbmQoICdwYW5lLWNvbnRlbnRzLXJlZmxvd2VkJywgbW92ZUhlYWRlckZvb3RlckJ1aWxkZXIgKTtcblx0XHRcdCR3aW5kb3cub24oICdyZXNpemUnLCBtb3ZlSGVhZGVyRm9vdGVyQnVpbGRlciApO1xuXHRcdH07XG5cdFx0d3AuY3VzdG9taXplLnBhbmVsKCAnc3VraV9wYW5lbF9oZWFkZXInLCBpbml0SGVhZGVyRm9vdGVyQnVpbGRlciApO1xuXHRcdHdwLmN1c3RvbWl6ZS5wYW5lbCggJ3N1a2lfcGFuZWxfZm9vdGVyJywgaW5pdEhlYWRlckZvb3RlckJ1aWxkZXIgKTtcblx0XHRcblx0XHRpZiAoIHdwLmN1c3RvbWl6ZS5jb250cm9sKCAnZm9vdGVyX2VsZW1lbnRzJyApICkge1xuXHRcdFx0d3AuY3VzdG9taXplLmNvbnRyb2woICdmb290ZXJfZWxlbWVudHMnICkuY29udGFpbmVyLm9uKCAnaW5pdCcsIHNldEN1c3RvbVJlc3BvbnNpdmVFbGVtZW50c0Rpc3BsYXkgKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBJbml0IEhlYWRlciBFbGVtZW50cyBMb2NhdGlvbnMgR3JvdXBpbmdcblx0XHQgKi9cblx0XHR2YXIgaW5pdEhlYWRlckZvb3RlckJ1aWxkZXJFbGVtZW50cyA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dmFyICRjb250cm9sID0gJCggdGhpcyApLFxuXHRcdFx0ICAgIGNvbnRyb2xLZXkgPSAkY29udHJvbC5maW5kKCAnLmN1c3RvbWl6ZS1jb250cm9sLWNvbnRlbnQnICkuYXR0ciggJ2RhdGEtbmFtZScgKTtcblxuXHRcdFx0aWYgKCAhIHN1a2lDdXN0b21pemVyQ29udHJvbHNEYXRhLmhlYWRlckZvb3RlckJ1aWxkZXJTdHJ1Y3R1cmVzWyBjb250cm9sS2V5IF0gKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG1vZGUgPSAwIDw9ICRjb250cm9sLmF0dHIoICdpZCcgKS5pbmRleE9mKCAnaGVhZGVyJyApID8gJ2hlYWRlcicgOiAnZm9vdGVyJyxcblx0XHRcdCAgICAkZ3JvdXBXcmFwcGVyID0gJGNvbnRyb2wuZmluZCggJy5zdWtpLWJ1aWxkZXItbG9jYXRpb25zJyApLmFkZENsYXNzKCAnc3VraS1idWlsZGVyLWdyb3VwcycgKTtcblx0XHRcdCAgICAvLyB2ZXJ0aWNhbFNlbGVjdG9yID0gJy5zdWtpLWJ1aWxkZXItbG9jYXRpb24tdmVydGljYWxfdG9wLCAuc3VraS1idWlsZGVyLWxvY2F0aW9uLXZlcnRpY2FsX21pZGRsZSwgLnN1a2ktYnVpbGRlci1sb2NhdGlvbi12ZXJ0aWNhbF9ib3R0b20sIC5zdWtpLWJ1aWxkZXItbG9jYXRpb24tbW9iaWxlX3ZlcnRpY2FsX3RvcCcsXG5cdFx0XHQgICAgLy8gJHZlcnRpY2FsTG9jYXRpb25zID0gJGNvbnRyb2wuZmluZCggdmVydGljYWxTZWxlY3RvciApLFxuXHRcdFx0ICAgIC8vICRob3Jpem9udGFsTG9jYXRpb25zID0gJGNvbnRyb2wuZmluZCggJy5zdWtpLWJ1aWxkZXItbG9jYXRpb24nICkubm90KCB2ZXJ0aWNhbFNlbGVjdG9yICk7XG5cblx0XHRcdF8uZWFjaCggc3VraUN1c3RvbWl6ZXJDb250cm9sc0RhdGEuaGVhZGVyRm9vdGVyQnVpbGRlclN0cnVjdHVyZXNbIGNvbnRyb2xLZXkgXSwgZnVuY3Rpb24oIGFyZWFzLCBncm91cFR5cGUgKSB7XG5cdFx0XHRcdHZhciBncm91cENsYXNzTmFtZXMgPSAndmVydGljYWwnID09PSBncm91cFR5cGUgPyAnc3VraS1idWlsZGVyLWdyb3VwIHN1a2ktYnVpbGRlci1ncm91cC12ZXJ0aWNhbCBzdWtpLWJ1aWxkZXItbGF5b3V0LWJsb2NrJyA6ICdzdWtpLWJ1aWxkZXItZ3JvdXAgc3VraS1idWlsZGVyLWdyb3VwLWhvcml6b250YWwgc3VraS1idWlsZGVyLWxheW91dC1pbmxpbmUnLFxuXHRcdFx0XHQgICAgJGdyb3VwID0gJCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSApLmFkZENsYXNzKCBncm91cENsYXNzTmFtZXMgKTtcblxuXHRcdFx0XHRfLmVhY2goIGFyZWFzLCBmdW5jdGlvbiggYXJlYURhdGEsIGFyZWFLZXkgKSB7XG5cdFx0XHRcdFx0dmFyICRhcmVhID0gJCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSApLmFkZENsYXNzKCAnc3VraS1idWlsZGVyLWFyZWEnICkuYXR0ciggJ2RhdGEta2V5JywgYXJlYUtleSApLFxuXHRcdFx0XHRcdCAgICAkYXJlYUxhYmVsID0gJCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NwYW4nICkgKS5hZGRDbGFzcyggJ3N1a2ktYnVpbGRlci1hcmVhLWxhYmVsJyApLmh0bWwoIGFyZWFEYXRhLmxhYmVsICksXG5cdFx0XHRcdFx0ICAgICRhcmVhTG9jYXRpb25zID0gJCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKSApLmFkZENsYXNzKCAnc3VraS1idWlsZGVyLWFyZWEtbG9jYXRpb25zJyApO1xuXG5cdFx0XHRcdFx0Xy5lYWNoKCBhcmVhRGF0YS5sb2NhdGlvbnMsIGZ1bmN0aW9uKCBsb2NhdGlvbklEICkge1xuXHRcdFx0XHRcdFx0dmFyICRsb2NhdGlvbiA9ICRjb250cm9sLmZpbmQoICdbZGF0YS1sb2NhdGlvbj1cIicgKyBsb2NhdGlvbklEICsgJ1wiXScgKTtcblxuXHRcdFx0XHRcdFx0aWYgKCAkbG9jYXRpb24gKSB7XG5cdFx0XHRcdFx0XHRcdCRsb2NhdGlvbi5hcHBlbmRUbyggJGFyZWFMb2NhdGlvbnMgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICggMCA8ICRhcmVhTG9jYXRpb25zLmNoaWxkcmVuKCkubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0JGFyZWEuYXBwZW5kVG8oICRncm91cCApO1xuXHRcdFx0XHRcdFx0JGFyZWFMYWJlbC5hcHBlbmRUbyggJGFyZWEgKTtcblx0XHRcdFx0XHRcdCRhcmVhTG9jYXRpb25zLmFwcGVuZFRvKCAkYXJlYSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKCAwIDwgJGdyb3VwLmNoaWxkcmVuKCkubGVuZ3RoICkge1xuXHRcdFx0XHRcdCRncm91cC5hcHBlbmRUbyggJGdyb3VwV3JhcHBlciApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRWxlbWVudCBvbiBjbGljayBqdW1wIHRvIGVsZW1lbnQgb3B0aW9ucy5cblx0XHRcdCRjb250cm9sLm9uKCAnY2xpY2snLCAnLnN1a2ktYnVpbGRlci1sb2NhdGlvbiAuc3VraS1idWlsZGVyLWVsZW1lbnQgPiBzcGFuJywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGVsZW1lbnQgPSAkKCB0aGlzICkucGFyZW50KCAnLnN1a2ktYnVpbGRlci1lbGVtZW50JyApLFxuXHRcdFx0XHQgICAgdGFyZ2V0S2V5ID0gJ2hlYWRpbmdfJyArIG1vZGUgKyAnXycgKyAkZWxlbWVudC5hdHRyKCAnZGF0YS12YWx1ZScgKS5yZXBsYWNlKCAnLScsICdfJyApLFxuXHRcdFx0XHQgICAgdGFyZ2V0Q29udHJvbCA9IHdwLmN1c3RvbWl6ZS5jb250cm9sKCB0YXJnZXRLZXkgKTtcblxuXHRcdFx0XHRpZiAoIHRhcmdldENvbnRyb2wgKSB0YXJnZXRDb250cm9sLmZvY3VzKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gR3JvdXAgZWRpdCBidXR0b24gb24gY2xpY2sganVtcCB0byBncm91cCBzZWN0aW9uLlxuXHRcdFx0JGNvbnRyb2wub24oICdjbGljaycsICcuc3VraS1idWlsZGVyLWFyZWEtbGFiZWwnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciB0YXJnZXRLZXkgPSAnc3VraV9zZWN0aW9uXycgKyBtb2RlICsgJ18nICsgJCggdGhpcyApLnBhcmVudCgpLmF0dHIoICdkYXRhLWtleScgKS5yZXBsYWNlKCAnLScsICdfJyApLFxuXHRcdFx0XHQgICAgdGFyZ2V0U2VjdGlvbiA9IHdwLmN1c3RvbWl6ZS5zZWN0aW9uKCB0YXJnZXRLZXkgKTtcblxuXHRcdFx0XHRpZiAoIHRhcmdldFNlY3Rpb24gKSB0YXJnZXRTZWN0aW9uLmZvY3VzKCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdGlmICggd3AuY3VzdG9taXplLmNvbnRyb2woICdoZWFkZXJfZWxlbWVudHMnICkgKSB7XG5cdFx0XHR3cC5jdXN0b21pemUuY29udHJvbCggJ2hlYWRlcl9lbGVtZW50cycgKS5jb250YWluZXIub24oICdpbml0JywgaW5pdEhlYWRlckZvb3RlckJ1aWxkZXJFbGVtZW50cyApO1xuXHRcdH1cblx0XHRpZiAoIHdwLmN1c3RvbWl6ZS5jb250cm9sKCAnaGVhZGVyX21vYmlsZV9lbGVtZW50cycgKSApIHtcblx0XHRcdHdwLmN1c3RvbWl6ZS5jb250cm9sKCAnaGVhZGVyX21vYmlsZV9lbGVtZW50cycgKS5jb250YWluZXIub24oICdpbml0JywgaW5pdEhlYWRlckZvb3RlckJ1aWxkZXJFbGVtZW50cyApO1xuXHRcdH1cblx0XHRpZiAoIHdwLmN1c3RvbWl6ZS5jb250cm9sKCAnZm9vdGVyX2VsZW1lbnRzJyApICkge1xuXHRcdFx0d3AuY3VzdG9taXplLmNvbnRyb2woICdmb290ZXJfZWxlbWVudHMnICkuY29udGFpbmVyLm9uKCAnaW5pdCcsIGluaXRIZWFkZXJGb290ZXJCdWlsZGVyRWxlbWVudHMgKTtcblx0XHR9XG5cblx0fSk7XG59KSggd3AsIGpRdWVyeSApOyJdfQ==
