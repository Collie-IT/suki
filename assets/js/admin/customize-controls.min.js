!function(e,u){"use strict";var o=u(window),r=(u(document),u("body"));if(null==s)var s=function(e,t){t=decodeURI(t),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))};var t=function(e){var t=e.target;if(""!==t.value){if(""!==t.step){var i=t.step.toString().split("."),n=0;void 0!==i[1]&&(n=i[1].length),Number.isInteger(Number(t.value)/Number(t.step))||(t.value=Math.round(Number(t.value)/Number(t.step),n)*Number(t.step))}""!==t.max&&(t.value=Math.min(Number(t.value),Number(t.max))),""!==t.min&&(t.value=Math.max(Number(t.value),Number(t.min))),u(t).trigger("change")}else u(t).trigger("change")};u("#customize-controls").on("blur",'input[type="number"]',t),u("#customize-controls").on("keyup",'input[type="number"]',function(e){13==e.which&&t(e)}),u("#customize-controls").on("focus",'input[type="number"]',function(e){u(this).on("mousewheel.disableScroll",function(e){e.preventDefault()})}),u("#customize-controls").on("blur",'input[type="number"]',function(e){u(this).off("mousewheel.disableScroll")}),wp.customize.sectionConstructor["suki-section-pro-teaser"]=wp.customize.sectionConstructor["suki-section-pro-link"]=wp.customize.sectionConstructor["suki-section-spacer"]=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}}),wp.customize.SukiControl=wp.customize.Control.extend({initialize:function(e,t){var i=t||{};i.params=i.params||{},i.params.type||(i.params.type="suki-base"),i.params.content||(i.params.content=jQuery("<li></li>"),i.params.content.attr("id","customize-control-"+e.replace(/]/g,"").replace(/\[/g,"-")),i.params.content.attr("class","customize-control customize-control-"+i.params.type)),this.propertyElements=[],wp.customize.Control.prototype.initialize.call(this,e,i)},_setUpSettingRootLinks:function(){var n=this;n.container.find("[data-customize-setting-link]").each(function(){var i=jQuery(this);wp.customize(i.data("customizeSettingLink"),function(e){var t=new wp.customize.Element(i);n.elements.push(t),t.sync(e),t.set(e())})})},_setUpSettingPropertyLinks:function(){var n=this;n.setting&&n.container.find("[data-customize-setting-property-link]").each(function(){var t,e=jQuery(this),i=e.data("customizeSettingPropertyLink");t=new wp.customize.Element(e),n.propertyElements.push(t),t.set(n.setting()[i]),t.bind(function(e){var t=n.setting();e!==t[i]&&((t=_.clone(t))[i]=e,n.setting.set(t))}),n.setting.bind(function(e){e[i]!==t.get()&&t.set(e[i])})})},ready:function(){var e=this;e._setUpSettingRootLinks(),e._setUpSettingPropertyLinks(),wp.customize.Control.prototype.ready.call(e),e.deferred.embedded.done(function(){})},embed:function(){var t=this,e=t.section();e&&wp.customize.section(e,function(e){e.expanded()||wp.customize.settings.autofocus.control===t.id?t.actuallyEmbed():e.expanded.bind(function(e){e&&t.actuallyEmbed()})})},actuallyEmbed:function(){var e=this;"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))},focus:function(e){this.actuallyEmbed(),wp.customize.Control.prototype.focus.call(this,e)}}),wp.customize.controlConstructor["suki-base"]=wp.customize.SukiControl,wp.customize.controlConstructor["suki-color"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".color-picker").alphaColorPicker()}}),wp.customize.controlConstructor["suki-shadow"]=wp.customize.SukiControl.extend({ready:function(){var e=this,n=e.container.find(".suki-shadow-input"),t=e.container.find(".suki-shadow-color input"),a=e.container.find(".suki-shadow-value");e.updateValue=function(e,t){var i=n.map(function(){return"text"===this.getAttribute("type")?""===this.value?"rgba(0,0,0,0)":this.value:""===this.value?"0":this.value.toString()+"px"}).get();a.val(i.join(" ")).trigger("change")},t.alphaColorPicker({change:e.updateValue,clear:e.updateValue}),n.on("change blur",e.updateValue)}}),wp.customize.controlConstructor["suki-dimension"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimension-fieldset").each(function(e,t){var i=u(t),n=i.find(".suki-dimension-unit"),a=i.find(".suki-dimension-input"),o=i.find(".suki-dimension-value");n.on("change",function(e){var t=n.find('option[value="'+this.value+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step")),a.val("").trigger("change")}),a.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+n.val().toString();o.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-slider"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-slider-fieldset").each(function(e,t){var i=u(t),n=i.find(".suki-slider-unit"),a=i.find(".suki-slider-input"),o=i.find(".suki-slider-ui"),r=i.find(".suki-slider-reset"),s=i.find(".suki-slider-value");o.slider({value:a.val(),min:+a.attr("min"),max:+a.attr("max"),step:+a.attr("step"),slide:function(e,t){a.val(t.value).trigger("change")}}),r.on("click",function(e){var t=u(this).attr("data-number"),i=u(this).attr("data-unit");n.val(i),a.val(t).trigger("change"),o.slider("value",t)}),n.on("change",function(e){var t=n.find('option[value="'+this.value+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step")),o.slider("option",{min:+a.attr("min"),max:+a.attr("max"),step:+a.attr("step")}),a.val("").trigger("change")}),a.on("change blur",function(e){o.slider("value",this.value);var t=""===this.value?"":this.value.toString()+n.val().toString();s.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-dimensions"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimensions-fieldset").each(function(e,t){var i=u(t),o=i.find(".suki-dimensions-unit"),n=i.find(".suki-dimensions-link"),a=i.find(".suki-dimensions-unlink"),r=i.find(".suki-dimensions-input"),s=i.find(".suki-dimensions-value");o.on("change",function(e){var t=o.find('option[value="'+this.value+'"]');r.attr("min",t.attr("data-min")),r.attr("max",t.attr("data-max")),r.attr("step",t.attr("data-step")),r.val("").trigger("change")}),n.on("click",function(e){e.preventDefault(),i.attr("data-linked","true"),r.val(r.first().val()).trigger("change"),r.first().focus()}),a.on("click",function(e){e.preventDefault(),i.attr("data-linked","false"),r.first().focus()}),r.on("keyup mouseup",function(e){"true"==i.attr("data-linked")&&r.not(this).val(this.value).trigger("change")}),r.on("change blur",function(e){var t,i=[],n=o.val().toString(),a=!0;r.each(function(){""===this.value?i.push("0"+n):(i.push(this.value.toString()+n),a=!1)}),t=a?"   ":i.join(" "),s.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-typography"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-typography-size").each(function(e,t){var i=u(t),n=i.find(".suki-typography-size-unit"),a=i.find(".suki-typography-size-input"),o=i.find(".suki-typography-size-value"),r=function(e){var t=n.find('option[value="'+e+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step"))};n.on("change",function(e){r(this.value),a.val("").trigger("change")}),r(n.val()),a.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+n.val().toString();o.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-multicheck"]=wp.customize.SukiControl.extend({ready:function(){var i=this,n=i.container.find(".suki-multicheck-input");n.on("change",function(e){var t=[];n.each(function(){this.checked&&t.push(this.value)}),i.setting.set(t)})}}),wp.customize.controlConstructor["suki-builder"]=wp.customize.SukiControl.extend({ready:function(){var o=this;o.builder=o.container.find(".suki-builder"),o.builderLocations=o.builder.find(".suki-builder-location"),o.builderInactive=o.builder.find(".suki-builder-inactive"),o.updateValue=function(e){if("__inactive"!==e){var t=o.builderLocations.filter('[data-location="'+e+'"]').find(".suki-builder-element"),i=[];t.each(function(){i.push(u(this).attr("data-value"))}),null!==o.settings?o.settings[e].set(i):o.setting.set(i)}},o.container.on("keyup","[tabindex]",function(e){13!=e.which&&32!=e.which||u(this).trigger("click")}),o.container.on("click",".suki-builder-element-add",function(e){e.preventDefault();var t=u(this),i=t.closest(".suki-builder-location"),n=t.closest(".suki-builder-locations");o.builderInactive.prev().get(0)==i.get(0)&&o.builderInactive.hasClass("show")?o.builderInactive.removeClass("show").appendTo(n):o.builderInactive.addClass("show").insertAfter(i)}),o.container.on("click",".suki-builder-inactive .suki-builder-element",function(e){if(e.preventDefault(),o.builderInactive.hasClass("show")){var t=u(this),i=o.builderInactive.prev(".suki-builder-location");t.appendTo(i.children(".suki-builder-sortable-panel")),o.builderInactive.removeClass("show"),o.updateValue(i.attr("data-location"))}}),o.container.on("click",".suki-builder-element-delete",function(e){e.preventDefault();var t=u(this).parent(".suki-builder-element"),i=t.closest(".suki-builder-location");t.prependTo(o.builderInactive.children(".suki-builder-sortable-panel")),o.updateValue(i.attr("data-location"))}),o.container.find(".suki-builder-sortable-panel").sortable({items:".suki-builder-element:not(.suki-builder-element-disabled)",connectWith:'.suki-builder-sortable-panel[data-connect="'+o.builder.attr("data-name")+'"]',containment:o.container,update:function(e,t){o.updateValue(u(e.target).parent().attr("data-location"))},receive:function(e,t){0<=u(t.item).attr("data-limitations").split(",").indexOf(u(this).parent().attr("data-location"))&&u(t.sender).sortable("cancel")},start:function(e,t){for(var i=u(t.item).attr("data-limitations").split(","),n=0;n<i.length;++n){var a=o.builderLocations.filter('[data-location="'+i[n]+'"]');void 0!==a&&a.addClass("disabled")}},stop:function(e,t){o.builderLocations.removeClass("disabled"),o.builderInactive.removeClass("disabled")}}).disableSelection()}}),wp.customize.bind("ready",function(){u("#customize-controls").on("click",".suki-responsive-switcher-button",function(e){e.preventDefault(),wp.customize.previewedDevice.set(u(this).attr("data-device"))});var t=function(){var e=wp.customize.previewedDevice.get(),t=u("span.suki-responsive-switcher-button"),i=u(".suki-responsive-switcher-button.nav-tab");u(".suki-responsive-fieldset").removeClass("active").filter(".preview-"+e).addClass("active"),t.removeClass("active").filter(".preview-"+e).addClass("active"),i.removeClass("nav-tab-active").filter(".preview-"+e).addClass("nav-tab-active")};wp.customize.previewedDevice.bind(t),wp.customize.section.each(function(e){e.expanded.bind(t)}),u("#customize-controls").on("click",".suki-customize-set-preview-url",function(e){e.preventDefault();var t=u(this).attr("href"),i=s("url",t);i!==wp.customize.previewer.previewUrl()&&wp.customize.previewer.previewUrl(i)}),u("#customize-controls").on("click",".suki-customize-goto-control",function(e){e.preventDefault();var t=u(this).attr("href"),i=s("autofocus[control]",t),n=s("autofocus[section]",t),a=s("autofocus[panel]",t);i?wp.customize.control(i).focus():n?wp.customize.section(n).focus():a&&wp.customize.panel(a).focus()}),sukiCustomizerControlsData&&sukiCustomizerControlsData.contexts&&_.each(sukiCustomizerControlsData.contexts,function(i,e){var c=function(e){switch(e){case"__device":return wp.customize.previewedDevice;default:return wp.customize(e)}},t=function(e){var t=function(){var s=!1,u=i.relation;return"OR"!==u&&(u="AND",s=!0),_.each(i,function(e,t){if("relation"!=t&&("AND"!=u||0!=s)&&void 0!==e.setting){var i=!1,n=c(e.setting);if(void 0!==n){var a=e.operator,o=e.value,r=n.get();switch(null!=a&&"="!=a||(a="=="),a){case">":i=o<r;break;case"<":i=r<o;break;case">=":i=o<=r;break;case"<=":i=r<=o;break;case"in":i=0<=o.indexOf(r);break;case"not_in":i=0<o.indexOf(r);break;case"contain":i=0<=r.indexOf(o);break;case"not_contain":i=0<r.indexOf(o);break;case"!=":i=o!=r;break;case"empty":i=0==r.length;break;case"!empty":i=0<r.length;break;default:i=o==r}}switch(u){case"OR":s=s||i;break;default:s=s&&i}}}),s},n=function(){e.active.set(t())};_.each(i,function(e,t){if("relation"!=t){var i=c(e.setting);void 0!==i&&i.bind(n)}}),e.active.validate=t,n()};0==e.indexOf("suki_section")?wp.customize.section(e,t):wp.customize.control(e,t)});var a=function(){var e=u(".control-section.suki-builder-active");1324<=window.innerWidth&&r.hasClass("suki-has-builder-active")&&0<e.length&&!e.hasClass("suki-hide")?wp.customize.previewer.container.css({bottom:e.outerHeight()+"px"}):wp.customize.previewer.container.css({bottom:""})};o.on("resize",a),wp.customize.previewedDevice.bind(function(e){setTimeout(function(){a()},250)});var e=function(e){var t="suki_panel_header"===e.id?wp.customize.section("suki_section_header_builder"):wp.customize.section("suki_section_footer_builder"),i=t.contentContainer;e.expanded.bind(function(e){_.each(t.controls(),function(e){"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))}),e?(r.addClass("suki-has-builder-active"),i.addClass("suki-builder-active")):(r.removeClass("suki-has-builder-active"),i.removeClass("suki-builder-active")),a()}),i.on("click",".suki-builder-toggle",function(e){e.preventDefault(),i.toggleClass("suki-hide"),a()}),i.find(".suki-builder-sortable-panel").on("sortover",function(e,t){a()});var n=function(){1324<=window.innerWidth?(i.insertAfter(u(".wp-full-overlay-sidebar-content")),t.expanded()&&t.collapse()):i.appendTo(u("#customize-theme-controls"))};wp.customize.bind("pane-contents-reflowed",n),o.on("resize",n)};wp.customize.panel("suki_panel_header",e),wp.customize.panel("suki_panel_footer",e),wp.customize.control("footer_elements").container.on("init",t);var i=function(e){var t=u(this),a=0<=t.attr("id").indexOf("header")?"header":"footer",i=t.find(".suki-builder-locations").addClass("suki-builder-groups"),n=".suki-builder-location-vertical_top, .suki-builder-location-vertical_bottom, .suki-builder-location-mobile_vertical_top",o=t.find(n),r=t.find(".suki-builder-location").not(n);o.length&&u(document.createElement("div")).addClass("suki-builder-group suki-builder-group-vertical suki-builder-layout-block").appendTo(i).append(o),r.length&&u(document.createElement("div")).addClass("suki-builder-group suki-builder-group-horizontal suki-builder-layout-inline").appendTo(i).append(r),t.find('.suki-builder-element[data-value="logo"], .suki-builder-element[data-value="mobile-logo"]').addClass("button-primary"),t.on("click",".suki-builder-location .suki-builder-element > span",function(e){e.preventDefault();var t=u(this).parent(".suki-builder-element"),i="heading_"+a+"_"+t.attr("data-value").replace("-","_"),n=wp.customize.control(i);n&&n.focus()}),t.on("click",".suki-builder-group-edit",function(e){e.preventDefault();var t="suki_section_"+("footer_elements"==control.id?"footer":"header")+"_"+u(this).attr("data-value").replace("-","_"),i=wp.customize.section(t);i&&i.focus()})};wp.customize.control("header_elements").container.on("init",i),wp.customize.control("header_mobile_elements").container.on("init",i),wp.customize.control("footer_elements").container.on("init",i)})}(wp,jQuery);