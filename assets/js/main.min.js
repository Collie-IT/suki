!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.suki={isRTL:function(){return document.body.classList.contains("rtl")},initSubMenuEdgeDetection:function(){var n,d=window.suki.isRTL()?"right":"left",i=function(){for(var e=document.querySelectorAll(".suki-header-section .menu > * > .sub-menu"),t=0;t<e.length;t++){var n=e[t],i=n.closest(".suki-wrapper"),s=i.getBoundingClientRect().left+(window.suki.isRTL()?0:i.offsetWidth),o=n.getBoundingClientRect().left+(window.suki.isRTL()?0:n.offsetWidth),l=window.suki.isRTL()?o<s:s<o;n.classList.remove("suki-sub-menu-edge"),n.style[d]="",l&&(n.classList.add("suki-sub-menu-edge"),n.style[d]=-1*Math.abs(s-o).toString()+"px");for(var u=n.querySelectorAll(".sub-menu"),r=0;r<u.length;r++){var c=u[r],a=c.getBoundingClientRect().left+(window.suki.isRTL()?0:c.offsetWidth);(window.suki.isRTL()?a<s:s<a)&&c.classList.add("suki-sub-menu-right")}}};window.addEventListener("resize",function(){for(var e=document.querySelectorAll(".suki-header-section .menu > * > .sub-menu"),t=0;t<e.length;t++)e[t].style[d]="",e[t].parentElement.classList.remove("focus");clearTimeout(n),n=setTimeout(i,100)}),i()},initHoverMenu:function(){for(var e=function(e){this.parentElement.classList.contains("menu-item-has-children")&&this!==document.activeElement&&(this.focus(),e.preventDefault())},t=function(e){for(var t=this.closest(".suki-hover-menu"),n=this;n!==t;)n.classList.contains("menu-item")&&(n.classList.contains("focus")?n.classList.remove("focus"):n.classList.add("focus")),n=n.parentElement},n=function(e){var t=e.which||e.keyCode;37===t?(e.preventDefault(),this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.firstElementChild.focus()):39===t?(e.preventDefault(),this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.firstElementChild.focus()):40===t?(e.preventDefault(),this.nextElementSibling?this.nextElementSibling.firstElementChild.firstElementChild.focus():this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.firstElementChild.focus()):38===t&&(e.preventDefault(),this.parentElement.previousElementSibling?this.parentElement.previousElementSibling.firstElementChild.focus():this.parentElement.parentElement.previousElementSibling&&this.parentElement.parentElement.previousElementSibling.focus())},i=document.querySelectorAll(".suki-hover-menu .menu-item > a"),s=0;s<i.length;s++)i[s].addEventListener("touchend",e,!1),i[s].addEventListener("focus",t,!1),i[s].addEventListener("blur",t,!1),i[s].addEventListener("keydown",n,!1)},initToggleMenu:function(){for(var e=function(e){e.preventDefault();var t=document.getElementById("masthead"),n=this.parentElement;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(var i=t.querySelectorAll(".menu-item.focus"),s=0;s<i.length;s++)i[s].classList.remove("focus");n.classList.add("focus");var o=n.querySelector(".search-field");o&&setTimeout(function(){o.focus()},300)}},t=document.querySelectorAll(".suki-header-section .suki-toggle-menu .suki-sub-menu-toggle"),n=0;n<t.length;n++)t[n].addEventListener("click",e,!1),t[n].addEventListener("touchend",e,!1);var i=function(e){if(!e.target.closest(".suki-toggle-menu"))for(var t=document.getElementById("masthead").querySelectorAll(".suki-toggle-menu .menu-item.focus"),n=0;n<t.length;n++)t[n].classList.remove("focus")};document.addEventListener("click",i,!1),document.addEventListener("touchend",i,!1)},initVerticalToggleMenu:function(){for(var e=function(e){e.preventDefault();var t=this.parentElement;if(t.classList.contains("focus")){t.classList.remove("focus");for(var n=t.querySelectorAll(".menu-item.focus"),i=0;i<n.length;i++)n[i].classList.remove("focus")}else{var s=t.parentElement.children;for(i=0;i<s.length;i++)s[i].classList.remove("focus");t.classList.add("focus")}},t=document.querySelectorAll(".suki-header-vertical .suki-toggle-menu .suki-sub-menu-toggle"),n=0;n<t.length;n++)t[n].addEventListener("click",e,!1),t[n].addEventListener("touchend",e,!1)},initPopupToggle:function(){for(var n=function(e){for(var t=document.querySelectorAll(".suki-popup-active"+(void 0!==e?".suki-hide-on-"+e:"")),n=0;n<t.length;n++)t[n].classList.remove("suki-popup-active"),document.body.classList.remove("suki-has-popup-active")},e=document.querySelectorAll(".suki-popup-toggle"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("#"+this.getAttribute("data-target"));t&&(t.classList.contains("suki-popup-active")?n():(t.classList.add("suki-popup-active"),document.body.classList.add("suki-has-popup-active")))},!1);var i=document.querySelectorAll(".suki-popup-close");for(t=0;t<i.length;t++)i[t].addEventListener("click",function(e){e.preventDefault(),n()},!1);window.addEventListener("resize",function(e){if(document.body.classList.contains("suki-has-popup-active")){var t="mobile";500<=window.innerWidth&&(t="tablet"),1024<=window.innerWidth&&(t="desktop"),n(t)}})},initAll:function(){window.suki.initSubMenuEdgeDetection(),window.suki.initHoverMenu(),window.suki.initToggleMenu(),window.suki.initVerticalToggleMenu(),window.suki.initPopupToggle()}},document.addEventListener("DOMContentLoaded",window.suki.initAll)}();