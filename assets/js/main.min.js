!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.sukiHelper={getOffset:function(e){if(e instanceof HTMLElement){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}return{top:null,left:null}},isVisible:function(e){return e.offsetWidth>0&&e.offsetHeight>0},isRTL:function(){return document.body.classList.contains("rtl")},slideUp:function(e,t){e&&(t=void 0!==t?t:250,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.removeAttribute("style")}),t))},slideDown:function(e,t){if(e){t=void 0!==t?t:250,e.style.removeProperty("display");var n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;var i=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}},slideToggle:function(e,t){if(e)return t=void 0!==t?t:250,"none"===window.getComputedStyle(e).display?slideDown(e,t):slideUp(e,t)}},window.suki={initKeyboardAndMouseFocus:function(){document.body.addEventListener("keydown",(function(e){document.body.classList.add("using-keyboard")}),!1),document.body.addEventListener("mousedown",(function(e){document.body.classList.remove("using-keyboard")}),!1)},initDropdownMenuReposition:function(){var e=window.sukiHelper.isRTL()?"left":"right",t=function(){Array.prototype.slice.call(document.querySelectorAll(".suki-header-section .menu > * > .sub-menu")).forEach((function(t){var n=t.closest(".suki-header"),i=t.parentElement,o=i.closest(".suki-header-row"),s=o;i.classList.contains("suki-mega-menu")&&i.classList.contains("suki-mega-menu-full-width")?s=n:n.classList.contains("suki-section-contained")&&(s=n.querySelector(".suki-section-inner")),t.classList.remove("suki-sub-menu-edge"),t.style[e]="",t.style.maxWidth=s.offsetWidth+"px";var l=s.getBoundingClientRect()[e],u=t.getBoundingClientRect()[e];if((window.sukiHelper.isRTL()?u<l:u>l)&&(t.classList.add("suki-sub-menu-edge"),t.style[e]=(window.sukiHelper.isRTL()?s.getBoundingClientRect()[e]-o.getBoundingClientRect()[e]:o.getBoundingClientRect()[e]-s.getBoundingClientRect()[e])+"px"),i.classList.contains("suki-mega-menu")&&i.classList.contains("suki-mega-menu-full-width")){var r=n.classList.contains("suki-section-contained")?i.closest(".suki-section-inner").offsetWidth:i.closest(".suki-wrapper").offsetWidth,a=(t.clientWidth-r)/2;t.style.paddingLeft=a-parseFloat(window.getComputedStyle(t.firstElementChild,null).getPropertyValue("padding-left"))+"px",t.style.paddingRight=a-parseFloat(window.getComputedStyle(t.lastElementChild,null).getPropertyValue("padding-left"))+"px"}(t.style.maxHeight=window.innerHeight-t.getBoundingClientRect().top+"px",i.classList.contains("suki-mega-menu"))||Array.prototype.slice.call(t.querySelectorAll(".sub-menu")).forEach((function(e){var t=e.getBoundingClientRect().left+(window.sukiHelper.isRTL()?0:e.getBoundingClientRect().width),n=window.sukiHelper.isRTL()?t<l:t>l;e.classList.remove("suki-sub-menu-right"),n&&e.classList.add("suki-sub-menu-right"),e.style.maxHeight=window.innerHeight-e.getBoundingClientRect().top+"px"}))}))};window.addEventListener("resize",t,!1),t()},initMenuAccessibility:function(){var e=function(e){for(var t=e.target.closest(".suki-hover-menu"),n=this;n!==t;)n.classList.contains("menu-item")&&(n.classList.contains("focus")?n.classList.remove("focus"):n.classList.add("focus")),n=n.parentElement};Array.prototype.slice.call(document.querySelectorAll(".suki-hover-menu .menu-item > a")).forEach((function(t){t.addEventListener("focus",e,!0),t.addEventListener("blur",e,!0)}));document.addEventListener("keydown",(function(e){var t=e.target.closest(".suki-hover-menu .menu-item > a");if(t){var n=e.which||e.keyCode;37===n?(e.preventDefault(),t.parentElement.previousElementSibling&&t.parentElement.previousElementSibling.firstElementChild.focus()):39===n?(e.preventDefault(),t.parentElement.nextElementSibling&&t.parentElement.nextElementSibling.firstElementChild.focus()):40===n?(e.preventDefault(),t.nextElementSibling?t.nextElementSibling.firstElementChild.firstElementChild.focus():t.parentElement.nextElementSibling&&t.parentElement.nextElementSibling.firstElementChild.focus()):38===n&&(e.preventDefault(),t.parentElement.previousElementSibling?t.parentElement.previousElementSibling.firstElementChild.focus():t.parentElement.parentElement.previousElementSibling&&t.parentElement.parentElement.previousElementSibling.focus())}}),!1)},initDoubleTapMobileMenu:function(){document.addEventListener("touchend",(function(e){var t=e.target.closest(".suki-hover-menu .menu-item > a");t&&(t.parentElement.classList.contains("menu-item-has-children")&&t!==document.activeElement&&(e.preventDefault(),document.activeElement.blur(),t.focus()))}),!1)},initClickToggleDropdownMenu:function(){var e=null,t=function(t){var n=t.target.closest(".suki-header-section .suki-toggle-menu .suki-sub-menu-toggle");if(n){t.preventDefault();var i=document.getElementById("masthead"),o=n.parentElement;if(o.classList.contains("focus"))o.classList.remove("focus"),n.setAttribute("aria-expanded",!1);else{Array.prototype.slice.call(i.querySelectorAll(".menu-item.focus")).forEach((function(e){e.classList.remove("focus")})),o.classList.add("focus"),n.setAttribute("aria-expanded",!0);var s=o.querySelector('input[type="search"]');if(s){var l=s.closest(".sub-menu"),u=function(){s.click(),l.removeEventListener("transitionend",u)};l.addEventListener("transitionend",u)}e=n}}};document.addEventListener("click",t,!1),document.addEventListener("touchend",t,!1);var n=function(t){if(!t.target.closest(".suki-header .suki-toggle-menu")){var n=document.getElementById("masthead");if(n)Array.prototype.slice.call(n.querySelectorAll(".suki-toggle-menu .menu-item.focus")).forEach((function(t){t.classList.remove("focus"),e.setAttribute("aria-expanded",!1)}))}};document.addEventListener("click",n,!1),document.addEventListener("touchend",n,!1)},initAccordionMenu:function(){var e=function(e){var t=e.target.closest(".suki-header-section-vertical .suki-toggle-menu .suki-sub-menu-toggle");if(t){e.preventDefault();var n=t.parentElement,i=n.querySelector(".sub-menu");if(n.classList.contains("focus"))window.sukiHelper.slideUp(i),n.classList.remove("focus"),Array.prototype.slice.call(n.querySelectorAll(".menu-item.focus")).forEach((function(e){window.sukiHelper.slideUp(e.querySelector(".sub-menu")),e.classList.remove("focus")}));else Array.prototype.slice.call(n.parentElement.querySelectorAll(".menu-item.focus")).forEach((function(e){window.sukiHelper.slideUp(e.querySelector(".sub-menu")),e.classList.remove("focus")})),window.sukiHelper.slideDown(i),n.classList.add("focus")}};document.addEventListener("click",e,!1),document.addEventListener("touchend",e,!1);var t=function(e){var t=e.target.closest('.suki-header-section-vertical .suki-toggle-menu .menu-item-has-children > .suki-menu-item-link[href="#"]');t&&(e.preventDefault(),t.parentElement.querySelector(".suki-sub-menu-toggle").click())};document.addEventListener("click",t,!1),document.addEventListener("touched",t,!1)},initGlobalPopup:function(){var e=null,t=function(t){Array.prototype.slice.call(document.querySelectorAll(".suki-popup-active"+(void 0!==t?".suki-hide-on-"+t:""))).forEach((function(t){e.classList.remove("suki-popup-toggle-active"),e.setAttribute("aria-expanded",!1),t.classList.remove("suki-popup-active"),document.body.classList.remove("suki-has-popup-active"),t.removeAttribute("tabindex"),document.body.classList.contains("using-keyboard")&&e.focus()}))},n=function(n){var i=n.target.closest(".suki-popup-toggle");if(i){n.preventDefault();var o=document.querySelector("#"+i.getAttribute("data-target"));o&&(o.classList.contains("suki-popup-active")?t():(i.classList.add("suki-popup-toggle-active"),i.setAttribute("aria-expanded",!0),o.classList.add("suki-popup-active"),document.body.classList.add("suki-has-popup-active"),setTimeout((function(){o.setAttribute("tabindex",0),o.focus()}),300),e=i))}};document.addEventListener("click",n,!1),document.addEventListener("touchend",n,!1);var i=function(e){e.target.closest(".suki-popup-close")&&(e.preventDefault(),t())};document.addEventListener("click",i,!1),document.addEventListener("touchend",i,!1);document.addEventListener("keydown",(function(e){var n=e.which||e.keyCode;document.body.classList.contains("suki-has-popup-active")&&27===n&&t()}),!1);window.addEventListener("resize",(function(e){if(document.body.classList.contains("suki-has-popup-active")){var n="mobile";sukiConfig.breakpoints.mobile<=window.innerWidth&&(n="tablet"),sukiConfig.breakpoints.desktop<=window.innerWidth&&(n="desktop"),t(n)}}),!1);var o=function(e){if(e.target.closest(".suki-popup a")){var n=e.target.closest("a");if(""!==n.hash)(window.location.hostname+"/"+window.location.pathname).replace("//$/","")===(n.hostname+"/"+n.pathname).replace("//$/","")&&document.body.classList.contains("suki-has-popup-active")&&t()}};document.addEventListener("click",o,!1),document.addEventListener("touchend",o,!1)},initScrollToTop:function(){var e=document.querySelector(".suki-scroll-to-top");if(e){var t=function(e){if(e.target.closest(".suki-scroll-to-top")){e.preventDefault();var t=e.target.closest(".suki-scroll-to-top"),n=document.getElementById(t.getAttribute("href").replace("#",""));n&&window.scrollTo({top:n.getBoundingClientRect().top,behavior:"smooth"})}};if(document.addEventListener("click",t,!1),document.addEventListener("touchend",t,!1),e.classList.contains("suki-scroll-to-top-display-sticky")){var n=function(){window.pageYOffset>.5*window.innerHeight?e.classList.add("suki-sticky"):e.classList.remove("suki-sticky")};window.addEventListener("scroll",n,!1),n()}}},initAll:function(){window.suki.initKeyboardAndMouseFocus(),window.suki.initDropdownMenuReposition(),window.suki.initMenuAccessibility(),window.suki.initClickToggleDropdownMenu(),window.suki.initDoubleTapMobileMenu(),window.suki.initAccordionMenu(),window.suki.initGlobalPopup(),window.suki.initScrollToTop()}},document.addEventListener("DOMContentLoaded",window.suki.initAll,!1)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsImNsb3Nlc3QiLCJzIiwiZWwiLCJ0aGlzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjb250YWlucyIsInBhcmVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwibm9kZVR5cGUiLCJ3aW5kb3ciLCJzdWtpSGVscGVyIiwiZ2V0T2Zmc2V0IiwiJGVsIiwiSFRNTEVsZW1lbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwicGFnZVlPZmZzZXQiLCJsZWZ0IiwicGFnZVhPZmZzZXQiLCJpc1Zpc2libGUiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImlzUlRMIiwiYm9keSIsImNsYXNzTGlzdCIsInNsaWRlVXAiLCJ0YXJnZXQiLCJkdXJhdGlvbiIsInN0eWxlIiwidHJhbnNpdGlvblByb3BlcnR5IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInNldFRpbWVvdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzbGlkZURvd24iLCJyZW1vdmVQcm9wZXJ0eSIsImRpc3BsYXkiLCJnZXRDb21wdXRlZFN0eWxlIiwic2xpZGVUb2dnbGUiLCJzdWtpIiwiaW5pdEtleWJvYXJkQW5kTW91c2VGb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiYWRkIiwicmVtb3ZlIiwiaW5pdERyb3Bkb3duTWVudVJlcG9zaXRpb24iLCJhbmNob3JTaWRlIiwiY2FsY3VsYXRlU3ViTWVudUVkZ2UiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiJHN1Ym1lbnUiLCIkc2VjdGlvbiIsIiRtZW51SXRlbSIsIiR3cmFwcGVyIiwiJGNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJtYXhXaWR0aCIsImNvbnRhaW5lckVkZ2UiLCJzdWJtZW51RWRnZSIsIm1heENvbnRlbnRXaWR0aCIsInNpZGVQYWRkaW5nIiwiY2xpZW50V2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhcnNlRmxvYXQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImdldFByb3BlcnR5VmFsdWUiLCJwYWRkaW5nUmlnaHQiLCJsYXN0RWxlbWVudENoaWxkIiwibWF4SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCIkc3Vic3VibWVudSIsInN1YnN1Ym1lbnVFZGdlIiwid2lkdGgiLCJpc1N1YnN1Ym1lbnVPdmVyZmxvdyIsImluaXRNZW51QWNjZXNzaWJpbGl0eSIsImhhbmRsZU1lbnVGb2N1c1VzaW5nS2V5Ym9hcmQiLCIkbWVudSIsIiRjdXJyZW50IiwiJG1lbnVMaW5rIiwiJHRoaXMiLCJrZXkiLCJ3aGljaCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJmb2N1cyIsIm5leHRFbGVtZW50U2libGluZyIsImluaXREb3VibGVUYXBNb2JpbGVNZW51IiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJpbml0Q2xpY2tUb2dnbGVEcm9wZG93bk1lbnUiLCIkY2xpY2tlZFRvZ2dsZSIsImhhbmRsZVN1Yk1lbnVUb2dnbGUiLCIkaGVhZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRBdHRyaWJ1dGUiLCIkZm9jdXNlZE1lbnVJdGVtIiwiJHNlYXJjaEJhciIsIiRzdWJNZW51IiwiZm9jdXNTZWFyY2hCYXIiLCJjbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTdWJNZW51Q2xvc2UiLCJpbml0QWNjb3JkaW9uTWVudSIsImhhbmRsZUFjY29yZGlvbk1lbnVUb2dnbGUiLCIkaW5zaWRlTWVudUl0ZW0iLCIkc2libGluZ01lbnVJdGVtIiwiaGFuZGxlQWNjb3JkaW9uTWVudUVtcHR5SGFzaExpbmsiLCJpbml0R2xvYmFsUG9wdXAiLCJkZWFjdGl2YXRlUG9wdXAiLCJkZXZpY2UiLCJ1bmRlZmluZWQiLCIkYWN0aXZlUG9wdXAiLCJoYW5kbGVQb3B1cFRvZ2dsZSIsIiR0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJoYW5kbGVQb3B1cENsb3NlIiwic3VraUNvbmZpZyIsImJyZWFrcG9pbnRzIiwibW9iaWxlIiwiaW5uZXJXaWR0aCIsImRlc2t0b3AiLCJoYW5kbGVIYXNoTGlua0luc2lkZVBvcHVwIiwiJGxpbmsiLCJoYXNoIiwibG9jYXRpb24iLCJob3N0bmFtZSIsInBhdGhuYW1lIiwicmVwbGFjZSIsImluaXRTY3JvbGxUb1RvcCIsIiRzY3JvbGxUb1RvcCIsImhhbmRsZVNjcm9sbFRvVG9wIiwic2Nyb2xsVG8iLCJiZWhhdmlvciIsImNoZWNrU3RpY2t5T2Zmc2V0IiwiaW5pdEFsbCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxhQU1PQSxRQUFRQyxVQUFVQyxVQUN4QkYsUUFBUUMsVUFBVUMsUUFBVUYsUUFBUUMsVUFBVUUsbUJBQXFCSCxRQUFRQyxVQUFVRyx1QkFPL0VKLFFBQVFDLFVBQVVJLFVBQ3hCTCxRQUFRQyxVQUFVSSxRQUFVLFNBQVVDLEdBQ3JDLElBQUlDLEVBQUtDLEtBQ1QsSUFBT0MsU0FBU0MsZ0JBQWdCQyxTQUFVSixHQUN6QyxPQUFPLEtBRVIsRUFBRyxDQUNGLEdBQUtBLEVBQUdMLFFBQVNJLEdBQ2hCLE9BQU9DLEVBRVJBLEVBQUtBLEVBQUdLLGVBQWlCTCxFQUFHTSxpQkFDWixPQUFQTixHQUErQixJQUFoQkEsRUFBR08sVUFDNUIsT0FBTyxPQUlUQyxPQUFPQyxXQUFhLENBSW5CQyxVQUFXLFNBQVVDLEdBQ3BCLEdBQUtBLGFBQWVDLFlBQWMsQ0FDakMsSUFBSUMsRUFBT0YsRUFBSUcsd0JBRWYsTUFBTyxDQUNOQyxJQUFLRixFQUFLRSxJQUFNUCxPQUFPUSxZQUN2QkMsS0FBTUosRUFBS0ksS0FBT1QsT0FBT1UsYUFJM0IsTUFBTyxDQUNOSCxJQUFLLEtBQ0xFLEtBQU0sT0FPUkUsVUFBVyxTQUFVUixHQUNwQixPQUFPQSxFQUFJUyxZQUFjLEdBQUtULEVBQUlVLGFBQWUsR0FNbERDLE1BQU8sV0FDTixPQUFPcEIsU0FBU3FCLEtBQUtDLFVBQVVwQixTQUFVLFFBUTFDcUIsUUFBUyxTQUFVQyxFQUFRQyxHQUNuQkQsSUFFUEMsT0FBaUMsSUFBYkEsRUFBNkJBLEVBQVcsSUFFNURELEVBQU9FLE1BQU1DLG1CQUFxQiwwQkFDbENILEVBQU9FLE1BQU1FLG1CQUFxQkgsRUFBVyxLQUM3Q0QsRUFBT0UsTUFBTUcsT0FBU0wsRUFBT0wsYUFBZSxLQUM1Q0ssRUFBT0wsYUFDUEssRUFBT0UsTUFBTUksU0FBVyxTQUN4Qk4sRUFBT0UsTUFBTUcsT0FBUyxFQUN0QkwsRUFBT0UsTUFBTUssV0FBYSxFQUMxQlAsRUFBT0UsTUFBTU0sY0FBZ0IsRUFDN0JSLEVBQU9FLE1BQU1PLFVBQVksRUFDekJULEVBQU9FLE1BQU1RLGFBQWUsRUFFNUI1QixPQUFPNkIsWUFBWSxXQUNsQlgsRUFBT1ksZ0JBQWlCLFdBQ3RCWCxLQVFKWSxVQUFXLFNBQVViLEVBQVFDLEdBQzVCLEdBQU9ELEVBQVAsQ0FFQUMsT0FBaUMsSUFBYkEsRUFBNkJBLEVBQVcsSUFFNURELEVBQU9FLE1BQU1ZLGVBQWdCLFdBRTdCLElBQUlDLEVBQVVqQyxPQUFPa0MsaUJBQWtCaEIsR0FBU2UsUUFDL0IsU0FBWkEsSUFDSkEsRUFBVSxTQUVYZixFQUFPRSxNQUFNYSxRQUFVQSxFQUV2QixJQUFJVixFQUFTTCxFQUFPTCxhQUVwQkssRUFBT0UsTUFBTUksU0FBVyxTQUN4Qk4sRUFBT0UsTUFBTUcsT0FBUyxFQUN0QkwsRUFBT0UsTUFBTUssV0FBYSxFQUMxQlAsRUFBT0UsTUFBTU0sY0FBZ0IsRUFDN0JSLEVBQU9FLE1BQU1PLFVBQVksRUFDekJULEVBQU9FLE1BQU1RLGFBQWUsRUFDNUJWLEVBQU9MLGFBQ1BLLEVBQU9FLE1BQU1DLG1CQUFxQiwwQkFDbENILEVBQU9FLE1BQU1FLG1CQUFxQkgsRUFBVyxLQUM3Q0QsRUFBT0UsTUFBTUcsT0FBU0EsRUFBUyxLQUMvQkwsRUFBT0UsTUFBTVksZUFBZ0IsZUFDN0JkLEVBQU9FLE1BQU1ZLGVBQWdCLGtCQUM3QmQsRUFBT0UsTUFBTVksZUFBZ0IsY0FDN0JkLEVBQU9FLE1BQU1ZLGVBQWdCLGlCQUU3QmhDLE9BQU82QixZQUFZLFdBQ2xCWCxFQUFPRSxNQUFNWSxlQUFnQixVQUM3QmQsRUFBT0UsTUFBTVksZUFBZ0IsWUFDN0JkLEVBQU9FLE1BQU1ZLGVBQWdCLHVCQUM3QmQsRUFBT0UsTUFBTVksZUFBZ0IseUJBQzNCYixLQVFKZ0IsWUFBYSxTQUFVakIsRUFBUUMsR0FDOUIsR0FBT0QsRUFJUCxPQUZBQyxPQUFpQyxJQUFiQSxFQUE2QkEsRUFBVyxJQUVULFNBQTlDbkIsT0FBT2tDLGlCQUFrQmhCLEdBQVNlLFFBQy9CRixVQUFXYixFQUFRQyxHQUVuQkYsUUFBU0MsRUFBUUMsS0FLM0JuQixPQUFPb0MsS0FBTyxDQUtiQywwQkFBMkIsV0FDMUIzQyxTQUFTcUIsS0FBS3VCLGlCQUFrQixXQUFXLFNBQVVDLEdBQ3BEN0MsU0FBU3FCLEtBQUtDLFVBQVV3QixJQUFLLHFCQUMzQixHQUVIOUMsU0FBU3FCLEtBQUt1QixpQkFBa0IsYUFBYSxTQUFVQyxHQUN0RDdDLFNBQVNxQixLQUFLQyxVQUFVeUIsT0FBUSxxQkFDOUIsSUFNSkMsMkJBQTRCLFdBQzNCLElBQUlDLEVBQWEzQyxPQUFPQyxXQUFXYSxRQUFVLE9BQVMsUUFFbEQ4QixFQUF1QixXQUVWQyxNQUFNM0QsVUFBVTRELE1BQU1DLEtBQU1yRCxTQUFTc0QsaUJBQWtCLCtDQUM3REMsU0FBUSxTQUFVQyxHQUMzQixJQUFJQyxFQUFXRCxFQUFTNUQsUUFBUyxnQkFDN0I4RCxFQUFZRixFQUFTckQsY0FDckJ3RCxFQUFXRCxFQUFVOUQsUUFBUyxvQkFDOUJnRSxFQUFhRCxFQUdaRCxFQUFVcEMsVUFBVXBCLFNBQVUsbUJBQXNCd0QsRUFBVXBDLFVBQVVwQixTQUFVLDZCQUN0RjBELEVBQWFILEVBR0pBLEVBQVNuQyxVQUFVcEIsU0FBVSw0QkFDdEMwRCxFQUFhSCxFQUFTSSxjQUFlLHdCQUl0Q0wsRUFBU2xDLFVBQVV5QixPQUFRLHNCQUMzQlMsRUFBUzlCLE1BQU91QixHQUFlLEdBRy9CTyxFQUFTOUIsTUFBTW9DLFNBQVdGLEVBQVcxQyxZQUFjLEtBRW5ELElBQUk2QyxFQUFnQkgsRUFBV2hELHdCQUF5QnFDLEdBQ3ZEZSxFQUFjUixFQUFTNUMsd0JBQXlCcUMsR0FTakQsSUFScUIzQyxPQUFPQyxXQUFXYSxRQUFVNEMsRUFBY0QsRUFBZ0JDLEVBQWNELEtBSTVGUCxFQUFTbEMsVUFBVXdCLElBQUssc0JBQ3hCVSxFQUFTOUIsTUFBT3VCLElBQWlCM0MsT0FBT0MsV0FBV2EsUUFBVXdDLEVBQVdoRCx3QkFBeUJxQyxHQUFlVSxFQUFTL0Msd0JBQXlCcUMsR0FBZVUsRUFBUy9DLHdCQUF5QnFDLEdBQWVXLEVBQVdoRCx3QkFBeUJxQyxJQUFpQixNQUduUVMsRUFBVXBDLFVBQVVwQixTQUFVLG1CQUFzQndELEVBQVVwQyxVQUFVcEIsU0FBVSw2QkFBZ0MsQ0FDdEgsSUFBSStELEVBQWtCUixFQUFTbkMsVUFBVXBCLFNBQVUsMEJBQTZCd0QsRUFBVTlELFFBQVMsdUJBQXdCc0IsWUFBY3dDLEVBQVU5RCxRQUFTLGlCQUFrQnNCLFlBQzFLZ0QsR0FBZ0JWLEVBQVNXLFlBQWNGLEdBQW9CLEVBRS9EVCxFQUFTOUIsTUFBTTBDLFlBQWdCRixFQUFjRyxXQUFZL0QsT0FBT2tDLGlCQUFrQmdCLEVBQVNjLGtCQUFtQixNQUFPQyxpQkFBa0IsaUJBQXVCLEtBQzlKZixFQUFTOUIsTUFBTThDLGFBQWlCTixFQUFjRyxXQUFZL0QsT0FBT2tDLGlCQUFrQmdCLEVBQVNpQixpQkFBa0IsTUFBT0YsaUJBQWtCLGlCQUF1QixNQUkvSmYsRUFBUzlCLE1BQU1nRCxVQUFjcEUsT0FBT3FFLFlBQWNuQixFQUFTNUMsd0JBQXdCQyxJQUFRLEtBR3RGNkMsRUFBVXBDLFVBQVVwQixTQUFVLG9CQUtoQmlELE1BQU0zRCxVQUFVNEQsTUFBTUMsS0FBTUcsRUFBU0YsaUJBQWtCLGNBQzdEQyxTQUFRLFNBQVVxQixHQUM5QixJQUFJQyxFQUFpQkQsRUFBWWhFLHdCQUF3QkcsTUFBU1QsT0FBT0MsV0FBV2EsUUFBVSxFQUFJd0QsRUFBWWhFLHdCQUF3QmtFLE9BQ3JJQyxFQUF1QnpFLE9BQU9DLFdBQVdhLFFBQVV5RCxFQUFpQmQsRUFBZ0JjLEVBQWlCZCxFQUd0R2EsRUFBWXRELFVBQVV5QixPQUFRLHVCQUd6QmdDLEdBQ0pILEVBQVl0RCxVQUFVd0IsSUFBSyx1QkFJNUI4QixFQUFZbEQsTUFBTWdELFVBQWNwRSxPQUFPcUUsWUFBY0MsRUFBWWhFLHdCQUF3QkMsSUFBUSxZQUtwR1AsT0FBT3NDLGlCQUFrQixTQUFVTSxHQUFzQixHQUN6REEsS0FNRDhCLHNCQUF1QixXQU10QixJQUFJQyxFQUErQixTQUFVcEMsR0FLNUMsSUFKQSxJQUNJcUMsRUFEUXJDLEVBQUVyQixPQUNJNUIsUUFBUyxvQkFDdkJ1RixFQUFXcEYsS0FFUG9GLElBQWFELEdBQ2ZDLEVBQVM3RCxVQUFVcEIsU0FBVSxlQUM1QmlGLEVBQVM3RCxVQUFVcEIsU0FBVSxTQUNqQ2lGLEVBQVM3RCxVQUFVeUIsT0FBUSxTQUUzQm9DLEVBQVM3RCxVQUFVd0IsSUFBSyxVQUcxQnFDLEVBQVdBLEVBQVNoRixlQUdMZ0QsTUFBTTNELFVBQVU0RCxNQUFNQyxLQUFNckQsU0FBU3NELGlCQUFrQixvQ0FDN0RDLFNBQVEsU0FBVTZCLEdBQzVCQSxFQUFVeEMsaUJBQWtCLFFBQVNxQyxHQUE4QixHQUNuRUcsRUFBVXhDLGlCQUFrQixPQUFRcUMsR0FBOEIsTUFxRG5FakYsU0FBUzRDLGlCQUFrQixXQTlDYSxTQUFVQyxHQUVqRCxJQUFJd0MsRUFBUXhDLEVBQUVyQixPQUFPNUIsUUFBUyxtQ0FDOUIsR0FBT3lGLEVBQVAsQ0FFQSxJQUFJQyxFQUFNekMsRUFBRTBDLE9BQVMxQyxFQUFFMkMsUUFHbEIsS0FBT0YsR0FDWHpDLEVBQUU0QyxpQkFFR0osRUFBTWxGLGNBQWN1Rix3QkFDeEJMLEVBQU1sRixjQUFjdUYsdUJBQXVCcEIsa0JBQWtCcUIsU0FJckQsS0FBT0wsR0FDaEJ6QyxFQUFFNEMsaUJBRUdKLEVBQU1sRixjQUFjeUYsb0JBQ3hCUCxFQUFNbEYsY0FBY3lGLG1CQUFtQnRCLGtCQUFrQnFCLFNBSWpELEtBQU9MLEdBQ2hCekMsRUFBRTRDLGlCQUVHSixFQUFNTyxtQkFDVlAsRUFBTU8sbUJBQW1CdEIsa0JBQWtCQSxrQkFBa0JxQixRQUVwRE4sRUFBTWxGLGNBQWN5RixvQkFDN0JQLEVBQU1sRixjQUFjeUYsbUJBQW1CdEIsa0JBQWtCcUIsU0FJakQsS0FBT0wsSUFDaEJ6QyxFQUFFNEMsaUJBRUdKLEVBQU1sRixjQUFjdUYsdUJBQ3hCTCxFQUFNbEYsY0FBY3VGLHVCQUF1QnBCLGtCQUFrQnFCLFFBRXBETixFQUFNbEYsY0FBY0EsY0FBY3VGLHdCQUMzQ0wsRUFBTWxGLGNBQWNBLGNBQWN1Rix1QkFBdUJDLGFBSWEsSUFNMUVFLHdCQUF5QixXQXFCeEI3RixTQUFTNEMsaUJBQWtCLFlBakJGLFNBQVVDLEdBRWxDLElBQUl3QyxFQUFReEMsRUFBRXJCLE9BQU81QixRQUFTLG1DQUN2QnlGLElBRVNBLEVBQU1sRixjQUdQbUIsVUFBVXBCLFNBQVUsMkJBQzdCbUYsSUFBVXJGLFNBQVM4RixnQkFDdkJqRCxFQUFFNEMsaUJBRUZ6RixTQUFTOEYsY0FBY0MsT0FDdkJWLEVBQU1NLGFBSWtELElBTTVESyw0QkFBNkIsV0FDNUIsSUFBSUMsRUFBaUIsS0FLakJDLEVBQXNCLFNBQVVyRCxHQUVuQyxJQUFJd0MsRUFBUXhDLEVBQUVyQixPQUFPNUIsUUFBUyxnRUFDOUIsR0FBT3lGLEVBQVAsQ0FFQXhDLEVBQUU0QyxpQkFFRixJQUFJVSxFQUFVbkcsU0FBU29HLGVBQWdCLFlBQ25DMUMsRUFBWTJCLEVBQU1sRixjQUd0QixHQUFLdUQsRUFBVXBDLFVBQVVwQixTQUFVLFNBQ2xDd0QsRUFBVXBDLFVBQVV5QixPQUFRLFNBQzVCc0MsRUFBTWdCLGFBQWMsaUJBQWlCLE9BR2pDLENBQ29CbEQsTUFBTTNELFVBQVU0RCxNQUFNQyxLQUFNOEMsRUFBUTdDLGlCQUFrQixxQkFDNURDLFNBQVEsU0FBVStDLEdBQ25DQSxFQUFpQmhGLFVBQVV5QixPQUFRLFlBR3BDVyxFQUFVcEMsVUFBVXdCLElBQUssU0FDekJ1QyxFQUFNZ0IsYUFBYyxpQkFBaUIsR0FHckMsSUFBSUUsRUFBYTdDLEVBQVVHLGNBQWUsd0JBQzFDLEdBQUswQyxFQUFhLENBQ2pCLElBQUlDLEVBQVdELEVBQVczRyxRQUFTLGFBRS9CNkcsRUFBaUIsV0FDcEJGLEVBQVdHLFFBRVhGLEVBQVNHLG9CQUFxQixnQkFBaUJGLElBR2hERCxFQUFTNUQsaUJBQWtCLGdCQUFpQjZELEdBSTdDUixFQUFpQlosS0FHbkJyRixTQUFTNEMsaUJBQWtCLFFBQVNzRCxHQUFxQixHQUN6RGxHLFNBQVM0QyxpQkFBa0IsV0FBWXNELEdBQXFCLEdBSzVELElBQUlVLEVBQXFCLFNBQVUvRCxHQUVsQyxJQUFPQSxFQUFFckIsT0FBTzVCLFFBQVMsa0NBQXFDLENBQzdELElBQUl1RyxFQUFVbkcsU0FBU29HLGVBQWdCLFlBR3ZDLEdBQUtELEVBQ29CaEQsTUFBTTNELFVBQVU0RCxNQUFNQyxLQUFNOEMsRUFBUTdDLGlCQUFrQix1Q0FDNURDLFNBQVEsU0FBVStDLEdBQ25DQSxFQUFpQmhGLFVBQVV5QixPQUFRLFNBQ25Da0QsRUFBZUksYUFBYyxpQkFBaUIsUUFLbERyRyxTQUFTNEMsaUJBQWtCLFFBQVNnRSxHQUFvQixHQUN4RDVHLFNBQVM0QyxpQkFBa0IsV0FBWWdFLEdBQW9CLElBTTVEQyxrQkFBbUIsV0FJbEIsSUFBSUMsRUFBNEIsU0FBVWpFLEdBRXpDLElBQUl3QyxFQUFReEMsRUFBRXJCLE9BQU81QixRQUFTLHlFQUM5QixHQUFPeUYsRUFBUCxDQUVBeEMsRUFBRTRDLGlCQUVGLElBQUkvQixFQUFZMkIsRUFBTWxGLGNBQ2xCcUcsRUFBVzlDLEVBQVVHLGNBQWUsYUFHeEMsR0FBS0gsRUFBVXBDLFVBQVVwQixTQUFVLFNBQ2xDSSxPQUFPQyxXQUFXZ0IsUUFBU2lGLEdBQzNCOUMsRUFBVXBDLFVBQVV5QixPQUFRLFNBRUxJLE1BQU0zRCxVQUFVNEQsTUFBTUMsS0FBTUssRUFBVUosaUJBQWtCLHFCQUM5REMsU0FBUSxTQUFVd0QsR0FDbEN6RyxPQUFPQyxXQUFXZ0IsUUFBU3dGLEVBQWdCbEQsY0FBZSxjQUMxRGtELEVBQWdCekYsVUFBVXlCLE9BQVEsaUJBS1hJLE1BQU0zRCxVQUFVNEQsTUFBTUMsS0FBTUssRUFBVXZELGNBQWNtRCxpQkFBa0IscUJBQzVFQyxTQUFRLFNBQVV5RCxHQUNuQzFHLE9BQU9DLFdBQVdnQixRQUFTeUYsRUFBaUJuRCxjQUFlLGNBQzNEbUQsRUFBaUIxRixVQUFVeUIsT0FBUSxZQUdwQ3pDLE9BQU9DLFdBQVc4QixVQUFXbUUsR0FDN0I5QyxFQUFVcEMsVUFBVXdCLElBQUssV0FHM0I5QyxTQUFTNEMsaUJBQWtCLFFBQVNrRSxHQUEyQixHQUMvRDlHLFNBQVM0QyxpQkFBa0IsV0FBWWtFLEdBQTJCLEdBS2xFLElBQUlHLEVBQW1DLFNBQVVwRSxHQUVoRCxJQUFJd0MsRUFBUXhDLEVBQUVyQixPQUFPNUIsUUFBUyw0R0FDdkJ5RixJQUVQeEMsRUFBRTRDLGlCQUVjSixFQUFNbEYsY0FDRTBELGNBQWUseUJBSS9CNkMsVUFFVDFHLFNBQVM0QyxpQkFBa0IsUUFBU3FFLEdBQWtDLEdBQ3RFakgsU0FBUzRDLGlCQUFrQixVQUFXcUUsR0FBa0MsSUFNekVDLGdCQUFpQixXQUNoQixJQUFJakIsRUFBaUIsS0FFakJrQixFQUFrQixTQUFVQyxHQUNYakUsTUFBTTNELFVBQVU0RCxNQUFNQyxLQUFNckQsU0FBU3NELGlCQUFrQiwyQkFBeUIrRCxJQUFjRCxFQUFTLGlCQUFtQkEsRUFBUyxNQUV6STdELFNBQVEsU0FBVStELEdBRS9CckIsRUFBZTNFLFVBQVV5QixPQUFRLDRCQUNqQ2tELEVBQWVJLGFBQWMsaUJBQWlCLEdBQzlDaUIsRUFBYWhHLFVBQVV5QixPQUFRLHFCQUMvQi9DLFNBQVNxQixLQUFLQyxVQUFVeUIsT0FBUSx5QkFHaEN1RSxFQUFhbEYsZ0JBQWlCLFlBQ3pCcEMsU0FBU3FCLEtBQUtDLFVBQVVwQixTQUFVLG1CQUN0QytGLEVBQWVOLFlBTWQ0QixFQUFvQixTQUFVMUUsR0FFakMsSUFBSXdDLEVBQVF4QyxFQUFFckIsT0FBTzVCLFFBQVMsc0JBQzlCLEdBQU95RixFQUFQLENBRUF4QyxFQUFFNEMsaUJBRUYsSUFBSStCLEVBQVV4SCxTQUFTNkQsY0FBZSxJQUFNd0IsRUFBTW9DLGFBQWMsZ0JBR3pERCxJQUVGQSxFQUFRbEcsVUFBVXBCLFNBQVUscUJBQ2hDaUgsS0FHQTlCLEVBQU0vRCxVQUFVd0IsSUFBSyw0QkFDckJ1QyxFQUFNZ0IsYUFBYyxpQkFBaUIsR0FDckNtQixFQUFRbEcsVUFBVXdCLElBQUsscUJBQ3ZCOUMsU0FBU3FCLEtBQUtDLFVBQVV3QixJQUFLLHlCQUc3QlgsWUFBVyxXQUNWcUYsRUFBUW5CLGFBQWMsV0FBWSxHQUNsQ21CLEVBQVE3QixVQUNOLEtBR0hNLEVBQWlCWixNQUduQnJGLFNBQVM0QyxpQkFBa0IsUUFBUzJFLEdBQW1CLEdBQ3ZEdkgsU0FBUzRDLGlCQUFrQixXQUFZMkUsR0FBbUIsR0FHMUQsSUFBSUcsRUFBbUIsU0FBVTdFLEdBRXpCQSxFQUFFckIsT0FBTzVCLFFBQVMsdUJBRXpCaUQsRUFBRTRDLGlCQUVGMEIsTUFFRG5ILFNBQVM0QyxpQkFBa0IsUUFBUzhFLEdBQWtCLEdBQ3REMUgsU0FBUzRDLGlCQUFrQixXQUFZOEUsR0FBa0IsR0FVekQxSCxTQUFTNEMsaUJBQWtCLFdBUEgsU0FBVUMsR0FDakMsSUFBSXlDLEVBQU16QyxFQUFFMEMsT0FBUzFDLEVBQUUyQyxRQUVsQnhGLFNBQVNxQixLQUFLQyxVQUFVcEIsU0FBVSwwQkFBNkIsS0FBT29GLEdBQzFFNkIsT0FHdUQsR0FrQnpEN0csT0FBT3NDLGlCQUFrQixVQWZRLFNBQVVDLEdBQzFDLEdBQUs3QyxTQUFTcUIsS0FBS0MsVUFBVXBCLFNBQVUseUJBQTRCLENBQ2xFLElBQUlrSCxFQUFTLFNBRVJPLFdBQVdDLFlBQVlDLFFBQVV2SCxPQUFPd0gsYUFDNUNWLEVBQVMsVUFHTE8sV0FBV0MsWUFBWUcsU0FBV3pILE9BQU93SCxhQUM3Q1YsRUFBUyxXQUdWRCxFQUFpQkMsT0FHNEMsR0FHL0QsSUFBSVksRUFBNEIsU0FBVW5GLEdBRXpDLEdBQU9BLEVBQUVyQixPQUFPNUIsUUFBUyxpQkFBekIsQ0FFQSxJQUFJcUksRUFBUXBGLEVBQUVyQixPQUFPNUIsUUFBUyxLQUc5QixHQUFLLEtBQU9xSSxFQUFNQyxNQUNENUgsT0FBTzZILFNBQVNDLFNBQVcsSUFBTTlILE9BQU82SCxTQUFTRSxVQUFXQyxRQUFTLE9BQVMsT0FDOUVMLEVBQU1HLFNBQVcsSUFBTUgsRUFBTUksVUFBV0MsUUFBUyxPQUFTLEtBS3BFdEksU0FBU3FCLEtBQUtDLFVBQVVwQixTQUFVLDBCQUN0Q2lILE1BS0puSCxTQUFTNEMsaUJBQWtCLFFBQVNvRixHQUEyQixHQUMvRGhJLFNBQVM0QyxpQkFBa0IsV0FBWW9GLEdBQTJCLElBTW5FTyxnQkFBaUIsV0FDaEIsSUFBSUMsRUFBZXhJLFNBQVM2RCxjQUFlLHVCQUUzQyxHQUFLMkUsRUFBZSxDQUNuQixJQUFJQyxFQUFvQixTQUFVNUYsR0FFakMsR0FBT0EsRUFBRXJCLE9BQU81QixRQUFTLHVCQUF6QixDQUVBaUQsRUFBRTRDLGlCQUVGLElBQUl3QyxFQUFRcEYsRUFBRXJCLE9BQU81QixRQUFTLHVCQUMxQjRILEVBQVV4SCxTQUFTb0csZUFBZ0I2QixFQUFNUixhQUFjLFFBQVNhLFFBQVMsSUFBSyxLQUU3RWQsR0FDSmxILE9BQU9vSSxTQUFTLENBQ2Y3SCxJQUFLMkcsRUFBUTVHLHdCQUF3QkMsSUFDckM4SCxTQUFVLGFBT2IsR0FIQTNJLFNBQVM0QyxpQkFBa0IsUUFBUzZGLEdBQW1CLEdBQ3ZEekksU0FBUzRDLGlCQUFrQixXQUFZNkYsR0FBbUIsR0FFckRELEVBQWFsSCxVQUFVcEIsU0FBVSxxQ0FBd0MsQ0FDN0UsSUFBSTBJLEVBQW9CLFdBQ2xCdEksT0FBT1EsWUFBYyxHQUFNUixPQUFPcUUsWUFDdEM2RCxFQUFhbEgsVUFBVXdCLElBQUssZUFFNUIwRixFQUFhbEgsVUFBVXlCLE9BQVEsZ0JBR2pDekMsT0FBT3NDLGlCQUFrQixTQUFVZ0csR0FBbUIsR0FDdERBLE9BUUhDLFFBQVMsV0FDUnZJLE9BQU9vQyxLQUFLQyw0QkFDWnJDLE9BQU9vQyxLQUFLTSw2QkFDWjFDLE9BQU9vQyxLQUFLc0Msd0JBQ1oxRSxPQUFPb0MsS0FBS3NELDhCQUNaMUYsT0FBT29DLEtBQUttRCwwQkFDWnZGLE9BQU9vQyxLQUFLbUUsb0JBQ1p2RyxPQUFPb0MsS0FBS3dFLGtCQUNaNUcsT0FBT29DLEtBQUs2RixvQkFJZHZJLFNBQVM0QyxpQkFBa0IsbUJBQW9CdEMsT0FBT29DLEtBQUttRyxTQUFTLEdBdnFCckUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBtYXRjaGVzKCkgcG9sbHlmaWxcblx0ICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9jbG9zZXN0I1BvbHlmaWxsXG5cdCAqL1xuXHRpZiAoICEgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyApIHtcblx0XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNsb3Nlc3QoKSBwb2xseWZpbFxuXHQgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L2Nsb3Nlc3QjUG9seWZpbGxcblx0ICovXG5cdGlmICggISBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ICkge1xuXHRcdEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbiggcyApIHtcblx0XHRcdHZhciBlbCA9IHRoaXM7XG5cdFx0XHRpZiAoICEgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKCBlbCApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKCBlbC5tYXRjaGVzKCBzICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsID0gZWwucGFyZW50RWxlbWVudCB8fCBlbC5wYXJlbnROb2RlO1xuXHRcdFx0fSB3aGlsZSAoIGVsICE9PSBudWxsICYmIGVsLm5vZGVUeXBlID09PSAxICk7IFxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fTtcblx0fVxuXG5cdHdpbmRvdy5zdWtpSGVscGVyID0ge1xuXHRcdC8qKlxuXHRcdCAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZWxlbWVudCdzIG9mZnNldC5cblx0XHQgKi9cblx0XHRnZXRPZmZzZXQ6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHRpZiAoICRlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICkge1xuXHRcdFx0XHR2YXIgcmVjdCA9ICRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG5cdFx0XHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvcDogbnVsbCxcblx0XHRcdFx0bGVmdDogbnVsbCxcblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBlbGVtZW50J3MgdmlzaWJsZSBvciBub3QuXG5cdFx0ICovXG5cdFx0aXNWaXNpYmxlOiBmdW5jdGlvbiggJGVsICkge1xuXHRcdFx0cmV0dXJuICRlbC5vZmZzZXRXaWR0aCA+IDAgJiYgJGVsLm9mZnNldEhlaWdodCA+IDA7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGNoZWNrIFJUTFxuXHRcdCAqL1xuXHRcdGlzUlRMOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyggJ3J0bCcgKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb24gdG8gaGlkZSBhbiBlbGVtZW50IHVzaW5nIHNsaWRlVXAgYW5pbWF0aW9uLlxuXHRcdCAqXG5cdFx0ICogc291cmNlOiBodHRwczovL3czYml0cy5jb20vamF2YXNjcmlwdC1zbGlkZXRvZ2dsZS9cblx0XHQgKi9cblx0XHRzbGlkZVVwOiBmdW5jdGlvbiggdGFyZ2V0LCBkdXJhdGlvbiApIHtcblx0XHRcdGlmICggISB0YXJnZXQgKSByZXR1cm47XG5cblx0XHRcdGR1cmF0aW9uID0gKCB0eXBlb2YgZHVyYXRpb24gIT09ICd1bmRlZmluZWQnICkgPyBkdXJhdGlvbiA6IDI1MDtcblxuXHRcdFx0dGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdoZWlnaHQsIG1hcmdpbiwgcGFkZGluZyc7XG5cdFx0XHR0YXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyAnbXMnO1xuXHRcdFx0dGFyZ2V0LnN0eWxlLmhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQgKyAncHgnO1xuXHRcdFx0dGFyZ2V0Lm9mZnNldEhlaWdodDtcblx0XHRcdHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdFx0dGFyZ2V0LnN0eWxlLmhlaWdodCA9IDA7XG5cdFx0XHR0YXJnZXQuc3R5bGUucGFkZGluZ1RvcCA9IDA7XG5cdFx0XHR0YXJnZXQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IDA7XG5cdFx0XHR0YXJnZXQuc3R5bGUubWFyZ2luVG9wID0gMDtcblx0XHRcdHRhcmdldC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAwO1xuXG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoICdzdHlsZScgKTtcblx0XHRcdH0sIGR1cmF0aW9uICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIHNob3cgYW4gZWxlbWVudCB1c2luZyBzbGlkZURvd24gYW5pbWF0aW9uLlxuXHRcdCAqXG5cdFx0ICogc291cmNlOiBodHRwczovL3czYml0cy5jb20vamF2YXNjcmlwdC1zbGlkZXRvZ2dsZS9cblx0XHQgKi9cblx0XHRzbGlkZURvd246IGZ1bmN0aW9uKCB0YXJnZXQsIGR1cmF0aW9uICkge1xuXHRcdFx0aWYgKCAhIHRhcmdldCApIHJldHVybjtcblxuXHRcdFx0ZHVyYXRpb24gPSAoIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgKSA/IGR1cmF0aW9uIDogMjUwO1xuXG5cdFx0XHR0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoICdkaXNwbGF5JyApO1xuXG5cdFx0XHR2YXIgZGlzcGxheSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCB0YXJnZXQgKS5kaXNwbGF5O1xuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSAnbm9uZScgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0fVxuXHRcdFx0dGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuXG5cdFx0XHR2YXIgaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0dGFyZ2V0LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cdFx0XHR0YXJnZXQuc3R5bGUuaGVpZ2h0ID0gMDtcblx0XHRcdHRhcmdldC5zdHlsZS5wYWRkaW5nVG9wID0gMDtcblx0XHRcdHRhcmdldC5zdHlsZS5wYWRkaW5nQm90dG9tID0gMDtcblx0XHRcdHRhcmdldC5zdHlsZS5tYXJnaW5Ub3AgPSAwO1xuXHRcdFx0dGFyZ2V0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IDA7XG5cdFx0XHR0YXJnZXQub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0dGFyZ2V0LnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdoZWlnaHQsIG1hcmdpbiwgcGFkZGluZyc7XG5cdFx0XHR0YXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gZHVyYXRpb24gKyAnbXMnO1xuXHRcdFx0dGFyZ2V0LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG5cdFx0XHR0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoICdwYWRkaW5nLXRvcCcgKTtcblx0XHRcdHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSggJ3BhZGRpbmctYm90dG9tJyApO1xuXHRcdFx0dGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCAnbWFyZ2luLXRvcCcgKTtcblx0XHRcdHRhcmdldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSggJ21hcmdpbi1ib3R0b20nICk7XG5cblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCAnaGVpZ2h0JyApO1xuXHRcdFx0XHR0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoICdvdmVyZmxvdycgKTtcblx0XHRcdFx0dGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCAndHJhbnNpdGlvbi1kdXJhdGlvbicgKTtcblx0XHRcdFx0dGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCAndHJhbnNpdGlvbi1wcm9wZXJ0eScgKTtcblx0XHRcdH0sIGR1cmF0aW9uICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIHRvZ2dsZSB2aXNpYmlsaXR5IG9mIGFuIGVsZW1lbnQgdXNpbmcgc2xpZGVVcCBvciBTbGlkZURvd24gYW5pbWF0aW9uLlxuXHRcdCAqXG5cdFx0ICogc291cmNlOiBodHRwczovL3czYml0cy5jb20vamF2YXNjcmlwdC1zbGlkZXRvZ2dsZS9cblx0XHQgKi9cblx0XHRzbGlkZVRvZ2dsZTogZnVuY3Rpb24oIHRhcmdldCwgZHVyYXRpb24gKSB7XG5cdFx0XHRpZiAoICEgdGFyZ2V0ICkgcmV0dXJuO1xuXG5cdFx0XHRkdXJhdGlvbiA9ICggdHlwZW9mIGR1cmF0aW9uICE9PSAndW5kZWZpbmVkJyApID8gZHVyYXRpb24gOiAyNTA7XG5cblx0XHRcdGlmICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRhcmdldCApLmRpc3BsYXkgPT09ICdub25lJyApIHtcblx0XHRcdFx0cmV0dXJuIHNsaWRlRG93biggdGFyZ2V0LCBkdXJhdGlvbiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHNsaWRlVXAoIHRhcmdldCwgZHVyYXRpb24gKTtcblx0XHRcdH1cblx0XHR9LFxuXHR9XG5cblx0d2luZG93LnN1a2kgPSB7XG5cblx0XHQvKipcblx0XHQgKiBGdW5jdGlvbiB0byBpbml0IGRpZmZlcmVudCBzdHlsZSBvZiBmb2N1c2VkIGVsZW1lbnQgb24ga2V5Ym9hcmQgdXNlcnMgYW5kIG1vdXNlIHVzZXJzLlxuXHRcdCAqL1xuXHRcdGluaXRLZXlib2FyZEFuZE1vdXNlRm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoICd1c2luZy1rZXlib2FyZCcgKTtcblx0XHRcdH0sIGZhbHNlICk7XG5cblx0XHRcdGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoICd1c2luZy1rZXlib2FyZCcgKTtcblx0XHRcdH0sIGZhbHNlICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGluaXQgZWRnZSBzdWIgbWVudSBkZXRlY3Rpb24gc2NyaXB0LlxuXHRcdCAqL1xuXHRcdGluaXREcm9wZG93bk1lbnVSZXBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhbmNob3JTaWRlID0gd2luZG93LnN1a2lIZWxwZXIuaXNSVEwoKSA/ICdsZWZ0JyA6ICdyaWdodCc7XG5cblx0XHRcdHZhciBjYWxjdWxhdGVTdWJNZW51RWRnZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkc3VibWVudXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5zdWtpLWhlYWRlci1zZWN0aW9uIC5tZW51ID4gKiA+IC5zdWItbWVudScgKSApO1xuXHRcdFx0XHQkc3VibWVudXMuZm9yRWFjaChmdW5jdGlvbiggJHN1Ym1lbnUgKSB7XG5cdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJHN1Ym1lbnUuY2xvc2VzdCggJy5zdWtpLWhlYWRlcicgKSxcblx0XHRcdFx0XHQgICAgJG1lbnVJdGVtID0gJHN1Ym1lbnUucGFyZW50RWxlbWVudCxcblx0XHRcdFx0XHQgICAgJHdyYXBwZXIgPSAkbWVudUl0ZW0uY2xvc2VzdCggJy5zdWtpLWhlYWRlci1yb3cnICksXG5cdFx0XHRcdFx0ICAgICRjb250YWluZXIgPSAkd3JhcHBlcjtcblxuXHRcdFx0XHRcdC8vIEZ1bGwgd2lkdGggbWVnYSBtZW51LCB1c2Ugc2VjdGlvbiBhcyB0aGUgY29udGFpbmVyLlxuXHRcdFx0XHRcdGlmICggJG1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyggJ3N1a2ktbWVnYS1tZW51JyApICYmICRtZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLW1lZ2EtbWVudS1mdWxsLXdpZHRoJyApICkge1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lciA9ICRzZWN0aW9uO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBDb250YWluZWQgc2VjdGlvbiwgdXNlIHNlY3Rpb24gaW5uZXIgYXMgdGhlIGNvbnRhaW5lci5cblx0XHRcdFx0XHRlbHNlIGlmICggJHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3VraS1zZWN0aW9uLWNvbnRhaW5lZCcgKSApIHtcblx0XHRcdFx0XHRcdCRjb250YWluZXIgPSAkc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCAnLnN1a2ktc2VjdGlvbi1pbm5lcicgKTtcblx0XHRcdFx0XHR9IFxuXG5cdFx0XHRcdFx0Ly8gUmVzZXQgaW5saW5lIHN0eWxpbmcuXG5cdFx0XHRcdFx0JHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSggJ3N1a2ktc3ViLW1lbnUtZWRnZScgKTtcblx0XHRcdFx0XHQkc3VibWVudS5zdHlsZVsgYW5jaG9yU2lkZSBdID0gJyc7XG5cblx0XHRcdFx0XHQvLyBTZXQgXCJtYXgtd2lkdGhcIiBiYXNlZCBvbiBjb250YWluZXIncyB3aWR0aC5cblx0XHRcdFx0XHQkc3VibWVudS5zdHlsZS5tYXhXaWR0aCA9ICRjb250YWluZXIub2Zmc2V0V2lkdGggKyAncHgnO1xuXG5cdFx0XHRcdFx0dmFyIGNvbnRhaW5lckVkZ2UgPSAkY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBhbmNob3JTaWRlIF0sXG5cdFx0XHRcdFx0XHRzdWJtZW51RWRnZSA9ICRzdWJtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBhbmNob3JTaWRlIF0sXG5cdFx0XHRcdFx0XHRpc1N1Ym1lbnVPdmVyZmxvdyA9IHdpbmRvdy5zdWtpSGVscGVyLmlzUlRMKCkgPyBzdWJtZW51RWRnZSA8IGNvbnRhaW5lckVkZ2UgOiBzdWJtZW51RWRnZSA+IGNvbnRhaW5lckVkZ2U7XG5cblx0XHRcdFx0XHQvLyBBcHBseSBjbGFzcyBhbmQgbGVmdCBwb3NpdGlvbi5cblx0XHRcdFx0XHRpZiAoIGlzU3VibWVudU92ZXJmbG93ICkge1xuXHRcdFx0XHRcdFx0JHN1Ym1lbnUuY2xhc3NMaXN0LmFkZCggJ3N1a2ktc3ViLW1lbnUtZWRnZScgKTtcblx0XHRcdFx0XHRcdCRzdWJtZW51LnN0eWxlWyBhbmNob3JTaWRlIF0gPSAoIHdpbmRvdy5zdWtpSGVscGVyLmlzUlRMKCkgPyAkY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBhbmNob3JTaWRlIF0gLSAkd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVsgYW5jaG9yU2lkZSBdIDogJHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbIGFuY2hvclNpZGUgXSAtICRjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbIGFuY2hvclNpZGUgXSApICsgJ3B4Jztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICRtZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLW1lZ2EtbWVudScgKSAmJiAkbWVudUl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3VraS1tZWdhLW1lbnUtZnVsbC13aWR0aCcgKSApIHtcblx0XHRcdFx0XHRcdHZhciBtYXhDb250ZW50V2lkdGggPSAkc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLXNlY3Rpb24tY29udGFpbmVkJyApID8gJG1lbnVJdGVtLmNsb3Nlc3QoICcuc3VraS1zZWN0aW9uLWlubmVyJyApLm9mZnNldFdpZHRoIDogJG1lbnVJdGVtLmNsb3Nlc3QoICcuc3VraS13cmFwcGVyJyApLm9mZnNldFdpZHRoLFxuXHRcdFx0XHRcdFx0ICAgIHNpZGVQYWRkaW5nID0gKCAkc3VibWVudS5jbGllbnRXaWR0aCAtIG1heENvbnRlbnRXaWR0aCApIC8gMjtcblxuXHRcdFx0XHRcdFx0JHN1Ym1lbnUuc3R5bGUucGFkZGluZ0xlZnQgPSAoIHNpZGVQYWRkaW5nIC0gcGFyc2VGbG9hdCggd2luZG93LmdldENvbXB1dGVkU3R5bGUoICRzdWJtZW51LmZpcnN0RWxlbWVudENoaWxkLCBudWxsICkuZ2V0UHJvcGVydHlWYWx1ZSggJ3BhZGRpbmctbGVmdCcgKSApICkgKyAncHgnO1xuXHRcdFx0XHRcdFx0JHN1Ym1lbnUuc3R5bGUucGFkZGluZ1JpZ2h0ID0gKCBzaWRlUGFkZGluZyAtIHBhcnNlRmxvYXQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCAkc3VibWVudS5sYXN0RWxlbWVudENoaWxkLCBudWxsICkuZ2V0UHJvcGVydHlWYWx1ZSggJ3BhZGRpbmctbGVmdCcgKSApICkgKyAncHgnO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEFwcGx5IHZlcnRpY2FsIG1heC1oZWlnaHQuXG5cdFx0XHRcdFx0JHN1Ym1lbnUuc3R5bGUubWF4SGVpZ2h0ID0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAkc3VibWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKSArICdweCc7XG5cblx0XHRcdFx0XHQvLyBJZiB0aGlzIGlzIGEgbWVnYSBtZW51LCB0aGVyZSBpcyBubyBuZWVkIHRvIHJlcG9zaXRpb24gdGhlIHN1YnN1Ym1lbnVzLlxuXHRcdFx0XHRcdGlmICggJG1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyggJ3N1a2ktbWVnYS1tZW51JyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEl0ZXJhdGUgdG8gMm5kICYgaGlnaGVyIGxldmVsIHN1Ym1lbnUuXG5cdFx0XHRcdFx0dmFyICRzdWJzdWJtZW51cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCAkc3VibWVudS5xdWVyeVNlbGVjdG9yQWxsKCAnLnN1Yi1tZW51JyApICk7XG5cdFx0XHRcdFx0JHN1YnN1Ym1lbnVzLmZvckVhY2goZnVuY3Rpb24oICRzdWJzdWJtZW51ICkge1xuXHRcdFx0XHRcdFx0dmFyIHN1YnN1Ym1lbnVFZGdlID0gJHN1YnN1Ym1lbnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICggd2luZG93LnN1a2lIZWxwZXIuaXNSVEwoKSA/IDAgOiAkc3Vic3VibWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCApLFxuXHRcdFx0XHRcdFx0XHRpc1N1YnN1Ym1lbnVPdmVyZmxvdyA9IHdpbmRvdy5zdWtpSGVscGVyLmlzUlRMKCkgPyBzdWJzdWJtZW51RWRnZSA8IGNvbnRhaW5lckVkZ2UgOiBzdWJzdWJtZW51RWRnZSA+IGNvbnRhaW5lckVkZ2U7XG5cblx0XHRcdFx0XHRcdC8vIFJlc2V0IGlubGluZSBzdHlsaW5nLlxuXHRcdFx0XHRcdFx0JHN1YnN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSggJ3N1a2ktc3ViLW1lbnUtcmlnaHQnICk7XG5cblx0XHRcdFx0XHRcdC8vIEFwcGx5IGNsYXNzIGFuZCBsZWZ0IHBvc2l0aW9uLlxuXHRcdFx0XHRcdFx0aWYgKCBpc1N1YnN1Ym1lbnVPdmVyZmxvdyApIHtcblx0XHRcdFx0XHRcdFx0JHN1YnN1Ym1lbnUuY2xhc3NMaXN0LmFkZCggJ3N1a2ktc3ViLW1lbnUtcmlnaHQnICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEFwcGx5IHZlcnRpY2FsIG1heC1oZWlnaHQuXG5cdFx0XHRcdFx0XHQkc3Vic3VibWVudS5zdHlsZS5tYXhIZWlnaHQgPSAoIHdpbmRvdy5pbm5lckhlaWdodCAtICRzdWJzdWJtZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCApICsgJ3B4Jztcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgY2FsY3VsYXRlU3ViTWVudUVkZ2UsIGZhbHNlICk7XG5cdFx0XHRjYWxjdWxhdGVTdWJNZW51RWRnZSgpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBGdW5jdGlvbiB0byBpbml0IGhvdmVyIG1lbnUuXG5cdFx0ICovXG5cdFx0aW5pdE1lbnVBY2Nlc3NpYmlsaXR5OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBY2Nlc2liaWxpdHkgdXNpbmcgdGFiIGJ1dHRvblxuXHRcdFx0ICogcmVmOiBodHRwczovL2dpdGh1Yi5jb20vd3BhY2Nlc3NpYmlsaXR5L2ExMXl0aGVtZXBhdHRlcm5zL2Jsb2IvbWFzdGVyL2Ryb3Bkb3duLW1lbnVzL3ZhbmlsbGEtanMvanMvZHJvcGRvd24uanNcblx0XHRcdCAqL1xuXHRcdFx0dmFyIGhhbmRsZU1lbnVGb2N1c1VzaW5nS2V5Ym9hcmQgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0dmFyICR0aGlzID0gZS50YXJnZXQsXG5cdFx0XHRcdCAgICAkbWVudSA9ICR0aGlzLmNsb3Nlc3QoICcuc3VraS1ob3Zlci1tZW51JyApLFxuXHRcdFx0XHQgICAgJGN1cnJlbnQgPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggJGN1cnJlbnQgIT09ICRtZW51ICkge1xuXHRcdFx0XHRcdGlmICggJGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCAnbWVudS1pdGVtJyApICkge1xuXHRcdFx0XHRcdFx0aWYgKCAkY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoICdmb2N1cycgKSApIHtcblx0XHRcdFx0XHRcdFx0JGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JGN1cnJlbnQuY2xhc3NMaXN0LmFkZCggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkY3VycmVudCA9ICRjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZhciAkbWVudUxpbmtzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcuc3VraS1ob3Zlci1tZW51IC5tZW51LWl0ZW0gPiBhJyApICk7XG5cdFx0XHQkbWVudUxpbmtzLmZvckVhY2goZnVuY3Rpb24oICRtZW51TGluayApIHtcblx0XHRcdFx0JG1lbnVMaW5rLmFkZEV2ZW50TGlzdGVuZXIoICdmb2N1cycsIGhhbmRsZU1lbnVGb2N1c1VzaW5nS2V5Ym9hcmQsIHRydWUgKTtcblx0XHRcdFx0JG1lbnVMaW5rLmFkZEV2ZW50TGlzdGVuZXIoICdibHVyJywgaGFuZGxlTWVudUZvY3VzVXNpbmdLZXlib2FyZCwgdHJ1ZSApO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogQWNjZXNpYmlsaXR5IHVzaW5nIGFycm93IG5hdiBidXR0b25zXG5cdFx0XHQgKiByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS93cGFjY2Vzc2liaWxpdHkvYTExeXRoZW1lcGF0dGVybnMvYmxvYi9tYXN0ZXIvbWVudS1rZXlib2FyZC1hcnJvdy1uYXYvdmFuaWxsYS1qcy9qcy9uYXZpZ2F0aW9uLmpzXG5cdFx0XHQgKi9cblx0XHRcdHZhciBoYW5kbGVNZW51TmF2aWdhdGlvblVzaW5nS2V5Ym9hcmQgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGFyZ2V0IGVsZW1lbnQuXG5cdFx0XHRcdHZhciAkdGhpcyA9IGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1ob3Zlci1tZW51IC5tZW51LWl0ZW0gPiBhJyApO1xuXHRcdFx0XHRpZiAoICEgJHRoaXMgKSByZXR1cm47XG5cblx0XHRcdFx0dmFyIGtleSA9IGUud2hpY2ggfHwgZS5rZXlDb2RlO1xuXG5cdFx0XHRcdC8vIGxlZnQga2V5XG5cdFx0XHRcdGlmICggMzcgPT09IGtleSApIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRpZiAoICR0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyApIHtcblx0XHRcdFx0XHRcdCR0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyByaWdodCBrZXlcblx0XHRcdFx0ZWxzZSBpZiAoIDM5ID09PSBrZXkgKSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0aWYgKCAkdGhpcy5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyApIHtcblx0XHRcdFx0XHRcdCR0aGlzLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGRvd24ga2V5XG5cdFx0XHRcdGVsc2UgaWYgKCA0MCA9PT0ga2V5ICkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRcdGlmICggJHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nICkge1xuXHRcdFx0XHRcdFx0JHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKCAkdGhpcy5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyApIHtcblx0XHRcdFx0XHRcdCR0aGlzLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHVwIGtleVxuXHRcdFx0XHRlbHNlIGlmICggMzggPT09IGtleSApIHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRpZiAoICR0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyApIHtcblx0XHRcdFx0XHRcdCR0aGlzLnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICggJHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgKSB7XG5cdFx0XHRcdFx0XHQkdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5mb2N1cygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBoYW5kbGVNZW51TmF2aWdhdGlvblVzaW5nS2V5Ym9hcmQsIGZhbHNlICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGluaXQgZG91YmxlIHRhcCBtZW51IG9uIG1vYmlsZSBkZXZpY2VzLlxuXHRcdCAqL1xuXHRcdGluaXREb3VibGVUYXBNb2JpbGVNZW51OiBmdW5jdGlvbigpIHtcblx0XHRcdC8qKlxuXHRcdFx0ICogTW9iaWxlIFRvdWNoIGZyaWVuZGx5XG5cdFx0XHQgKi9cblx0XHRcdHZhciBoYW5kbGVNZW51T25Nb2JpbGUgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGFyZ2V0IGVsZW1lbnQuXG5cdFx0XHRcdHZhciAkdGhpcyA9IGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1ob3Zlci1tZW51IC5tZW51LWl0ZW0gPiBhJyApO1xuXHRcdFx0XHRpZiAoICEgJHRoaXMgKSByZXR1cm47XG5cblx0XHRcdFx0dmFyICRtZW51SXRlbSA9ICR0aGlzLnBhcmVudEVsZW1lbnQ7XG5cblx0XHRcdFx0Ly8gT25seSBlbmFibGUgZG91YmxlIHRhcCBvbiBtZW51IGl0ZW0gdGhhdCBoYXMgc3ViIG1lbnUgYW5kIGl0J3Mgbm90IGEgZW1wdHkgaGFzaCBsaW5rLlxuXHRcdFx0XHRpZiAoICRtZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoICdtZW51LWl0ZW0taGFzLWNoaWxkcmVuJyApICkge1xuXHRcdFx0XHRcdGlmICggJHRoaXMgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdG91Y2hlbmQgYWN0aW9uIGhlcmUgKGJlZm9yZSBtYW51YWxseSBzZXQgdGhlIGZvY3VzKSB0byBhbGxvdyBmb2N1cyBhY3Rpb25zIGJlbG93LlxuXG5cdFx0XHRcdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHRcdFx0XHRcdCR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBoYW5kbGVNZW51T25Nb2JpbGUsIGZhbHNlICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGluaXQgdG9nZ2xlIG1lbnUuXG5cdFx0ICovXG5cdFx0aW5pdENsaWNrVG9nZ2xlRHJvcGRvd25NZW51OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkY2xpY2tlZFRvZ2dsZSA9IG51bGw7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogVG9nZ2xlIEhhbmRsZXJcblx0XHRcdCAqL1xuXHRcdFx0dmFyIGhhbmRsZVN1Yk1lbnVUb2dnbGUgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGFyZ2V0IGVsZW1lbnQuXG5cdFx0XHRcdHZhciAkdGhpcyA9IGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1oZWFkZXItc2VjdGlvbiAuc3VraS10b2dnbGUtbWVudSAuc3VraS1zdWItbWVudS10b2dnbGUnICk7XG5cdFx0XHRcdGlmICggISAkdGhpcyApIHJldHVybjtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ21hc3RoZWFkJyApLFxuXHRcdFx0XHQgICAgJG1lbnVJdGVtID0gJHRoaXMucGFyZW50RWxlbWVudDtcblxuXHRcdFx0XHQvLyBNZW51IGl0ZW0gYWxyZWFkeSBoYXMgXCJmb2N1c1wiIGNsYXNzLCBzbyBjb2xsYXBzZXMgaXRzZWxmLlxuXHRcdFx0XHRpZiAoICRtZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoICdmb2N1cycgKSApIHtcblx0XHRcdFx0XHQkbWVudUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdCR0aGlzLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIE1lbnUgaXRlbSBkb2Vzbid0IGhhdmUgXCJmb2N1c1wiIGNsYXNzIHlldCwgc28gY29sbGFwc2VzIG90aGVyIGZvY3VzZWQgbWVudSBpdGVtcyBmb3VuZCBpbiB0aGUgaGVhZGVyIGFuZCBmb2N1c2VzIHRoaXMgbWVudSBpdGVtLlxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR2YXIgJGZvY3VzZWRNZW51SXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggJGhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCAnLm1lbnUtaXRlbS5mb2N1cycgKSApO1xuXHRcdFx0XHRcdCRmb2N1c2VkTWVudUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oICRmb2N1c2VkTWVudUl0ZW0gKSB7XG5cdFx0XHRcdFx0XHQkZm9jdXNlZE1lbnVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoICdmb2N1cycgKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdCRtZW51SXRlbS5jbGFzc0xpc3QuYWRkKCAnZm9jdXMnICk7XG5cdFx0XHRcdFx0JHRoaXMuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIE1vdmUgZm9jdXMgdG8gc2VhcmNoIGJhciAoaWYgZXhpc3RzKS5cblx0XHRcdFx0XHR2YXIgJHNlYXJjaEJhciA9ICRtZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAnaW5wdXRbdHlwZT1cInNlYXJjaFwiXScgKTtcblx0XHRcdFx0XHRpZiAoICRzZWFyY2hCYXIgKSB7XG5cdFx0XHRcdFx0XHR2YXIgJHN1Yk1lbnUgPSAkc2VhcmNoQmFyLmNsb3Nlc3QoICcuc3ViLW1lbnUnICk7XG5cblx0XHRcdFx0XHRcdHZhciBmb2N1c1NlYXJjaEJhciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHQkc2VhcmNoQmFyLmNsaWNrKCk7XG5cblx0XHRcdFx0XHRcdFx0JHN1Yk1lbnUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RyYW5zaXRpb25lbmQnLCBmb2N1c1NlYXJjaEJhciApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQkc3ViTWVudS5hZGRFdmVudExpc3RlbmVyKCAndHJhbnNpdGlvbmVuZCcsIGZvY3VzU2VhcmNoQmFyICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGlzIHRvZ2dsZSBmb3IgcHV0dGluZyBiYWNrIGZvY3VzIHdoZW4gcG9wdXAgaXMgZGVhY3RpdmF0ZWQuXG5cdFx0XHRcdFx0JGNsaWNrZWRUb2dnbGUgPSAkdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgaGFuZGxlU3ViTWVudVRvZ2dsZSwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIGhhbmRsZVN1Yk1lbnVUb2dnbGUsIGZhbHNlICk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogQ2xvc2UgSGFuZGxlclxuXHRcdFx0ICovXG5cdFx0XHR2YXIgaGFuZGxlU3ViTWVudUNsb3NlID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSBjbGljayBldmVudCBkb2Vzbid0IGhhcHBlbiBpbnNpZGUgdGhlIG1lbnUgaXRlbSdzIHNjb3BlLlxuXHRcdFx0XHRpZiAoICEgZS50YXJnZXQuY2xvc2VzdCggJy5zdWtpLWhlYWRlciAuc3VraS10b2dnbGUtbWVudScgKSApIHtcblx0XHRcdFx0XHR2YXIgJGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnbWFzdGhlYWQnICksXG5cdFx0XHRcdFx0ICAgICRmb2N1c2VkTWVudUl0ZW1zO1xuXG5cdFx0XHRcdFx0aWYgKCAkaGVhZGVyICkge1xuXHRcdFx0XHRcdFx0dmFyICRmb2N1c2VkTWVudUl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoICRoZWFkZXIucXVlcnlTZWxlY3RvckFsbCggJy5zdWtpLXRvZ2dsZS1tZW51IC5tZW51LWl0ZW0uZm9jdXMnICkgKTtcblx0XHRcdFx0XHRcdCRmb2N1c2VkTWVudUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oICRmb2N1c2VkTWVudUl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRcdCRmb2N1c2VkTWVudUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdFx0XHQkY2xpY2tlZFRvZ2dsZS5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGhhbmRsZVN1Yk1lbnVDbG9zZSwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIGhhbmRsZVN1Yk1lbnVDbG9zZSwgZmFsc2UgKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb24gdG8gaW5pdCBtb2JpbGUgbWVudS5cblx0XHQgKi9cblx0XHRpbml0QWNjb3JkaW9uTWVudTogZnVuY3Rpb24oKSB7XG5cdFx0XHQvKipcblx0XHRcdCAqIFRvZ2dsZSBIYW5kbGVyXG5cdFx0XHQgKi9cblx0XHRcdHZhciBoYW5kbGVBY2NvcmRpb25NZW51VG9nZ2xlID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdC8vIENoZWNrIHRhcmdldCBlbGVtZW50LlxuXHRcdFx0XHR2YXIgJHRoaXMgPSBlLnRhcmdldC5jbG9zZXN0KCAnLnN1a2ktaGVhZGVyLXNlY3Rpb24tdmVydGljYWwgLnN1a2ktdG9nZ2xlLW1lbnUgLnN1a2ktc3ViLW1lbnUtdG9nZ2xlJyApO1xuXHRcdFx0XHRpZiAoICEgJHRoaXMgKSByZXR1cm47XG5cdFx0XHRcdFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRtZW51SXRlbSA9ICR0aGlzLnBhcmVudEVsZW1lbnQsXG5cdFx0XHRcdCAgICAkc3ViTWVudSA9ICRtZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAnLnN1Yi1tZW51JyApO1xuXG5cdFx0XHRcdC8vIE1lbnUgaXRlbSBhbHJlYWR5IGhhcyBcImZvY3VzXCIgY2xhc3MsIHNvIGNvbGxhcHNlcyBpdHNlbGYgYW5kIGFsbCBtZW51IGl0ZW1zIGluc2lkZS5cblx0XHRcdFx0aWYgKCAkbWVudUl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCAnZm9jdXMnICkgKSB7XG5cdFx0XHRcdFx0d2luZG93LnN1a2lIZWxwZXIuc2xpZGVVcCggJHN1Yk1lbnUgKTtcblx0XHRcdFx0XHQkbWVudUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciAkaW5zaWRlTWVudUl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoICRtZW51SXRlbS5xdWVyeVNlbGVjdG9yQWxsKCAnLm1lbnUtaXRlbS5mb2N1cycgKSApO1xuXHRcdFx0XHRcdCRpbnNpZGVNZW51SXRlbXMuZm9yRWFjaChmdW5jdGlvbiggJGluc2lkZU1lbnVJdGVtICkge1xuXHRcdFx0XHRcdFx0d2luZG93LnN1a2lIZWxwZXIuc2xpZGVVcCggJGluc2lkZU1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuc3ViLW1lbnUnICkgKTtcblx0XHRcdFx0XHRcdCRpbnNpZGVNZW51SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCAnZm9jdXMnICk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gTWVudSBpdGVtIGRvZXNuJ3QgaGF2ZSBcImZvY3VzXCIgY2xhc3MgeWV0LCBzbyBjb2xsYXBzZXMgYWxsIGZvY3VzZWQgc2libGluZ3MgYW5kIGZvY3VzZXMgdGhpcyBtZW51IGl0ZW0uXG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHZhciAkc2libGluZ01lbnVJdGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCAkbWVudUl0ZW0ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm1lbnUtaXRlbS5mb2N1cycgKSApO1xuXHRcdFx0XHRcdCRzaWJsaW5nTWVudUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oICRzaWJsaW5nTWVudUl0ZW0gKSB7XG5cdFx0XHRcdFx0XHR3aW5kb3cuc3VraUhlbHBlci5zbGlkZVVwKCAkc2libGluZ01lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuc3ViLW1lbnUnICkgKTtcblx0XHRcdFx0XHRcdCRzaWJsaW5nTWVudUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSggJ2ZvY3VzJyApO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0d2luZG93LnN1a2lIZWxwZXIuc2xpZGVEb3duKCAkc3ViTWVudSApO1xuXHRcdFx0XHRcdCRtZW51SXRlbS5jbGFzc0xpc3QuYWRkKCAnZm9jdXMnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGhhbmRsZUFjY29yZGlvbk1lbnVUb2dnbGUsIGZhbHNlICk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBoYW5kbGVBY2NvcmRpb25NZW51VG9nZ2xlLCBmYWxzZSApO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIEVtcHR5IEhhc2ggTGluayBIYW5kbGVyXG5cdFx0XHQgKi9cblx0XHRcdHZhciBoYW5kbGVBY2NvcmRpb25NZW51RW1wdHlIYXNoTGluayA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHQvLyBDaGVjayB0YXJnZXQgZWxlbWVudC5cblx0XHRcdFx0dmFyICR0aGlzID0gZS50YXJnZXQuY2xvc2VzdCggJy5zdWtpLWhlYWRlci1zZWN0aW9uLXZlcnRpY2FsIC5zdWtpLXRvZ2dsZS1tZW51IC5tZW51LWl0ZW0taGFzLWNoaWxkcmVuID4gLnN1a2ktbWVudS1pdGVtLWxpbmtbaHJlZj1cIiNcIl0nICk7XG5cdFx0XHRcdGlmICggISAkdGhpcyApIHJldHVybjtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRtZW51SXRlbSA9ICR0aGlzLnBhcmVudEVsZW1lbnQsXG5cdFx0XHRcdCAgICAkdG9nZ2xlID0gJG1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuc3VraS1zdWItbWVudS10b2dnbGUnICk7XG5cblx0XHRcdFx0Ly8gSWYgYW4gZW1wdHkgaGFzaCBsaW5rIGlzIGNsaWNrZWQsIHRyaWdnZXIgdGhlIHRvZ2dsZSBjbGljayBldmVudC5cblx0XHRcdFx0Ly8gcmVmOiBodHRwczovL2dvbWFrZXRoaW5ncy5jb20vaG93LXRvLXNpbXVsYXRlLWEtY2xpY2stZXZlbnQtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQkdG9nZ2xlLmNsaWNrKCk7XG5cdFx0XHR9XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBoYW5kbGVBY2NvcmRpb25NZW51RW1wdHlIYXNoTGluaywgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVkJywgaGFuZGxlQWNjb3JkaW9uTWVudUVtcHR5SGFzaExpbmssIGZhbHNlICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGluaXQgcGFnZSBwb3B1cCB0b2dnbGUuXG5cdFx0ICovXG5cdFx0aW5pdEdsb2JhbFBvcHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkY2xpY2tlZFRvZ2dsZSA9IG51bGw7XG5cblx0XHRcdHZhciBkZWFjdGl2YXRlUG9wdXAgPSBmdW5jdGlvbiggZGV2aWNlICkge1xuXHRcdFx0XHR2YXIgJGFjdGl2ZVBvcHVwcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLnN1a2ktcG9wdXAtYWN0aXZlJyArICggdW5kZWZpbmVkICE9PSBkZXZpY2UgPyAnLnN1a2ktaGlkZS1vbi0nICsgZGV2aWNlIDogJycgKSApICk7XG5cblx0XHRcdFx0JGFjdGl2ZVBvcHVwcy5mb3JFYWNoKGZ1bmN0aW9uKCAkYWN0aXZlUG9wdXAgKSB7XG5cdFx0XHRcdFx0Ly8gRGVhY3RpdmF0ZSBwb3B1cC5cblx0XHRcdFx0XHQkY2xpY2tlZFRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCAnc3VraS1wb3B1cC10b2dnbGUtYWN0aXZlJyApO1xuXHRcdFx0XHRcdCRjbGlja2VkVG9nZ2xlLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSApO1xuXHRcdFx0XHRcdCRhY3RpdmVQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCAnc3VraS1wb3B1cC1hY3RpdmUnICk7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCAnc3VraS1oYXMtcG9wdXAtYWN0aXZlJyApO1xuXG5cdFx0XHRcdFx0Ly8gQmFjayBjdXJyZW50IGZvY3VzIHRvIHRoZSB0b2dnbGUuXG5cdFx0XHRcdFx0JGFjdGl2ZVBvcHVwLnJlbW92ZUF0dHJpYnV0ZSggJ3RhYmluZGV4JyApO1xuXHRcdFx0XHRcdGlmICggZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoICd1c2luZy1rZXlib2FyZCcgKSApIHtcblx0XHRcdFx0XHRcdCRjbGlja2VkVG9nZ2xlLmZvY3VzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyAvIGhpZGUgcG9wdXAgd2hlbiB0aGUgdG9nZ2xlIGlzIGNsaWNrZWQuXG5cdFx0XHR2YXIgaGFuZGxlUG9wdXBUb2dnbGUgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGFyZ2V0IGVsZW1lbnQuXG5cdFx0XHRcdHZhciAkdGhpcyA9IGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1wb3B1cC10b2dnbGUnICk7XG5cdFx0XHRcdGlmICggISAkdGhpcyApIHJldHVybjtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgJHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjJyArICR0aGlzLmdldEF0dHJpYnV0ZSggJ2RhdGEtdGFyZ2V0JyApICk7XG5cblx0XHRcdFx0Ly8gQWJvcnQgaWYgbm8gcG9wdXAgdGFyZ2V0IGZvdW5kLlxuXHRcdFx0XHRpZiAoICEgJHRhcmdldCApIHJldHVybjtcblxuXHRcdFx0XHRpZiAoICR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3VraS1wb3B1cC1hY3RpdmUnICkgKSB7XG5cdFx0XHRcdFx0ZGVhY3RpdmF0ZVBvcHVwKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gQWN0aXZhdGUgcG9wdXAuXG5cdFx0XHRcdFx0JHRoaXMuY2xhc3NMaXN0LmFkZCggJ3N1a2ktcG9wdXAtdG9nZ2xlLWFjdGl2ZScgKTtcblx0XHRcdFx0XHQkdGhpcy5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdCR0YXJnZXQuY2xhc3NMaXN0LmFkZCggJ3N1a2ktcG9wdXAtYWN0aXZlJyApO1xuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCggJ3N1a2ktaGFzLXBvcHVwLWFjdGl2ZScgKTtcblxuXHRcdFx0XHRcdC8vIFB1dCBmb2N1cyBvbiBwb3B1cC5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0JHRhcmdldC5zZXRBdHRyaWJ1dGUoICd0YWJpbmRleCcsIDAgKTtcblx0XHRcdFx0XHRcdCR0YXJnZXQuZm9jdXMoKTtcblx0XHRcdFx0XHR9LCAzMDAgKTtcblxuXHRcdFx0XHRcdC8vIFNhdmUgdGhpcyB0b2dnbGUgZm9yIHB1dHRpbmcgYmFjayBmb2N1cyB3aGVuIHBvcHVwIGlzIGRlYWN0aXZhdGVkLlxuXHRcdFx0XHRcdCRjbGlja2VkVG9nZ2xlID0gJHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGhhbmRsZVBvcHVwVG9nZ2xlLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgaGFuZGxlUG9wdXBUb2dnbGUsIGZhbHNlICk7XG5cblx0XHRcdC8vIENsb3NlIHBvcHVwIHdoZW4gYW55IG9mIFwiLnN1a2ktcG9wdXAtY2xvc2VcIiBlbGVtZW50IGlzIGNsaWNrZWQuXG5cdFx0XHR2YXIgaGFuZGxlUG9wdXBDbG9zZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHQvLyBDaGVjayB0YXJnZXQgZWxlbWVudC5cblx0XHRcdFx0aWYgKCAhIGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1wb3B1cC1jbG9zZScgKSApIHJldHVybjtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0ZGVhY3RpdmF0ZVBvcHVwKCk7XG5cdFx0XHR9XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBoYW5kbGVQb3B1cENsb3NlLCBmYWxzZSApO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgaGFuZGxlUG9wdXBDbG9zZSwgZmFsc2UgKTtcblxuXHRcdFx0Ly8gQ2xvc2UgcG9wdXAgdXNpbmcgXCJlc2NhcGVcIiBrZXlib2FyZCBidXR0b24uXG5cdFx0XHR2YXIgaGFuZGxlUG9wdXBFc2NhcGUgPSBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0dmFyIGtleSA9IGUud2hpY2ggfHwgZS5rZXlDb2RlO1xuXG5cdFx0XHRcdGlmICggZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLWhhcy1wb3B1cC1hY3RpdmUnICkgJiYgMjcgPT09IGtleSApIHtcblx0XHRcdFx0XHRkZWFjdGl2YXRlUG9wdXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBoYW5kbGVQb3B1cEVzY2FwZSwgZmFsc2UgKTtcblxuXHRcdFx0Ly8gV2hlbiB3aW5kb3cgcmVzaXplLCBjbG9zZSBBY3RpdmUgUG9wdXBzIGJhc2VkIG9uIHRoZWlyIHJlc3BvbnNpdmUgdmlzaWJpbGl0eSBjbGFzc2VzLlxuXHRcdFx0dmFyIGhhbmRsZVJlc3BvbnNpdmVWaXNpYmlsaXR5ID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGlmICggZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLWhhcy1wb3B1cC1hY3RpdmUnICkgKSB7XG5cdFx0XHRcdFx0dmFyIGRldmljZSA9ICdtb2JpbGUnO1xuXG5cdFx0XHRcdFx0aWYgKCBzdWtpQ29uZmlnLmJyZWFrcG9pbnRzLm1vYmlsZSA8PSB3aW5kb3cuaW5uZXJXaWR0aCApIHtcblx0XHRcdFx0XHRcdGRldmljZSA9ICd0YWJsZXQnO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggc3VraUNvbmZpZy5icmVha3BvaW50cy5kZXNrdG9wIDw9IHdpbmRvdy5pbm5lcldpZHRoICkge1xuXHRcdFx0XHRcdFx0ZGV2aWNlID0gJ2Rlc2t0b3AnO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRlYWN0aXZhdGVQb3B1cCggZGV2aWNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgaGFuZGxlUmVzcG9uc2l2ZVZpc2liaWxpdHksIGZhbHNlICk7XG5cblx0XHRcdC8vIENsb3NlIHBvcHVwIGlmIGFueSBoYXNoIGxpbmsgaXMgY2xpY2tlZC5cblx0XHRcdHZhciBoYW5kbGVIYXNoTGlua0luc2lkZVBvcHVwID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdC8vIENoZWNrIHRhcmdldCBlbGVtZW50LlxuXHRcdFx0XHRpZiAoICEgZS50YXJnZXQuY2xvc2VzdCggJy5zdWtpLXBvcHVwIGEnICkgKSByZXR1cm47XG5cblx0XHRcdFx0dmFyICRsaW5rID0gZS50YXJnZXQuY2xvc2VzdCggJ2EnICk7XG5cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIGxpbmsgaXMgYSBoYXNoIGxpbmsuXG5cdFx0XHRcdGlmICggJycgIT09ICRsaW5rLmhhc2ggKSB7XG5cdFx0XHRcdFx0dmFyIHBhZ2VVUkwgPSAoIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICcvJyArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSApLnJlcGxhY2UoICcvXFwvJC8nLCAnJyApLFxuXHRcdFx0XHRcdCAgICBsaW5rVVJMID0gKCAkbGluay5ob3N0bmFtZSArICcvJyArICRsaW5rLnBhdGhuYW1lICkucmVwbGFjZSggJy9cXC8kLycsICcnICk7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgaGFzaCB0YXJnZXQgaXMgb24gdGhpcyBwYWdlLlxuXHRcdFx0XHRcdGlmICggcGFnZVVSTCA9PT0gbGlua1VSTCApIHtcblx0XHRcdFx0XHRcdC8vIERlYWN0aXZhdGUgYWxsIHBvcHVwcy5cblx0XHRcdFx0XHRcdGlmICggZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoICdzdWtpLWhhcy1wb3B1cC1hY3RpdmUnICkgKSB7XG5cdFx0XHRcdFx0XHRcdGRlYWN0aXZhdGVQb3B1cCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgaGFuZGxlSGFzaExpbmtJbnNpZGVQb3B1cCwgZmFsc2UgKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIGhhbmRsZUhhc2hMaW5rSW5zaWRlUG9wdXAsIGZhbHNlICk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRvIGluaXQgc2Nyb2xsIHRvIHRvcC5cblx0XHQgKi9cblx0XHRpbml0U2Nyb2xsVG9Ub3A6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRzY3JvbGxUb1RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuc3VraS1zY3JvbGwtdG8tdG9wJyApO1xuXG5cdFx0XHRpZiAoICRzY3JvbGxUb1RvcCApIHtcblx0XHRcdFx0dmFyIGhhbmRsZVNjcm9sbFRvVG9wID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgdGFyZ2V0IGVsZW1lbnQuXG5cdFx0XHRcdFx0aWYgKCAhIGUudGFyZ2V0LmNsb3Nlc3QoICcuc3VraS1zY3JvbGwtdG8tdG9wJyApICkgcmV0dXJuO1xuXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0dmFyICRsaW5rID0gZS50YXJnZXQuY2xvc2VzdCggJy5zdWtpLXNjcm9sbC10by10b3AnICksXG5cdFx0XHRcdFx0ICAgICR0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJGxpbmsuZ2V0QXR0cmlidXRlKCAnaHJlZicgKS5yZXBsYWNlKCAnIycsICcnICkgKTtcblxuXHRcdFx0XHRcdGlmICggJHRhcmdldCApIHtcblx0XHRcdFx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7XG5cdFx0XHRcdFx0XHRcdHRvcDogJHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsXG5cdFx0XHRcdFx0XHRcdGJlaGF2aW9yOiAnc21vb3RoJyxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBoYW5kbGVTY3JvbGxUb1RvcCwgZmFsc2UgKTtcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgaGFuZGxlU2Nyb2xsVG9Ub3AsIGZhbHNlICk7XG5cblx0XHRcdFx0aWYgKCAkc2Nyb2xsVG9Ub3AuY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3VraS1zY3JvbGwtdG8tdG9wLWRpc3BsYXktc3RpY2t5JyApICkge1xuXHRcdFx0XHRcdHZhciBjaGVja1N0aWNreU9mZnNldCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCB3aW5kb3cucGFnZVlPZmZzZXQgPiAwLjUgKiB3aW5kb3cuaW5uZXJIZWlnaHQgKSB7XG5cdFx0XHRcdFx0XHRcdCRzY3JvbGxUb1RvcC5jbGFzc0xpc3QuYWRkKCAnc3VraS1zdGlja3knICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQkc2Nyb2xsVG9Ub3AuY2xhc3NMaXN0LnJlbW92ZSggJ3N1a2ktc3RpY2t5JyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIGNoZWNrU3RpY2t5T2Zmc2V0LCBmYWxzZSApO1xuXHRcdFx0XHRcdGNoZWNrU3RpY2t5T2Zmc2V0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb24gdGhhdCBjYWxscyBhbGwgaW5pdCBmdW5jdGlvbnMuXG5cdFx0ICovXG5cdFx0aW5pdEFsbDogZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuc3VraS5pbml0S2V5Ym9hcmRBbmRNb3VzZUZvY3VzKCk7XG5cdFx0XHR3aW5kb3cuc3VraS5pbml0RHJvcGRvd25NZW51UmVwb3NpdGlvbigpO1xuXHRcdFx0d2luZG93LnN1a2kuaW5pdE1lbnVBY2Nlc3NpYmlsaXR5KCk7XG5cdFx0XHR3aW5kb3cuc3VraS5pbml0Q2xpY2tUb2dnbGVEcm9wZG93bk1lbnUoKTtcblx0XHRcdHdpbmRvdy5zdWtpLmluaXREb3VibGVUYXBNb2JpbGVNZW51KCk7XG5cdFx0XHR3aW5kb3cuc3VraS5pbml0QWNjb3JkaW9uTWVudSgpO1xuXHRcdFx0d2luZG93LnN1a2kuaW5pdEdsb2JhbFBvcHVwKCk7XG5cdFx0XHR3aW5kb3cuc3VraS5pbml0U2Nyb2xsVG9Ub3AoKTtcblx0XHR9LFxuXHR9XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTUNvbnRlbnRMb2FkZWQnLCB3aW5kb3cuc3VraS5pbml0QWxsLCBmYWxzZSApO1xuXG59KSgpOyJdfQ==
