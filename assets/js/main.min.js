!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),window.suki={isRTL:function(){return document.body.classList.contains("rtl")},initSubMenuEdgeDetection:function(){var e,t=window.suki.isRTL()?"right":"left",n=function(){for(var e=document.querySelectorAll(".suki-header-section .menu > * > .sub-menu"),n=0;n<e.length;n++){var i=e[n],s=i.closest(".suki-wrapper"),o=s.getBoundingClientRect().left+(window.suki.isRTL()?0:s.offsetWidth),l=i.getBoundingClientRect().left+(window.suki.isRTL()?0:i.offsetWidth),u=window.suki.isRTL()?l<o:l>o;i.classList.remove("suki-sub-menu-edge"),i.style[t]="",u&&(i.classList.add("suki-sub-menu-edge"),i.style[t]=-1*Math.abs(o-l).toString()+"px");for(var r=i.querySelectorAll(".sub-menu"),c=0;c<r.length;c++){var a=r[c],d=a.getBoundingClientRect().left+(window.suki.isRTL()?0:a.offsetWidth),m=window.suki.isRTL()?d<o:d>o;m&&a.classList.add("suki-sub-menu-right")}}};window.addEventListener("resize",function(){for(var i=document.querySelectorAll(".suki-header-section .menu > * > .sub-menu"),s=0;s<i.length;s++)i[s].style[t]="",i[s].parentElement.classList.remove("focus");clearTimeout(e),e=setTimeout(n,100)}),n()},initHoverMenu:function(){for(var e=function(e){this.parentElement.classList.contains("menu-item-has-children")&&this!==document.activeElement&&(this.focus(),e.preventDefault())},t=function(e){for(var t=this.closest(".suki-hover-menu"),n=this;n!==t;)n.classList.contains("menu-item")&&(n.classList.contains("focus")?n.classList.remove("focus"):n.classList.add("focus")),n=n.parentElement},n=function(e){var t=e.which||e.keyCode;37===t?(e.preventDefault(),this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.firstElementChild.focus()):39===t?(e.preventDefault(),this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.firstElementChild.focus()):40===t?(e.preventDefault(),this.nextElementSibling?this.nextElementSibling.firstElementChild.firstElementChild.focus():this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.firstElementChild.focus()):38===t&&(e.preventDefault(),this.parentElement.previousElementSibling?this.parentElement.previousElementSibling.firstElementChild.focus():this.parentElement.parentElement.previousElementSibling&&this.parentElement.parentElement.previousElementSibling.focus())},i=document.querySelectorAll(".suki-hover-menu .menu-item > a"),s=0;s<i.length;s++)i[s].addEventListener("touchend",e,!1),i[s].addEventListener("focus",t,!1),i[s].addEventListener("blur",t,!1),i[s].addEventListener("keydown",n,!1)},initToggleMenu:function(){for(var e=function(e){e.preventDefault();var t=document.getElementById("masthead"),n=this.parentElement;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(var i=t.querySelectorAll(".menu-item.focus"),s=0;s<i.length;s++)i[s].classList.remove("focus");n.classList.add("focus")}},t=document.querySelectorAll(".suki-header-section .suki-toggle-menu .suki-sub-menu-toggle"),n=0;n<t.length;n++)t[n].addEventListener("click",e,!1),t[n].addEventListener("touchend",e,!1);var i=function(e){if(!e.target.closest(".suki-toggle-menu"))for(var t=document.getElementById("masthead"),n=t.querySelectorAll(".suki-toggle-menu .menu-item.focus"),i=0;i<n.length;i++)n[i].classList.remove("focus")};document.addEventListener("click",i,!1),document.addEventListener("touchend",i,!1)},initVerticalToggleMenu:function(){for(var e=function(e){e.preventDefault();var t=this.parentElement;if(t.classList.contains("focus")){t.classList.remove("focus");for(var n=t.querySelectorAll(".menu-item.focus"),i=0;i<n.length;i++)n[i].classList.remove("focus")}else{for(var s=t.parentElement.children,i=0;i<s.length;i++)s[i].classList.remove("focus");t.classList.add("focus")}},t=document.querySelectorAll(".suki-header-vertical .suki-toggle-menu .suki-sub-menu-toggle"),n=0;n<t.length;n++)t[n].addEventListener("click",e,!1),t[n].addEventListener("touchend",e,!1)},initPopupToggle:function(){for(var e=function(e){for(var t=document.querySelectorAll(".suki-popup-active"+(void 0!==e?".suki-hide-on-"+e:"")),n=0;n<t.length;n++)t[n].classList.remove("suki-popup-active"),document.body.classList.remove("suki-has-popup-active")},t=document.querySelectorAll(".suki-popup-toggle"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault();var n=document.querySelector(this.getAttribute("href"));n&&(n.classList.contains("suki-popup-active")?e():(n.classList.add("suki-popup-active"),document.body.classList.add("suki-has-popup-active")))},!1);for(var i=document.querySelectorAll(".suki-popup-close"),n=0;n<i.length;n++)i[n].addEventListener("click",function(t){t.preventDefault(),e()},!1);window.addEventListener("resize",function(t){if(document.body.classList.contains("suki-has-popup-active")){var n="mobile";500<=window.innerWidth&&(n="tablet"),1024<=window.innerWidth&&(n="desktop"),e(n)}})},initAll:function(){window.suki.initSubMenuEdgeDetection(),window.suki.initHoverMenu(),window.suki.initToggleMenu(),window.suki.initVerticalToggleMenu(),window.suki.initPopupToggle()}},document.addEventListener("DOMContentLoaded",window.suki.initAll)}();